/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/sessions/[id]/report-v3/route";
exports.ids = ["app/api/sessions/[id]/report-v3/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&page=%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&page=%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Delta_IV_Sofwares_glass_sandbox_shadcn_crm_dashboard_src_app_api_sessions_id_report_v3_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/sessions/[id]/report-v3/route.ts */ \"(rsc)/./src/app/api/sessions/[id]/report-v3/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/sessions/[id]/report-v3/route\",\n        pathname: \"/api/sessions/[id]/report-v3\",\n        filename: \"route\",\n        bundlePath: \"app/api/sessions/[id]/report-v3/route\"\n    },\n    resolvedPagePath: \"D:\\\\Delta IV\\\\Sofwares\\\\glass\\\\sandbox\\\\shadcn-crm-dashboard\\\\src\\\\app\\\\api\\\\sessions\\\\[id]\\\\report-v3\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Delta_IV_Sofwares_glass_sandbox_shadcn_crm_dashboard_src_app_api_sessions_id_report_v3_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjJfcmVhY3QtZG9tQDE5LjEuMV9yZWFjdEAxOS4xLjFfX3JlYWN0QDE5LjEuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZzZXNzaW9ucyUyRiU1QmlkJTVEJTJGcmVwb3J0LXYzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzZXNzaW9ucyUyRiU1QmlkJTVEJTJGcmVwb3J0LXYzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2Vzc2lvbnMlMkYlNUJpZCU1RCUyRnJlcG9ydC12MyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDRGVsdGElMjBJViU1Q1NvZndhcmVzJTVDZ2xhc3MlNUNzYW5kYm94JTVDc2hhZGNuLWNybS1kYXNoYm9hcmQlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNEZWx0YSUyMElWJTVDU29md2FyZXMlNUNnbGFzcyU1Q3NhbmRib3glNUNzaGFkY24tY3JtLWRhc2hib2FyZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZ0U7QUFDN0k7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXERlbHRhIElWXFxcXFNvZndhcmVzXFxcXGdsYXNzXFxcXHNhbmRib3hcXFxcc2hhZGNuLWNybS1kYXNoYm9hcmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcc2Vzc2lvbnNcXFxcW2lkXVxcXFxyZXBvcnQtdjNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Nlc3Npb25zL1tpZF0vcmVwb3J0LXYzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2Vzc2lvbnMvW2lkXS9yZXBvcnQtdjNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Nlc3Npb25zL1tpZF0vcmVwb3J0LXYzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcRGVsdGEgSVZcXFxcU29md2FyZXNcXFxcZ2xhc3NcXFxcc2FuZGJveFxcXFxzaGFkY24tY3JtLWRhc2hib2FyZFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxzZXNzaW9uc1xcXFxbaWRdXFxcXHJlcG9ydC12M1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&page=%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/sessions/[id]/report-v3/route.ts":
/*!******************************************************!*\
  !*** ./src/app/api/sessions/[id]/report-v3/route.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.57.4/node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _server_repositories_reports_v3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/repositories/reports-v3 */ \"(rsc)/./src/server/repositories/reports-v3.ts\");\n/* harmony import */ var _server_services_report_v3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/services/report-v3 */ \"(rsc)/./src/server/services/report-v3.ts\");\n\n\n\n\n\nasync function getServerClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://hewpwluinbwaizwqhmjc.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\", {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                cookiesToSet.forEach(({ name, value, options })=>cookieStore.set(name, value, options));\n            }\n        }\n    });\n}\nasync function GET(request, { params }) {\n    try {\n        const supabase = await getServerClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n        const { id } = await params;\n        const repo = new _server_repositories_reports_v3__WEBPACK_IMPORTED_MODULE_3__.ReportsV3Repository(supabase);\n        const report = await repo.findBySessionId(id, user.id);\n        if (!report) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Not found'\n        }, {\n            status: 404\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(report);\n    } catch (error) {\n        console.error('Report V3 fetch error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request, { params }) {\n    try {\n        const supabase = await getServerClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n        const { id } = await params;\n        // Idempotency: if already running or ready, accept without enqueuing duplicate work\n        const repo = new _server_repositories_reports_v3__WEBPACK_IMPORTED_MODULE_3__.ReportsV3Repository(supabase);\n        const existing = await repo.findBySessionId(id, user.id);\n        if (existing && (existing.status === 'running' || existing.status === 'ready')) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                accepted: true,\n                status: existing.status\n            }, {\n                status: 202\n            });\n        }\n        // Ensure a queued row exists (only if missing or not already queued)\n        try {\n            if (!existing || existing.status !== 'queued') {\n                await repo.upsertQueued(id);\n            }\n        } catch (e) {\n            console.error('Report V3 ensure queued failed (non-fatal):', e);\n        }\n        // Durable worker path via Supabase Edge Function (behind env flag)\n        if (process.env.REPORT_V3_USE_EDGE === 'true') {\n            try {\n                const projectUrl = \"https://hewpwluinbwaizwqhmjc.supabase.co\";\n                const projectRef = new URL(projectUrl).hostname.split('.')[0];\n                const fnUrl = `https://${projectRef}.supabase.co/functions/v1/generate-reports`;\n                const auth = process.env.SUPABASE_SERVICE_ROLE_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\";\n                await fetch(fnUrl, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${auth}`\n                    },\n                    body: JSON.stringify({\n                        session_id: id\n                    })\n                }).catch(()=>{});\n            } catch (e) {\n                console.error('Report V3 edge invocation failed (non-fatal):', e);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                accepted: true,\n                via: 'edge'\n            }, {\n                status: 202\n            });\n        }\n        // Fire-and-forget background generation. Do not await to keep route fast.\n        Promise.resolve().then(async ()=>{\n            try {\n                await (0,_server_services_report_v3__WEBPACK_IMPORTED_MODULE_4__.generateReportV3)(supabase, user.id, id);\n            } catch (e) {\n                console.error('Report V3 async generation error:', e);\n            }\n        }).catch(()=>{});\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            accepted: true\n        }, {\n            status: 202\n        });\n    } catch (error) {\n        console.error('Report V3 trigger error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to trigger generation'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zZXNzaW9ucy9baWRdL3JlcG9ydC12My9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVEO0FBQ0w7QUFDWjtBQUNnQztBQUNSO0FBRTlELGVBQWVLO0lBQ2QsTUFBTUMsY0FBYyxNQUFNSixxREFBT0E7SUFDakMsT0FBT0QsaUVBQWtCQSxDQUN4Qk0sMENBQW9DLEVBQ3BDQSxrTkFBeUMsRUFDekM7UUFDQ0wsU0FBUztZQUNSUztnQkFBVyxPQUFPTCxZQUFZSyxNQUFNO1lBQUc7WUFDdkNDLFFBQU9DLFlBQVk7Z0JBQUlBLGFBQWFDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUUsR0FBS1gsWUFBWVksR0FBRyxDQUFDSCxNQUFNQyxPQUFPQztZQUFVO1FBQ2xIO0lBQ0Q7QUFFRjtBQUVPLGVBQWVFLElBQ3JCQyxPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQXVDO0lBRS9DLElBQUk7UUFDSCxNQUFNQyxXQUFXLE1BQU1qQjtRQUN2QixNQUFNLEVBQUVrQixNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFLEdBQUcsTUFBTUYsU0FBU0csSUFBSSxDQUFDQyxPQUFPO1FBQ3RELElBQUksQ0FBQ0YsTUFBTSxPQUFPeEIscURBQVlBLENBQUMyQixJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFlLEdBQUc7WUFBRUMsUUFBUTtRQUFJO1FBQzdFLE1BQU0sRUFBRUMsRUFBRSxFQUFFLEdBQUcsTUFBTVQ7UUFDckIsTUFBTVUsT0FBTyxJQUFJNUIsZ0ZBQW1CQSxDQUFDbUI7UUFDckMsTUFBTVUsU0FBUyxNQUFNRCxLQUFLRSxlQUFlLENBQUNILElBQUlOLEtBQUtNLEVBQUU7UUFDckQsSUFBSSxDQUFDRSxRQUFRLE9BQU9oQyxxREFBWUEsQ0FBQzJCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQVksR0FBRztZQUFFQyxRQUFRO1FBQUk7UUFDNUUsT0FBTzdCLHFEQUFZQSxDQUFD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Zk0sUUFBUU4sS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBTzVCLHFEQUFZQSxDQUFDMkIsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBK0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDbkY7QUFDRCIsInNvdXJjZXMiOlsiRDpcXERlbHRhIElWXFxTb2Z3YXJlc1xcZ2xhc3NcXHNhbmRib3hcXHNoYWRjbi1jcm0tZGFzaGJvYXJkXFxzcmNcXGFwcFxcYXBpXFxzZXNzaW9uc1xcW2lkXVxccmVwb3J0LXYzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcbmltcG9ydCB7IFJlcG9ydHNWM1JlcG9zaXRvcnkgfSBmcm9tICdAL3NlcnZlci9yZXBvc2l0b3JpZXMvcmVwb3J0cy12MydcbmltcG9ydCB7IGdlbmVyYXRlUmVwb3J0VjMgfSBmcm9tICdAL3NlcnZlci9zZXJ2aWNlcy9yZXBvcnQtdjMnXG5cbmFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlckNsaWVudCgpIHtcblx0Y29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKClcblx0cmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcblx0XHRwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcblx0XHR7XG5cdFx0XHRjb29raWVzOiB7XG5cdFx0XHRcdGdldEFsbCgpIHsgcmV0dXJuIGNvb2tpZVN0b3JlLmdldEFsbCgpIH0sXG5cdFx0XHRcdHNldEFsbChjb29raWVzVG9TZXQpIHsgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSkgPT4gY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKSkgfSxcblx0XHRcdH0sXG5cdFx0fVxuXHQpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG5cdHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuXHR7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IGlkOiBzdHJpbmcgfT4gfVxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTZXJ2ZXJDbGllbnQoKVxuXHRcdGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXG5cdFx0aWYgKCF1c2VyKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuXHRcdGNvbnN0IHsgaWQgfSA9IGF3YWl0IHBhcmFtc1xuXHRcdGNvbnN0IHJlcG8gPSBuZXcgUmVwb3J0c1YzUmVwb3NpdG9yeShzdXBhYmFzZSBhcyBhbnkpXG5cdFx0Y29uc3QgcmVwb3J0ID0gYXdhaXQgcmVwby5maW5kQnlTZXNzaW9uSWQoaWQsIHVzZXIuaWQpXG5cdFx0aWYgKCFyZXBvcnQpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pXG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlcG9ydClcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKCdSZXBvcnQgVjMgZmV0Y2ggZXJyb3I6JywgZXJyb3IpXG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChcblx0cmVxdWVzdDogTmV4dFJlcXVlc3QsXG5cdHsgcGFyYW1zIH06IHsgcGFyYW1zOiBQcm9taXNlPHsgaWQ6IHN0cmluZyB9PiB9XG4pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFNlcnZlckNsaWVudCgpXG5cdFx0Y29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcblx0XHRpZiAoIXVzZXIpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXG5cdFx0Y29uc3QgeyBpZCB9ID0gYXdhaXQgcGFyYW1zXG5cblx0XHQvLyBJZGVtcG90ZW5jeTogaWYgYWxyZWFkeSBydW5uaW5nIG9yIHJlYWR5LCBhY2NlcHQgd2l0aG91dCBlbnF1ZXVpbmcgZHVwbGljYXRlIHdvcmtcblx0XHRjb25zdCByZXBvID0gbmV3IFJlcG9ydHNWM1JlcG9zaXRvcnkoc3VwYWJhc2UgYXMgYW55KVxuXHRcdGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgcmVwby5maW5kQnlTZXNzaW9uSWQoaWQsIHVzZXIuaWQpXG5cdFx0aWYgKGV4aXN0aW5nICYmIChleGlzdGluZy5zdGF0dXMgPT09ICdydW5uaW5nJyB8fCBleGlzdGluZy5zdGF0dXMgPT09ICdyZWFkeScpKSB7XG5cdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhY2NlcHRlZDogdHJ1ZSwgc3RhdHVzOiBleGlzdGluZy5zdGF0dXMgfSwgeyBzdGF0dXM6IDIwMiB9KVxuXHRcdH1cblx0XHQvLyBFbnN1cmUgYSBxdWV1ZWQgcm93IGV4aXN0cyAob25seSBpZiBtaXNzaW5nIG9yIG5vdCBhbHJlYWR5IHF1ZXVlZClcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFleGlzdGluZyB8fCBleGlzdGluZy5zdGF0dXMgIT09ICdxdWV1ZWQnKSB7XG5cdFx0XHRcdGF3YWl0IHJlcG8udXBzZXJ0UXVldWVkKGlkKVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlcG9ydCBWMyBlbnN1cmUgcXVldWVkIGZhaWxlZCAobm9uLWZhdGFsKTonLCBlKVxuXHRcdH1cblxuXHRcdC8vIER1cmFibGUgd29ya2VyIHBhdGggdmlhIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb24gKGJlaGluZCBlbnYgZmxhZylcblx0XHRpZiAocHJvY2Vzcy5lbnYuUkVQT1JUX1YzX1VTRV9FREdFID09PSAndHJ1ZScpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHByb2plY3RVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhXG5cdFx0XHRcdGNvbnN0IHByb2plY3RSZWYgPSBuZXcgVVJMKHByb2plY3RVcmwpLmhvc3RuYW1lLnNwbGl0KCcuJylbMF1cblx0XHRcdFx0Y29uc3QgZm5VcmwgPSBgaHR0cHM6Ly8ke3Byb2plY3RSZWZ9LnN1cGFiYXNlLmNvL2Z1bmN0aW9ucy92MS9nZW5lcmF0ZS1yZXBvcnRzYFxuXHRcdFx0XHRjb25zdCBhdXRoID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSFcblx0XHRcdFx0YXdhaXQgZmV0Y2goZm5VcmwsIHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0XHRcdFx0J0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXV0aH1gLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBzZXNzaW9uX2lkOiBpZCB9KVxuXHRcdFx0XHR9KS5jYXRjaCgoKSA9PiB7fSlcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmVwb3J0IFYzIGVkZ2UgaW52b2NhdGlvbiBmYWlsZWQgKG5vbi1mYXRhbCk6JywgZSlcblx0XHRcdH1cblx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGFjY2VwdGVkOiB0cnVlLCB2aWE6ICdlZGdlJyB9LCB7IHN0YXR1czogMjAyIH0pXG5cdFx0fVxuXG5cdFx0Ly8gRmlyZS1hbmQtZm9yZ2V0IGJhY2tncm91bmQgZ2VuZXJhdGlvbi4gRG8gbm90IGF3YWl0IHRvIGtlZXAgcm91dGUgZmFzdC5cblx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IGdlbmVyYXRlUmVwb3J0VjMoc3VwYWJhc2UgYXMgYW55LCB1c2VyLmlkLCBpZClcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmVwb3J0IFYzIGFzeW5jIGdlbmVyYXRpb24gZXJyb3I6JywgZSlcblx0XHRcdH1cblx0XHR9KS5jYXRjaCgoKSA9PiB7fSlcblxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGFjY2VwdGVkOiB0cnVlIH0sIHsgc3RhdHVzOiAyMDIgfSlcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKCdSZXBvcnQgVjMgdHJpZ2dlciBlcnJvcjonLCBlcnJvcilcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB0cmlnZ2VyIGdlbmVyYXRpb24nIH0sIHsgc3RhdHVzOiA1MDAgfSlcblx0fVxufVxuXHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJjb29raWVzIiwiUmVwb3J0c1YzUmVwb3NpdG9yeSIsImdlbmVyYXRlUmVwb3J0VjMiLCJnZXRTZXJ2ZXJDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0IiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImlkIiwicmVwbyIsInJlcG9ydCIsImZpbmRCeVNlc3Npb25JZCIsImNvbnNvbGUiLCJQT1NUIiwiZXhpc3RpbmciLCJhY2NlcHRlZCIsInVwc2VydFF1ZXVlZCIsImUiLCJSRVBPUlRfVjNfVVNFX0VER0UiLCJwcm9qZWN0VXJsIiwicHJvamVjdFJlZiIsIlVSTCIsImhvc3RuYW1lIiwic3BsaXQiLCJmblVybCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNlc3Npb25faWQiLCJjYXRjaCIsInZpYSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sessions/[id]/report-v3/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/repositories/reports-v3.ts":
/*!***********************************************!*\
  !*** ./src/server/repositories/reports-v3.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReportsV3Repository: () => (/* binding */ ReportsV3Repository)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/.pnpm/@supabase+supabase-js@2.57.4/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://hewpwluinbwaizwqhmjc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\";\nconst defaultClient = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\nfunction mapDbReport(row) {\n    return {\n        session_id: row.session_id,\n        report: row.report_json && Object.keys(row.report_json).length > 0 ? row.report_json : null,\n        status: row.status,\n        attempts: row.attempts ?? 0,\n        last_error: row.last_error ?? null,\n        created_at: row.created_at,\n        updated_at: row.updated_at\n    };\n}\nclass ReportsV3Repository {\n    constructor(supabase = defaultClient){\n        this.supabase = supabase;\n    }\n    async findBySessionId(sessionId, _userId) {\n        const { data: row, error } = await this.supabase.from('session_reports_v3').select('session_id, report_json, status, attempts, last_error, created_at, updated_at').eq('session_id', sessionId).single();\n        if (error) {\n            if (error.code === 'PGRST116') return null;\n            console.error('[reports-v3] findBySessionId error', {\n                code: error.code,\n                message: error.message,\n                sessionId\n            });\n            return null;\n        }\n        return mapDbReport(row);\n    }\n    async upsertQueued(sessionId) {\n        const payload = {\n            session_id: sessionId,\n            status: 'queued',\n            report_json: {},\n            attempts: 0,\n            last_error: null\n        };\n        const { data, error } = await this.supabase.from('session_reports_v3').upsert(payload, {\n            onConflict: 'session_id'\n        }).select('session_id, report_json, status, attempts, last_error, created_at, updated_at').single();\n        if (error) throw new Error(`Failed to upsert queued report: ${error.message}`);\n        return mapDbReport(data);\n    }\n    async setRunning(sessionId) {\n        const { data, error } = await this.supabase.from('session_reports_v3').update({\n            status: 'running'\n        }).eq('session_id', sessionId).select('session_id, report_json, status, attempts, last_error, created_at, updated_at').single();\n        if (error) throw new Error(`Failed to set running: ${error.message}`);\n        return mapDbReport(data);\n    }\n    async incrementAttempts(sessionId) {\n        const { data, error } = await this.supabase.rpc('increment_report_attempts', {\n            p_session_id: sessionId\n        });\n        // If helper function not present, fall back to update with expression\n        if (error) {\n            const { data: row, error: updErr } = await this.supabase.from('session_reports_v3').update({\n                attempts: await (async ()=>{\n                    const { data: cur } = await this.supabase.from('session_reports_v3').select('attempts').eq('session_id', sessionId).single();\n                    return (cur?.attempts ?? 0) + 1;\n                })()\n            }).eq('session_id', sessionId).select('session_id, report_json, status, attempts, last_error, created_at, updated_at').single();\n            if (updErr) throw new Error(`Failed to increment attempts: ${updErr.message}`);\n            return mapDbReport(row);\n        }\n        // If RPC succeeded, fetch to map\n        const { data: row2, error: selErr } = await this.supabase.from('session_reports_v3').select('session_id, report_json, status, attempts, last_error, created_at, updated_at').eq('session_id', sessionId).single();\n        if (selErr) throw new Error(`Failed to fetch attempts: ${selErr.message}`);\n        return mapDbReport(row2);\n    }\n    async setReady(sessionId, report) {\n        const { data, error } = await this.supabase.from('session_reports_v3').update({\n            status: 'ready',\n            report_json: report,\n            last_error: null\n        }).eq('session_id', sessionId).select('session_id, report_json, status, attempts, last_error, created_at, updated_at').single();\n        if (error) throw new Error(`Failed to set ready: ${error.message}`);\n        return mapDbReport(data);\n    }\n    async setFailed(sessionId, errorMsg) {\n        const { data, error } = await this.supabase.from('session_reports_v3').update({\n            status: 'failed',\n            last_error: errorMsg\n        }).eq('session_id', sessionId).select('session_id, report_json, status, attempts, last_error, created_at, updated_at').single();\n        if (error) throw new Error(`Failed to set failed: ${error.message}`);\n        return mapDbReport(data);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3JlcG9zaXRvcmllcy9yZXBvcnRzLXYzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBRXBELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUNqRSxNQUFNSyxnQkFBZ0JQLG1FQUFZQSxDQUFDQyxhQUFhSTtBQU1oRCxTQUFTRyxZQUFZQyxHQUFRO0lBQzVCLE9BQU87UUFDTkMsWUFBWUQsSUFBSUMsVUFBVTtRQUMxQkMsUUFBUSxJQUFLQyxXQUFXLElBQUlDLE9BQU9DLElBQUksQ0FBQ0wsSUFBSUcsV0FBVyxFQUFFRyxNQUFNLEdBQUcsSUFBS04sSUFBSUcsV0FBVyxHQUFHO1FBQ3pGSSxRQUFRUCxJQUFJTyxNQUFNO1FBQ2xCQyxVQUFVUixJQUFJUSxRQUFRLElBQUk7UUFDMUJDLFlBQVlULElBQUlTLFVBQVUsSUFBSTtRQUM5QkMsWUFBWVYsSUFBSVUsVUFBVTtRQUMxQkMsWUFBWVgsSUFBSVcsVUFBVTtJQUMzQjtBQUNEO0FBRU8sTUFBTUM7SUFDWkMsWUFBWSxXQUFzQ2YsYUFBYSxDQUFFO2FBQTdDZ0IsV0FBQUE7SUFBOEM7SUFFbEUsTUFBTUMsZ0JBQWdCQyxTQUFpQixFQUFFQyxPQUFlLEVBQUU7UUFDekQsTUFBTSxFQUFFQyxNQUFNbEIsR0FBRyxFQUFFbUIsS0FBSyxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUNMLFFBQVEsQ0FDOUNNLElBQUksQ0FBQyxzQkFDTEMsTUFBTSxDQUFDLGlGQUNQQyxFQUFFLENBQUMsY0FBY04sV0FDakJPLE1BQU07UUFDUixJQUFJSixPQUFPO1lBQ1YsSUFBSSxNQUFlSyxJQUFJLEtBQUssWUFBWSxPQUFPO1lBQy9DQyxRQUFRTixLQUFLLENBQUMsc0NBQXNDO2dCQUFFSyxNQUFNLE1BQWVBLElBQUk7Z0JBQUVFLFNBQVNQLE1BQU1PLE9BQU87Z0JBQUVWO1lBQVU7WUFDbkgsT0FBTztRQUNSO1FBQ0EsT0FBT2pCLFlBQVlDO0lBQ3BCO0lB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QUFNTyxPQUFPLEVBQUU7UUFDbEUsT0FBTzNCLFlBQVltQjtJQUNwQjtJQUVBLE1BQU13QixVQUFVMUIsU0FBaUIsRUFBRTJCLFFBQWdCLEVBQUU7UUFDcEQsTUFBTSxFQUFFekIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQ0wsUUFBUSxDQUN6Q00sSUFBSSxDQUFDLHNCQUNMYSxNQUFNLENBQUM7WUFBRTFCLFFBQVE7WUFBVUUsWUFBWWtDO1FBQVMsR0FDaERyQixFQUFFLENBQUMsY0FBY04sV0FDakJLLE1BQU0sQ0FBQyxpRkFDUEUsTUFBTTtRQUNSLElBQUlKLE9BQU8sTUFBTSxJQUFJWSxNQUFNLENBQUMsc0JBQXNCLEVBQUVaLE1BQU1PLE9BQU8sRUFBRTtRQUNuRSxPQUFPM0IsWUFBWW1CO0lBQ3BCO0FBQ0QiLCJzb3VyY2VzIjpbIkQ6XFxEZWx0YSBJVlxcU29md2FyZXNcXGdsYXNzXFxzYW5kYm94XFxzaGFkY24tY3JtLWRhc2hib2FyZFxcc3JjXFxzZXJ2ZXJcXHJlcG9zaXRvcmllc1xccmVwb3J0cy12My50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIVxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG5jb25zdCBkZWZhdWx0Q2xpZW50ID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbnR5cGUgU3VwYWJhc2VDbGllbnRBbnkgPSB0eXBlb2YgZGVmYXVsdENsaWVudFxuXG5leHBvcnQgdHlwZSBSZXBvcnREYXRhVjMgPSBhbnlcblxuZnVuY3Rpb24gbWFwRGJSZXBvcnQocm93OiBhbnkpOiB7IHNlc3Npb25faWQ6IHN0cmluZzsgcmVwb3J0OiBSZXBvcnREYXRhVjMgfCBudWxsOyBzdGF0dXM6IHN0cmluZzsgYXR0ZW1wdHM6IG51bWJlcjsgbGFzdF9lcnJvcj86IHN0cmluZyB8IG51bGw7IGNyZWF0ZWRfYXQ/OiBzdHJpbmc7IHVwZGF0ZWRfYXQ/OiBzdHJpbmcgfSB7XG5cdHJldHVybiB7XG5cdFx0c2Vzc2lvbl9pZDogcm93LnNlc3Npb25faWQsXG5cdFx0cmVwb3J0OiAocm93LnJlcG9ydF9qc29uICYmIE9iamVjdC5rZXlzKHJvdy5yZXBvcnRfanNvbikubGVuZ3RoID4gMCkgPyByb3cucmVwb3J0X2pzb24gOiBudWxsLFxuXHRcdHN0YXR1czogcm93LnN0YXR1cyxcblx0XHRhdHRlbXB0czogcm93LmF0dGVtcHRzID8/IDAsXG5cdFx0bGFzdF9lcnJvcjogcm93Lmxhc3RfZXJyb3IgPz8gbnVsbCxcblx0XHRjcmVhdGVkX2F0OiByb3cuY3JlYXRlZF9hdCxcblx0XHR1cGRhdGVkX2F0OiByb3cudXBkYXRlZF9hdCxcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUmVwb3J0c1YzUmVwb3NpdG9yeSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50QW55ID0gZGVmYXVsdENsaWVudCkge31cblxuXHRhc3luYyBmaW5kQnlTZXNzaW9uSWQoc2Vzc2lvbklkOiBzdHJpbmcsIF91c2VySWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IHsgZGF0YTogcm93LCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25fcmVwb3J0c192MycpXG5cdFx0XHQuc2VsZWN0KCdzZXNzaW9uX2lkLCByZXBvcnRfanNvbiwgc3RhdHVzLCBhdHRlbXB0cywgbGFzdF9lcnJvciwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG5cdFx0XHQuZXEoJ3Nlc3Npb25faWQnLCBzZXNzaW9uSWQpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGlmICgoZXJyb3IgYXMgYW55KS5jb2RlID09PSAnUEdSU1QxMTYnKSByZXR1cm4gbnVsbFxuXHRcdFx0Y29uc29sZS5lcnJvcignW3JlcG9ydHMtdjNdIGZpbmRCeVNlc3Npb25JZCBlcnJvcicsIHsgY29kZTogKGVycm9yIGFzIGFueSkuY29kZSwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwgc2Vzc2lvbklkIH0pXG5cdFx0XHRyZXR1cm4gbnVsbFxuXHRcdH1cblx0XHRyZXR1cm4gbWFwRGJSZXBvcnQocm93KVxuXHR9XG5cblx0YXN5bmMgdXBzZXJ0UXVldWVkKHNlc3Npb25JZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcGF5bG9hZCA9IHsgXG5cdFx0XHRzZXNzaW9uX2lkOiBzZXNzaW9uSWQsIFxuXHRcdFx0c3RhdHVzOiAncXVldWVkJyBhcyBjb25zdCwgXG5cdFx0XHRyZXBvcnRfanNvbjoge30sXG5cdFx0XHRhdHRlbXB0czogMCxcblx0XHRcdGxhc3RfZXJyb3I6IG51bGxcblx0XHR9XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25fcmVwb3J0c192MycpXG5cdFx0XHQudXBzZXJ0KHBheWxvYWQsIHsgb25Db25mbGljdDogJ3Nlc3Npb25faWQnIH0pXG5cdFx0XHQuc2VsZWN0KCdzZXNzaW9uX2lkLCByZXBvcnRfanNvbiwgc3RhdHVzLCBhdHRlbXB0cywgbGFzdF9lcnJvciwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwc2VydCBxdWV1ZWQgcmVwb3J0OiAke2Vycm9yLm1lc3NhZ2V9YClcblx0XHRyZXR1cm4gbWFwRGJSZXBvcnQoZGF0YSlcblx0fVxuXG5cdGFzeW5jIHNldFJ1bm5pbmcoc2Vzc2lvbklkOiBzdHJpbmcpIHtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgnc2Vzc2lvbl9yZXBvcnRzX3YzJylcblx0XHRcdC51cGRhdGUoeyBzdGF0dXM6ICdydW5uaW5nJyB9KVxuXHRcdFx0LmVxKCdzZXNzaW9uX2lkJywgc2Vzc2lvbklkKVxuXHRcdFx0LnNlbGVjdCgnc2Vzc2lvbl9pZCwgcmVwb3J0X2pzb24sIHN0YXR1cywgYXR0ZW1wdHMsIGxhc3RfZXJyb3IsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxuXHRcdFx0LnNpbmdsZSgpXG5cdFx0aWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzZXQgcnVubmluZzogJHtlcnJvci5tZXNzYWdlfWApXG5cdFx0cmV0dXJuIG1hcERiUmVwb3J0KGRhdGEpXG5cdH1cblxuXHRhc3luYyBpbmNyZW1lbnRBdHRlbXB0cyhzZXNzaW9uSWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdC5ycGMoJ2luY3JlbWVudF9yZXBvcnRfYXR0ZW1wdHMnLCB7IHBfc2Vzc2lvbl9pZDogc2Vzc2lvbklkIH0pXG5cdFx0Ly8gSWYgaGVscGVyIGZ1bmN0aW9uIG5vdCBwcmVzZW50LCBmYWxsIGJhY2sgdG8gdXBkYXRlIHdpdGggZXhwcmVzc2lvblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0Y29uc3QgeyBkYXRhOiByb3csIGVycm9yOiB1cGRFcnIgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdFx0LmZyb20oJ3Nlc3Npb25fcmVwb3J0c192MycpXG5cdFx0XHRcdC51cGRhdGUoeyBhdHRlbXB0czogKGF3YWl0IChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgeyBkYXRhOiBjdXIgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdFx0XHRcdC5mcm9tKCdzZXNzaW9uX3JlcG9ydHNfdjMnKVxuXHRcdFx0XHRcdFx0LnNlbGVjdCgnYXR0ZW1wdHMnKVxuXHRcdFx0XHRcdFx0LmVxKCdzZXNzaW9uX2lkJywgc2Vzc2lvbklkKVxuXHRcdFx0XHRcdFx0LnNpbmdsZSgpXG5cdFx0XHRcdFx0cmV0dXJuIChjdXI/LmF0dGVtcHRzID8/IDApICsgMVxuXHRcdFx0XHR9KSgpKSB9KVxuXHRcdFx0XHQuZXEoJ3Nlc3Npb25faWQnLCBzZXNzaW9uSWQpXG5cdFx0XHRcdC5zZWxlY3QoJ3Nlc3Npb25faWQsIHJlcG9ydF9qc29uLCBzdGF0dXMsIGF0dGVtcHRzLCBsYXN0X2Vycm9yLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0Jylcblx0XHRcdFx0LnNpbmdsZSgpXG5cdFx0XHRpZiAodXBkRXJyKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBpbmNyZW1lbnQgYXR0ZW1wdHM6ICR7dXBkRXJyLm1lc3NhZ2V9YClcblx0XHRcdHJldHVybiBtYXBEYlJlcG9ydChyb3cpXG5cdFx0fVxuXHRcdC8vIElmIFJQQyBzdWNjZWVkZWQsIGZldGNoIHRvIG1hcFxuXHRcdGNvbnN0IHsgZGF0YTogcm93MiwgZXJyb3I6IHNlbEVyciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25fcmVwb3J0c192MycpXG5cdFx0XHQuc2VsZWN0KCdzZXNzaW9uX2lkLCByZXBvcnRfanNvbiwgc3RhdHVzLCBhdHRlbXB0cywgbGFzdF9lcnJvciwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG5cdFx0XHQuZXEoJ3Nlc3Npb25faWQnLCBzZXNzaW9uSWQpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoc2VsRXJyKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBhdHRlbXB0czogJHtzZWxFcnIubWVzc2FnZX1gKVxuXHRcdHJldHVybiBtYXBEYlJlcG9ydChyb3cyKVxuXHR9XG5cblx0YXN5bmMgc2V0UmVhZHkoc2Vzc2lvbklkOiBzdHJpbmcsIHJlcG9ydDogUmVwb3J0RGF0YVYzKSB7XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25fcmVwb3J0c192MycpXG5cdFx0XHQudXBkYXRlKHsgc3RhdHVzOiAncmVhZHknLCByZXBvcnRfanNvbjogcmVwb3J0LCBsYXN0X2Vycm9yOiBudWxsIH0pXG5cdFx0XHQuZXEoJ3Nlc3Npb25faWQnLCBzZXNzaW9uSWQpXG5cdFx0XHQuc2VsZWN0KCdzZXNzaW9uX2lkLCByZXBvcnRfanNvbiwgc3RhdHVzLCBhdHRlbXB0cywgbGFzdF9lcnJvciwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNldCByZWFkeTogJHtlcnJvci5tZXNzYWdlfWApXG5cdFx0cmV0dXJuIG1hcERiUmVwb3J0KGRhdGEpXG5cdH1cblxuXHRhc3luYyBzZXRGYWlsZWQoc2Vzc2lvbklkOiBzdHJpbmcsIGVycm9yTXNnOiBzdHJpbmcpIHtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgnc2Vzc2lvbl9yZXBvcnRzX3YzJylcblx0XHRcdC51cGRhdGUoeyBzdGF0dXM6ICdmYWlsZWQnLCBsYXN0X2Vycm9yOiBlcnJvck1zZyB9KVxuXHRcdFx0LmVxKCdzZXNzaW9uX2lkJywgc2Vzc2lvbklkKVxuXHRcdFx0LnNlbGVjdCgnc2Vzc2lvbl9pZCwgcmVwb3J0X2pzb24sIHN0YXR1cywgYXR0ZW1wdHMsIGxhc3RfZXJyb3IsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxuXHRcdFx0LnNpbmdsZSgpXG5cdFx0aWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzZXQgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YClcblx0XHRyZXR1cm4gbWFwRGJSZXBvcnQoZGF0YSlcblx0fVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZGVmYXVsdENsaWVudCIsIm1hcERiUmVwb3J0Iiwicm93Iiwic2Vzc2lvbl9pZCIsInJlcG9ydCIsInJlcG9ydF9qc29uIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXR1cyIsImF0dGVtcHRzIiwibGFzdF9lcnJvciIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiUmVwb3J0c1YzUmVwb3NpdG9yeSIsImNvbnN0cnVjdG9yIiwic3VwYWJhc2UiLCJmaW5kQnlTZXNzaW9uSWQiLCJzZXNzaW9uSWQiLCJfdXNlcklkIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29kZSIsImNvbnNvbGUiLCJtZXNzYWdlIiwidXBzZXJ0UXVldWVkIiwicGF5bG9hZCIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJFcnJvciIsInNldFJ1bm5pbmciLCJ1cGRhdGUiLCJpbmNyZW1lbnRBdHRlbXB0cyIsInJwYyIsInBfc2Vzc2lvbl9pZCIsInVwZEVyciIsImN1ciIsInJvdzIiLCJzZWxFcnIiLCJzZXRSZWFkeSIsInNldEZhaWxlZCIsImVycm9yTXNnIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/repositories/reports-v3.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/repositories/sessions.ts":
/*!*********************************************!*\
  !*** ./src/server/repositories/sessions.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionsRepository: () => (/* binding */ SessionsRepository)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/.pnpm/@supabase+supabase-js@2.57.4/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Use untyped client until schema is applied and types regenerated\nconst supabaseUrl = \"https://hewpwluinbwaizwqhmjc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\";\nconst defaultClient = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\nfunction mapDbSession(row) {\n    const startedAt = row.started_at ? new Date(row.started_at) : null;\n    const fallbackTitle = startedAt ? `Session @ ${startedAt.toLocaleTimeString('en-GB', {\n        hour12: false\n    })}` : 'Session';\n    // Heuristic: if title_enc looks like base64/opaque, use fallback for display\n    const looksEncoded = typeof row.title_enc === 'string' && /^[A-Za-z0-9+/=]{20,}$/.test(row.title_enc);\n    return {\n        id: row.id,\n        owner_id: row.user_id,\n        subject_id: row.subject_id || null,\n        title: row.title_enc && !looksEncoded ? row.title_enc : fallbackTitle,\n        type: row.session_type,\n        status: row.ended_at ? 'completed' : 'active',\n        started_at: row.started_at,\n        ended_at: row.ended_at,\n        created_at: row.started_at,\n        updated_at: row.updated_at\n    };\n}\nclass SessionsRepository {\n    constructor(supabase = defaultClient){\n        this.supabase = supabase;\n    }\n    async findAll(options) {\n        const { filters = {}, sort = 'started_at', direction = 'desc', page = 1, pageSize = 10, userId } = options;\n        const sortColumn = [\n            'started_at',\n            'updated_at',\n            'ended_at'\n        ].includes(sort) ? sort : 'started_at';\n        let query = this.supabase.from('sessions').select('id,user_id,subject_id,title_enc,session_type,started_at,ended_at,updated_at', {\n            count: 'estimated'\n        }).eq('user_id', userId);\n        // Apply filters\n        if (filters.search) {\n            query = query.ilike('title_enc', `%${filters.search}%`);\n        }\n        if (filters.status && filters.status !== 'all') {\n            if (filters.status === 'active') {\n                query = query.is('ended_at', null);\n            } else if (filters.status === 'completed' || filters.status === 'cancelled') {\n                query = query.not('ended_at', 'is', null);\n            }\n        }\n        if (filters.type) {\n            query = query.eq('session_type', filters.type);\n        }\n        if (filters.dateFrom) {\n            query = query.gte('started_at', filters.dateFrom);\n        }\n        if (filters.dateTo) {\n            query = query.lte('started_at', filters.dateTo);\n        }\n        // Apply sorting\n        query = query.order(sortColumn, {\n            ascending: direction === 'asc'\n        });\n        // Apply pagination (1-based to 0-based conversion)\n        const from = (page - 1) * pageSize;\n        const to = from + pageSize - 1;\n        query = query.range(from, to);\n        const { data: rows, error, count } = await query;\n        if (error) {\n            throw new Error(`Failed to fetch sessions: ${error.message}`);\n        }\n        const baseRows = rows || [];\n        // Enrich with contact phone via subject lookup (prefer customer over lead)\n        const phoneBySubject = {};\n        const subjectIds = Array.from(new Set(baseRows.map((r)=>r.subject_id).filter((v)=>!!v)));\n        if (subjectIds.length > 0) {\n            // Fetch customer phones in bulk\n            const { data: custRows, error: custErr } = await this.supabase.from('customers').select('subject_id, phone').in('subject_id', subjectIds).eq('owner_id', userId);\n            if (!custErr && Array.isArray(custRows)) {\n                for (const r of custRows){\n                    if (r.subject_id && r.phone) phoneBySubject[r.subject_id] = r.phone;\n                }\n            }\n            // Fetch lead phones where customer missing\n            const missing = subjectIds.filter((id)=>!phoneBySubject[id]);\n            if (missing.length > 0) {\n                const { data: leadRows } = await this.supabase.from('leads').select('subject_id, phone').in('subject_id', missing).eq('owner_id', userId);\n                if (Array.isArray(leadRows)) {\n                    for (const r of leadRows){\n                        if (r.subject_id && r.phone && !phoneBySubject[r.subject_id]) {\n                            phoneBySubject[r.subject_id] = r.phone;\n                        }\n                    }\n                }\n            }\n        }\n        const sessions = baseRows.map((r)=>{\n            const s = mapDbSession(r);\n            const phone = r.subject_id ? phoneBySubject[r.subject_id] : undefined;\n            return phone ? {\n                ...s,\n                phone\n            } : s;\n        });\n        const total = count || 0;\n        const totalPages = Math.ceil(total / pageSize);\n        return {\n            sessions,\n            total,\n            page,\n            pageSize,\n            totalPages\n        };\n    }\n    async findById(id, userId) {\n        const { data: row, error } = await this.supabase.from('sessions').select('id,user_id,subject_id,title_enc,session_type,started_at,ended_at,updated_at').eq('id', id).eq('user_id', userId).single();\n        if (error) {\n            if (error.code === 'PGRST116') {\n                return null // Not found\n                ;\n            }\n            throw new Error(`Failed to fetch session: ${error.message}`);\n        }\n        return mapDbSession(row);\n    }\n    async create(sessionData, userId) {\n        const requestedType = sessionData?.type || 'ask';\n        const { data: newSessionId, error: rpcError } = await this.supabase.rpc('get_or_create_active_session', {\n            requested_type: requestedType\n        });\n        if (rpcError) {\n            throw new Error(`Failed to create session: ${rpcError.message}`);\n        }\n        const { data: row, error } = await this.supabase.from('sessions').select('id,user_id,subject_id,title_enc,session_type,started_at,ended_at,updated_at').eq('id', newSessionId).eq('user_id', userId).single();\n        if (error) {\n            throw new Error(`Failed to fetch created session: ${error.message}`);\n        }\n        return mapDbSession(row);\n    }\n    async update(id, sessionData, userId) {\n        // Support title update and ending a session\n        if (sessionData?.status === 'completed' || sessionData?.status === 'cancelled') {\n            const { error: endErr } = await this.supabase.rpc('end_session', {\n                session_id: id\n            });\n            if (endErr) throw new Error(`Failed to end session: ${endErr.message}`);\n        }\n        if (sessionData?.title) {\n            const { error: updErr } = await this.supabase.from('sessions').update({\n                title_enc: sessionData.title\n            }).eq('id', id).eq('user_id', userId);\n            if (updErr) throw new Error(`Failed to update session: ${updErr.message}`);\n        }\n        const { data: row, error } = await this.supabase.from('sessions').select('id,user_id,subject_id,title_enc,session_type,started_at,ended_at,updated_at').eq('id', id).eq('user_id', userId).single();\n        if (error) throw new Error(`Failed to fetch session: ${error.message}`);\n        return mapDbSession(row);\n    }\n    async delete(id, userId) {\n        const { error } = await this.supabase.from('sessions').delete().eq('id', id).eq('user_id', userId);\n        if (error) throw new Error(`Failed to delete session: ${error.message}`);\n    }\n    async getStats(userId) {\n        const [total, active, completed] = await Promise.all([\n            this.supabase.from('sessions').select('*', {\n                count: 'exact',\n                head: true\n            }).eq('user_id', userId),\n            this.supabase.from('sessions').select('*', {\n                count: 'exact',\n                head: true\n            }).eq('user_id', userId).is('ended_at', null),\n            this.supabase.from('sessions').select('*', {\n                count: 'exact',\n                head: true\n            }).eq('user_id', userId).not('ended_at', 'is', null)\n        ]);\n        return {\n            total: total.count || 0,\n            active: active.count || 0,\n            completed: completed.count || 0,\n            cancelled: 0\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3JlcG9zaXRvcmllcy9zZXNzaW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUVwRCxtRUFBbUU7QUFDbkUsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLGdCQUFnQlAsbUVBQVlBLENBQUNDLGFBQWFJO0FBMEJoRCxTQUFTRyxhQUFhQyxHQUFRO0lBQzdCLE1BQU1DLFlBQVlELElBQUlFLFVBQVUsR0FBRyxJQUFJQyxLQUFLSCxJQUFJRSxVQUFVLElBQUk7SUFDOUQsTUFBTUUsZ0JBQWdCSCxZQUFZLENBQUMsVUFBVSxFQUFFQSxVQUFVSSxrQkFBa0IsQ0FBQyxTQUFTO1FBQUVDLFFBQVE7SUFBTSxJQUFJLEdBQUc7SUFDNUcsNkVBQTZFO0lBQzdFLE1BQU1DLGVBQWUsT0FBT1AsSUFBSVEsU0FBUyxLQUFLLFlBQVksd0JBQXdCQyxJQUFJLENBQUNULElBQUlRLFNBQVM7SUFDcEcsT0FBTztRQUNORSxJQUFJVixJQUFJVSxFQUFFO1FBQ1ZDLFVBQVVYLElBQUlZLE9BQU87UUFDckJDLFlBQVliLElBQUlhLFVBQVUsSUFBSTtRQUM5QkMsT0FBTyxJQUFLTixTQUFTLElBQUksQ0FBQ0QsZUFBZ0JQLElBQUlRLFNBQVMsR0FBR0o7UUFDMURXLE1BQU1mLElBQUlnQixZQUFZO1FBQ3RCQyxRQUFRakIsSUFBSWtCLFFBQVEsR0FBRyxjQUFjO1FBQ3JDaEIsWUFBWUYsSUFBSUUsVUFBVTtRQUMxQmdCLFVBQVVsQixJQUFJa0IsUUFBUTtRQUN0QkMsWUFBWW5CLElBQUlFLFVBQVU7UUFDMUJrQixZQUFZcEIsSUFBSW9CLFVBQVU7SUFDM0I7QUFDRDtBQUVPLE1BQU1DO0lBQ1RDLFlBQVksV0FBc0N4QixhQUFhLENBQUU7YUFBN0N5QixXQUFBQTtJQUE4QztJQUVsRSxNQUFNQyxRQUFRQyxPQUEyQixFQU10QztRQUNMLE1BQU0sRUFDTEMsVUFBVSxDQUFDLENBQUMsRUFDWkMsT0FBTyxZQUFZLEVBQ25CQyxZQUFZLE1BQU0sRUFDbEJDLE9BQU8sQ0FBQyxFQUNSQyxXQUFXLEVBQUUsRUFDYkMsTUFBTSxFQUNOLEdBQUdOO1FBRUosTUFBTU8sYUFBYTtZQUFDO1lBQWE7WUFBYTtTQUFXLENBQUNDLFFBQVEsQ0FBQ04sUUFBUUEsT0FBTztRQUVsRixJQUFJTyxRQUFRLElBQUksQ0FBQ1gsUUFBUSxDQUN2QlksSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQywrRUFBK0U7WUFBRUMsT0FBTztRQUFZLEdBQzNHQyxFQUFFLENBQUMsV0FBV1A7UUFFaEIsZ0JBQWdCO1FBQ2hCLElBQUlMLFFBQVFhLE1BQU0sRUFBRTtZQUNuQkwsUUFBUUEsTUFBTU0sS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUVkLFFBQVFhLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDdkQ7UUFFQSxJQUFJYixRQUFRVCxNQUFNLElBQUlTLFFBQVFULE1BQU0sS0FBSyxPQUFPO1lBQy9DLElBQUlTLFFBQVFULE1BQU0sS0FBSyxVQUFVO2dCQUNoQ2lCLFFBQVFBLE1BQU1PLEVBQUUsQ0FBQyxZQUFZO1lBQzlCLE9BQU8sSUFBSWYsUUFBUVQsTUFBTSxLQUFLLGVBQWVTLFFBQVFULE1BQU0sS0FBSyxhQUFhO2dCQUM1RWlCLFFBQVFBLE1BQU1RLEdBQUcsQ0FBQyxZQUFZLE1BQU07WUFDckM7UUFDRDtRQUVBLElBQUloQixRQUFRWCxJQUFJLEVBQUU7WUFDakJtQixRQUFRQSxNQUFNSSxFQUFFLENBQUMsZ0JBQWdCWixRQUFRWCxJQUFJO1FBQzlDO1FBRUEsSUFBSVcsUUFBUWlCLFFBQVEsRUFBRTtZQUNyQlQsUUFBUUEsTUFBTVUsR0FBRyxDQUFDLGNBQWNsQixRQUFRaUIsUUFBUTtRQUNqRDtRQUVBLElBQUlqQixRQUFRbUIsTUFBTSxFQUFFO1lBQ25CWCxRQUFRQSxNQUFNWSxHQUFHLENBQUMsY0FBY3BCLFFBQVFtQixNQUFNO1FBQy9DO1FBRUEsZ0JBQWdCO1FBQ2hCWCxRQUFRQSxNQUFNYSxLQUFLLENBQUNmLFlBQVk7WUFBRWdCLFdBQVdwQixjQUFjO1FBQU07UUFFakUsbURBQW1EO1FBQ25ELE1BQU1PLE9BQU8sQ0FBQ04sT0FBTyxLQUFLQztRQUMxQixNQUFNbUIsS0FBS2QsT0FBT0wsV0FBVztRQUM3QkksUUFBUUEsTUFBTWdCLEtBQUssQ0FBQ2YsTUFBTWM7UUFFcEIsTUFBTSxFQUFFRSxNQUFNQyxJQUFJLEVBQUVDLEtBQUssRUFBRWhCLEtBQUssRUFBRSxHQUFHLE1BQU1IO1FBRTNDLElBQUltQixPQUFPO1lBQ1AsTUFBTSxJQUFJQyxNQUFNLENBQUMsMEJBQTBCLEVBQUVELE1BQU1FLE9BQU8sRUFBRTtRQUNoRTtRQUVBLE1BQU1DLFdBQVdKLFFBQVEsRUFBRTtRQUUzQiwyRUFBMkU7UUFDM0UsTUFBTUssaUJBQXlDLENBQUM7UUFDaEQsTUFBTUMsYUFBYUMsTUFBTXhCLElBQUksQ0FBQyxJQUFJeUIsSUFDOUJKLFNBQVNLLEdBQUcsQ0FBQyxDQUFDQyxJQUFXQSxFQUFFakQsVUFBVSxFQUFFa0QsTUFBTSxDQUFDLENBQUNDLElBQVcsQ0FBQyxDQUFDQTtRQUdoRSxJQUFJTixXQUFXTyxNQUFNLEdBQUcsR0FBRztZQUN2QixnQ0FBZ0M7WUFDaEMsTUFBTSxFQUFFZCxNQUFNZSxRQUFRLEVBQUViLE9BQU9jLE9BQU8sRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDNUMsUUFBUSxDQUN6RFksSUFBSSxDQUFDLGFBQ0xDLE1BQU0sQ0FBQyxxQkFDUGdDLEVBQUUsQ0FBQyxjQUFjVixZQUNqQnBCLEVBQUUsQ0FBQyxZQUFZUDtZQUNwQixJQUFJLENBQUNvQyxXQUFXUixNQUFNVSxPQUFPLENBQUNILFdBQVc7Z0JBQ3JDLEtBQUssTUFBTUosS0FBS0ksU0FBVTtvQkFDdEIsSUFBSUosRUFBRWpELFVBQVUsSUFBSWlELEVBQUVRLEtBQUssRUFBRWIsY0FBYyxDQUFDSyxFQUFFakQsVUFBVSxDQUFDLEdBQUdpRCxFQUFFUSxLQUFLO2dCQUN2RTtZQUNKO1lBRUEsMkNBQTJDO1lBQzNDLE1BQU1DLFVBQVViLFdBQVdLLE1BQU0sQ0FBQ3JELENBQUFBLEtBQU0sQ0FBQytDLGNBQWMsQ0FBQy9DLEdBQUc7WUFDM0QsSUFBSTZELFFBQVFOLE1BQU0sR0FBRyxHQUFHO2dCQUNwQixNQUFNLEVBQUVkLE1BQU1xQixRQUFRLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQ2pELFFBQVEsQ0FDekNZLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMscUJBQ1BnQyxFQUFFLENBQUMsY0FBY0csU0FDakJqQyxFQUFFLENBQUMsWUFBWVA7Z0JBQ3BCLElBQUk0QixNQUFNVSxPQUFPLENBQUNHLFdBQVc7b0JBQ3pCLEtBQUssTUFBTVYsS0FBS1UsU0FBVTt3QkFDdEIsSUFBSVYsRUFBRWpELFVBQVUsSUFBSWlELEVBQUVRLEtBQUssSUFBSSxDQUFDYixjQUFjLENBQUNLLEVBQUVqRCxVQUFVLENBQUMsRUFBRTs0QkFDMUQ0QyxjQUFjLENBQUNLLEVBQUVqRCxVQUFVLENBQUMsR0FBR2lELEVBQUVRLEtBQUs7d0JBQzFDO29CQUNKO2dCQUNKO1lBQ0o7UUFDSjtRQUVBLE1BQU1HLFdBQVdqQixTQUFTSyxHQUFHLENBQUMsQ0FBQ0M7WUFDM0IsTUFBTVksSUFBSTNFLGFBQWErRDtZQUN2QixNQUFNUSxRQUFRUixFQUFFakQsVUFBVSxHQUFHNEMsY0FBYyxDQUFDSyxFQUFFakQsVUFBVSxDQUFDLEdBQUc4RDtZQUM1RCxPQUFPTCxRQUFRO2dCQUFFLEdBQUdJLENBQUM7Z0JBQUVKO1lBQU0sSUFBSUk7UUFDckM7UUFDQSxNQUFNRSxRQUFRdkMsU0FBUztRQUN2QixNQUFNd0MsYUFBYUMsS0FBS0MsSUFBSSxDQUFDSCxRQUFROUM7UUFFckMsT0FBTztZQUFFMkM7WUFBVUc7WUFBTy9DO1lBQU1DO1lBQVUrQztRQUFXO0lBQ3pEO0lBRUgsTUFBTUcsU0FBU3RFLEVBQVUsRUFBRXFCLE1BQWMsRUFBMkI7UUFDbkUsTUFBTSxFQUFFb0IsTUFBTW5ELEdBQUcsRUFBRXFELEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDOUIsUUFBUSxDQUM5Q1ksSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQywrRUFDUEUsRUFBRSxDQUFDLE1BQU01QixJQUNUNEIsRUFBRSxDQUFDLFdBQVdQLFFBQ2RrRCxNQUFNO1FBRVIsSUFBSTVCLE9BQU87WUFDVixJQUFJLE1BQWU2QixJQUFJLEtBQUssWUFBWTtnQkFDdkMsT0FBTyxLQUFLLFlBQVk7O1lBQ3pCO1lBQ0EsTUFBTSxJQUFJNUIsTUFBTSxDQUFDLHlCQUF5QixFQUFFRCxNQUFNRSxPQUFPLEVBQUU7UUFDNUQ7UUFFQSxPQUFPeEQsYUFBYUM7SUFDckI7SUFFQSxNQUFNbUYsT0FBT0MsV0FBMEIsRUFBRXJELE1BQWMsRUFBb0I7UUFDMUUsTUFBTXNELGdCQUFnQixhQUFzQnRFLFFBQVE7UUFDcEQsTUFBTSxFQUFFb0MsTUFBTW1DLFlBQVksRUFBRWpDLE9BQU9rQyxRQUFRLEVBQUUsR0FBRyxNQUFNLElBQUssQ0FBQ2hFLFFBQVEsQ0FDbEVpRSxHQUFHLENBQUMsZ0NBQWdDO1lBQUVDLGdCQUFnQko7UUFBYztRQUV0RSxJQUFJRSxVQUFVO1lBQ2IsTUFBTSxJQUFJakMsTUFBTSxDQUFDLDBCQUEwQixFQUFFaUMsU0FBU2hDLE9BQU8sRUFBRTtRQUNoRTtRQUVBLE1BQU0sRUFBRUosTUFBTW5ELEdBQUcsRUFBRXFELEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDOUIsUUFBUSxDQUM5Q1ksSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQywrRUFDUEUsRUFBRSxDQUFDLE1BQU1nRCxjQUNUaEQsRUFBRSxDQUFDLFdBQVdQLFFBQ2RrRCxNQUFNO1FBRVIsSUFBSTVCLE9BQU87WUFDVixNQUFNLElBQUlDLE1BQU0sQ0FBQyxpQ0FBaUMsRUFBRUQsTUFBTUUsT0FBTyxFQUFFO1FBQ3BFO1FBRUEsT0FBT3hELGFBQWFDO0lBQ3JCO0lBRUEsTUFBTTBGLE9BQU9oRixFQUFVLEVBQUUwRSxXQUEwQixFQUFFckQsTUFBYyxFQUFvQjtRQUN0Riw0Q0FBNEM7UUFDNUMsSUFBSSxhQUFzQmQsV0FBVyxlQUFlLGFBQXNCQSxXQUFXLGFBQWE7WUFDakcsTUFBTSxFQUFFb0MsT0FBT3NDLE1BQU0sRUFBRSxHQUFHLE1BQU0sSUFBSyxDQUFDcEUsUUFBUSxDQUFTaUUsR0FBRyxDQUFDLGVBQWU7Z0JBQUVJLFlBQVlsRjtZQUFHO1lBQzNGLElBQUlpRixRQUFRLE1BQU0sSUFBSXJDLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRXFDLE9BQU9wQyxPQUFPLEVBQUU7UUFDdkU7UUFFQSxJQUFLNkIsYUFBcUJ0RSxPQUFPO1lBQ2hDLE1BQU0sRUFBRXVDLE9BQU93QyxNQUFNLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQ3RFLFFBQVEsQ0FDM0NZLElBQUksQ0FBQyxZQUNMdUQsTUFBTSxDQUFDO2dCQUFFbEYsV0FBVyxZQUFxQk0sS0FBSztZQUFDLEdBQy9Dd0IsRUFBRSxDQUFDLE1BQU01QixJQUNUNEIsRUFBRSxDQUFDLFdBQVdQO1lBQ2hCLElBQUk4RCxRQUFRLE1BQU0sSUFBSXZDLE1BQU0sQ0FBQywwQkFBMEIsRUFBRXVDLE9BQU90QyxPQUFPLEVBQUU7UUFDMUU7UUFFQSxNQUFNLEVBQUVKLE1BQU1uRCxHQUFHLEVBQUVxRCxLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQzlCLFFBQVEsQ0FDOUNZLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsK0VBQ1BFLEVBQUUsQ0FBQyxNQUFNNUIsSUFDVDRCLEVBQUUsQ0FBQyxXQUFXUCxRQUNka0QsTUFBTTtRQUNSLElBQUk1QixPQUFPLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHlCQUF5QixFQUFFRCxNQUFNRSxPQUFPLEVBQUU7UUFDdEUsT0FBT3hELGFBQWFDO0lBQ3JCO0lBRUEsTUFBTThGLE9BQU9wRixFQUFVLEVBQUVxQixNQUFjLEVBQWlCO1FBQ3ZELE1BQU0sRUFBRXNCLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDOUIsUUFBUSxDQUNuQ1ksSUFBSSxDQUFDLFlBQ0wyRCxNQUFNLEdBQ054RCxFQUFFLENBQUMsTUFBTTVCLElBQ1Q0QixFQUFFLENBQUMsV0FBV1A7UUFDaEIsSUFBSXNCLE9BQU8sTUFBTSxJQUFJQyxNQUFNLENBQUMsMEJBQTBCLEVBQUVELE1BQU1FLE9BQU8sRUFBRTtJQUN4RTtJQUVBLE1BQU13QyxTQUFTaEUsTUFBYyxFQUsxQjtRQUNGLE1BQU0sQ0FBQzZDLE9BQU9vQixRQUFRQyxVQUFVLEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1lBQ3BELElBQUksQ0FBQzVFLFFBQVEsQ0FBQ1ksSUFBSSxDQUFDLFlBQVlDLE1BQU0sQ0FBQyxLQUFLO2dCQUFFQyxPQUFPO2dCQUFTK0QsTUFBTTtZQUFLLEdBQUc5RCxFQUFFLENBQUMsV0FBV1A7WUFDekYsSUFBSSxDQUFDUixRQUFRLENBQUNZLElBQUksQ0FBQyxZQUFZQyxNQUFNLENBQUMsS0FBSztnQkFBRUMsT0FBTztnQkFBUytELE1BQU07WUFBSyxHQUFHOUQsRUFBRSxDQUFDLFdBQVdQLFFBQVFVLEVBQUUsQ0FBQyxZQUFZO1lBQ2hILElBQUksQ0FBQ2xCLFFBQVEsQ0FBQ1ksSUFBSSxDQUFDLFlBQVlDLE1BQU0sQ0FBQyxLQUFLO2dCQUFFQyxPQUFPO2dCQUFTK0QsTUFBTTtZQUFLLEdBQUc5RCxFQUFFLENBQUMsV0FBV1AsUUFBUVcsR0FBRyxDQUFDLFlBQVksTUFBTTtTQUN2SDtRQUVELE9BQU87WUFDTmtDLE9BQU8sTUFBT3ZDLEtBQUssSUFBZTtZQUNsQzJELFFBQVEsT0FBUTNELEtBQUssSUFBZTtZQUNwQzRELFdBQVcsVUFBVzVELEtBQUssSUFBZTtZQUMxQ2dFLFdBQVc7UUFDWjtJQUNEO0FBQ0QiLCJzb3VyY2VzIjpbIkQ6XFxEZWx0YSBJVlxcU29md2FyZXNcXGdsYXNzXFxzYW5kYm94XFxzaGFkY24tY3JtLWRhc2hib2FyZFxcc3JjXFxzZXJ2ZXJcXHJlcG9zaXRvcmllc1xcc2Vzc2lvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG4vLyBVc2UgdW50eXBlZCBjbGllbnQgdW50aWwgc2NoZW1hIGlzIGFwcGxpZWQgYW5kIHR5cGVzIHJlZ2VuZXJhdGVkXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuY29uc3QgZGVmYXVsdENsaWVudCA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuXG4vLyBUZW1wb3JhcnkgdHlwZXMgdW50aWwgc2NoZW1hIGlzIGFwcGxpZWRcbnR5cGUgU2Vzc2lvbiA9IGFueVxudHlwZSBTZXNzaW9uSW5zZXJ0ID0gYW55XG50eXBlIFNlc3Npb25VcGRhdGUgPSBhbnlcblxudHlwZSBTdXBhYmFzZUNsaWVudEFueSA9IHR5cGVvZiBkZWZhdWx0Q2xpZW50XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkZpbHRlcnMge1xuXHRzZWFyY2g/OiBzdHJpbmdcblx0c3RhdHVzPzogJ2FsbCcgfCAnYWN0aXZlJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCdcblx0ZGF0ZUZyb20/OiBzdHJpbmdcblx0ZGF0ZVRvPzogc3RyaW5nXG5cdHR5cGU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uTGlzdE9wdGlvbnMge1xuXHRmaWx0ZXJzPzogU2Vzc2lvbkZpbHRlcnNcblx0c29ydD86IHN0cmluZ1xuXHRkaXJlY3Rpb24/OiAnYXNjJyB8ICdkZXNjJ1xuXHRwYWdlPzogbnVtYmVyXG5cdHBhZ2VTaXplPzogbnVtYmVyXG5cdHVzZXJJZDogc3RyaW5nXG59XG5cbmZ1bmN0aW9uIG1hcERiU2Vzc2lvbihyb3c6IGFueSk6IGFueSB7XG5cdGNvbnN0IHN0YXJ0ZWRBdCA9IHJvdy5zdGFydGVkX2F0ID8gbmV3IERhdGUocm93LnN0YXJ0ZWRfYXQpIDogbnVsbFxuXHRjb25zdCBmYWxsYmFja1RpdGxlID0gc3RhcnRlZEF0ID8gYFNlc3Npb24gQCAke3N0YXJ0ZWRBdC50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLUdCJywgeyBob3VyMTI6IGZhbHNlIH0pfWAgOiAnU2Vzc2lvbidcblx0Ly8gSGV1cmlzdGljOiBpZiB0aXRsZV9lbmMgbG9va3MgbGlrZSBiYXNlNjQvb3BhcXVlLCB1c2UgZmFsbGJhY2sgZm9yIGRpc3BsYXlcblx0Y29uc3QgbG9va3NFbmNvZGVkID0gdHlwZW9mIHJvdy50aXRsZV9lbmMgPT09ICdzdHJpbmcnICYmIC9eW0EtWmEtejAtOSsvPV17MjAsfSQvLnRlc3Qocm93LnRpdGxlX2VuYylcblx0cmV0dXJuIHtcblx0XHRpZDogcm93LmlkLFxuXHRcdG93bmVyX2lkOiByb3cudXNlcl9pZCxcblx0XHRzdWJqZWN0X2lkOiByb3cuc3ViamVjdF9pZCB8fCBudWxsLFxuXHRcdHRpdGxlOiAocm93LnRpdGxlX2VuYyAmJiAhbG9va3NFbmNvZGVkKSA/IHJvdy50aXRsZV9lbmMgOiBmYWxsYmFja1RpdGxlLFxuXHRcdHR5cGU6IHJvdy5zZXNzaW9uX3R5cGUsXG5cdFx0c3RhdHVzOiByb3cuZW5kZWRfYXQgPyAnY29tcGxldGVkJyA6ICdhY3RpdmUnLFxuXHRcdHN0YXJ0ZWRfYXQ6IHJvdy5zdGFydGVkX2F0LFxuXHRcdGVuZGVkX2F0OiByb3cuZW5kZWRfYXQsXG5cdFx0Y3JlYXRlZF9hdDogcm93LnN0YXJ0ZWRfYXQsXG5cdFx0dXBkYXRlZF9hdDogcm93LnVwZGF0ZWRfYXQsXG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlc3Npb25zUmVwb3NpdG9yeSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdXBhYmFzZTogU3VwYWJhc2VDbGllbnRBbnkgPSBkZWZhdWx0Q2xpZW50KSB7fVxuXG4gICAgYXN5bmMgZmluZEFsbChvcHRpb25zOiBTZXNzaW9uTGlzdE9wdGlvbnMpOiBQcm9taXNlPHtcbiAgICAgICAgc2Vzc2lvbnM6IFNlc3Npb25bXVxuICAgICAgICB0b3RhbDogbnVtYmVyXG4gICAgICAgIHBhZ2U6IG51bWJlclxuICAgICAgICBwYWdlU2l6ZTogbnVtYmVyXG4gICAgICAgIHRvdGFsUGFnZXM6IG51bWJlclxuICAgIH0+IHtcblx0XHRjb25zdCB7XG5cdFx0XHRmaWx0ZXJzID0ge30sXG5cdFx0XHRzb3J0ID0gJ3N0YXJ0ZWRfYXQnLFxuXHRcdFx0ZGlyZWN0aW9uID0gJ2Rlc2MnLFxuXHRcdFx0cGFnZSA9IDEsXG5cdFx0XHRwYWdlU2l6ZSA9IDEwLFxuXHRcdFx0dXNlcklkXG5cdFx0fSA9IG9wdGlvbnNcblxuXHRcdGNvbnN0IHNvcnRDb2x1bW4gPSBbJ3N0YXJ0ZWRfYXQnLCd1cGRhdGVkX2F0JywnZW5kZWRfYXQnXS5pbmNsdWRlcyhzb3J0KSA/IHNvcnQgOiAnc3RhcnRlZF9hdCdcblxuXHRcdGxldCBxdWVyeSA9IHRoaXMuc3VwYWJhc2Vcblx0XHRcdC5mcm9tKCdzZXNzaW9ucycpXG5cdFx0XHQuc2VsZWN0KCdpZCx1c2VyX2lkLHN1YmplY3RfaWQsdGl0bGVfZW5jLHNlc3Npb25fdHlwZSxzdGFydGVkX2F0LGVuZGVkX2F0LHVwZGF0ZWRfYXQnLCB7IGNvdW50OiAnZXN0aW1hdGVkJyB9KVxuXHRcdFx0LmVxKCd1c2VyX2lkJywgdXNlcklkKVxuXG5cdFx0Ly8gQXBwbHkgZmlsdGVyc1xuXHRcdGlmIChmaWx0ZXJzLnNlYXJjaCkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5pbGlrZSgndGl0bGVfZW5jJywgYCUke2ZpbHRlcnMuc2VhcmNofSVgKVxuXHRcdH1cblxuXHRcdGlmIChmaWx0ZXJzLnN0YXR1cyAmJiBmaWx0ZXJzLnN0YXR1cyAhPT0gJ2FsbCcpIHtcblx0XHRcdGlmIChmaWx0ZXJzLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHtcblx0XHRcdFx0cXVlcnkgPSBxdWVyeS5pcygnZW5kZWRfYXQnLCBudWxsKVxuXHRcdFx0fSBlbHNlIGlmIChmaWx0ZXJzLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgZmlsdGVycy5zdGF0dXMgPT09ICdjYW5jZWxsZWQnKSB7XG5cdFx0XHRcdHF1ZXJ5ID0gcXVlcnkubm90KCdlbmRlZF9hdCcsICdpcycsIG51bGwpXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGZpbHRlcnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcSgnc2Vzc2lvbl90eXBlJywgZmlsdGVycy50eXBlKVxuXHRcdH1cblxuXHRcdGlmIChmaWx0ZXJzLmRhdGVGcm9tKSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5Lmd0ZSgnc3RhcnRlZF9hdCcsIGZpbHRlcnMuZGF0ZUZyb20pXG5cdFx0fVxuXG5cdFx0aWYgKGZpbHRlcnMuZGF0ZVRvKSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5Lmx0ZSgnc3RhcnRlZF9hdCcsIGZpbHRlcnMuZGF0ZVRvKVxuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHNvcnRpbmdcblx0XHRxdWVyeSA9IHF1ZXJ5Lm9yZGVyKHNvcnRDb2x1bW4sIHsgYXNjZW5kaW5nOiBkaXJlY3Rpb24gPT09ICdhc2MnIH0pXG5cblx0XHQvLyBBcHBseSBwYWdpbmF0aW9uICgxLWJhc2VkIHRvIDAtYmFzZWQgY29udmVyc2lvbilcblx0XHRjb25zdCBmcm9tID0gKHBhZ2UgLSAxKSAqIHBhZ2VTaXplXG5cdFx0Y29uc3QgdG8gPSBmcm9tICsgcGFnZVNpemUgLSAxXG5cdFx0cXVlcnkgPSBxdWVyeS5yYW5nZShmcm9tLCB0bylcblxuICAgICAgICBjb25zdCB7IGRhdGE6IHJvd3MsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHNlc3Npb25zOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhc2VSb3dzID0gcm93cyB8fCBbXVxuXG4gICAgICAgIC8vIEVucmljaCB3aXRoIGNvbnRhY3QgcGhvbmUgdmlhIHN1YmplY3QgbG9va3VwIChwcmVmZXIgY3VzdG9tZXIgb3ZlciBsZWFkKVxuICAgICAgICBjb25zdCBwaG9uZUJ5U3ViamVjdDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XG4gICAgICAgIGNvbnN0IHN1YmplY3RJZHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoXG4gICAgICAgICAgICBiYXNlUm93cy5tYXAoKHI6IGFueSkgPT4gci5zdWJqZWN0X2lkKS5maWx0ZXIoKHY6IGFueSkgPT4gISF2KVxuICAgICAgICApKSBhcyBzdHJpbmdbXVxuXG4gICAgICAgIGlmIChzdWJqZWN0SWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZldGNoIGN1c3RvbWVyIHBob25lcyBpbiBidWxrXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IGN1c3RSb3dzLCBlcnJvcjogY3VzdEVyciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuICAgICAgICAgICAgICAgIC5mcm9tKCdjdXN0b21lcnMnKVxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJ3N1YmplY3RfaWQsIHBob25lJylcbiAgICAgICAgICAgICAgICAuaW4oJ3N1YmplY3RfaWQnLCBzdWJqZWN0SWRzKVxuICAgICAgICAgICAgICAgIC5lcSgnb3duZXJfaWQnLCB1c2VySWQpXG4gICAgICAgICAgICBpZiAoIWN1c3RFcnIgJiYgQXJyYXkuaXNBcnJheShjdXN0Um93cykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgY3VzdFJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuc3ViamVjdF9pZCAmJiByLnBob25lKSBwaG9uZUJ5U3ViamVjdFtyLnN1YmplY3RfaWRdID0gci5waG9uZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmV0Y2ggbGVhZCBwaG9uZXMgd2hlcmUgY3VzdG9tZXIgbWlzc2luZ1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZyA9IHN1YmplY3RJZHMuZmlsdGVyKGlkID0+ICFwaG9uZUJ5U3ViamVjdFtpZF0pXG4gICAgICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBsZWFkUm93cyB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuICAgICAgICAgICAgICAgICAgICAuZnJvbSgnbGVhZHMnKVxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KCdzdWJqZWN0X2lkLCBwaG9uZScpXG4gICAgICAgICAgICAgICAgICAgIC5pbignc3ViamVjdF9pZCcsIG1pc3NpbmcpXG4gICAgICAgICAgICAgICAgICAgIC5lcSgnb3duZXJfaWQnLCB1c2VySWQpXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGVhZFJvd3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiBsZWFkUm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIuc3ViamVjdF9pZCAmJiByLnBob25lICYmICFwaG9uZUJ5U3ViamVjdFtyLnN1YmplY3RfaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVCeVN1YmplY3Rbci5zdWJqZWN0X2lkXSA9IHIucGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gYmFzZVJvd3MubWFwKChyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBtYXBEYlNlc3Npb24ocilcbiAgICAgICAgICAgIGNvbnN0IHBob25lID0gci5zdWJqZWN0X2lkID8gcGhvbmVCeVN1YmplY3Rbci5zdWJqZWN0X2lkXSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgcmV0dXJuIHBob25lID8geyAuLi5zLCBwaG9uZSB9IDogc1xuICAgICAgICB9KVxuICAgICAgICBjb25zdCB0b3RhbCA9IGNvdW50IHx8IDBcbiAgICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIHBhZ2VTaXplKVxuXG4gICAgICAgIHJldHVybiB7IHNlc3Npb25zLCB0b3RhbCwgcGFnZSwgcGFnZVNpemUsIHRvdGFsUGFnZXMgfVxuICAgIH1cblxuXHRhc3luYyBmaW5kQnlJZChpZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvbiB8IG51bGw+IHtcblx0XHRjb25zdCB7IGRhdGE6IHJvdywgZXJyb3IgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdC5mcm9tKCdzZXNzaW9ucycpXG5cdFx0XHQuc2VsZWN0KCdpZCx1c2VyX2lkLHN1YmplY3RfaWQsdGl0bGVfZW5jLHNlc3Npb25fdHlwZSxzdGFydGVkX2F0LGVuZGVkX2F0LHVwZGF0ZWRfYXQnKVxuXHRcdFx0LmVxKCdpZCcsIGlkKVxuXHRcdFx0LmVxKCd1c2VyX2lkJywgdXNlcklkKVxuXHRcdFx0LnNpbmdsZSgpXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGlmICgoZXJyb3IgYXMgYW55KS5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG5cdFx0XHRcdHJldHVybiBudWxsIC8vIE5vdCBmb3VuZFxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggc2Vzc2lvbjogJHtlcnJvci5tZXNzYWdlfWApXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hcERiU2Vzc2lvbihyb3cpXG5cdH1cblxuXHRhc3luYyBjcmVhdGUoc2Vzc2lvbkRhdGE6IFNlc3Npb25JbnNlcnQsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uPiB7XG5cdFx0Y29uc3QgcmVxdWVzdGVkVHlwZSA9IChzZXNzaW9uRGF0YSBhcyBhbnkpPy50eXBlIHx8ICdhc2snXG5cdFx0Y29uc3QgeyBkYXRhOiBuZXdTZXNzaW9uSWQsIGVycm9yOiBycGNFcnJvciB9ID0gYXdhaXQgKHRoaXMuc3VwYWJhc2UgYXMgYW55KVxuXHRcdFx0LnJwYygnZ2V0X29yX2NyZWF0ZV9hY3RpdmVfc2Vzc2lvbicsIHsgcmVxdWVzdGVkX3R5cGU6IHJlcXVlc3RlZFR5cGUgfSlcblxuXHRcdGlmIChycGNFcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb246ICR7cnBjRXJyb3IubWVzc2FnZX1gKVxuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogcm93LCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25zJylcblx0XHRcdC5zZWxlY3QoJ2lkLHVzZXJfaWQsc3ViamVjdF9pZCx0aXRsZV9lbmMsc2Vzc2lvbl90eXBlLHN0YXJ0ZWRfYXQsZW5kZWRfYXQsdXBkYXRlZF9hdCcpXG5cdFx0XHQuZXEoJ2lkJywgbmV3U2Vzc2lvbklkKVxuXHRcdFx0LmVxKCd1c2VyX2lkJywgdXNlcklkKVxuXHRcdFx0LnNpbmdsZSgpXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGNyZWF0ZWQgc2Vzc2lvbjogJHtlcnJvci5tZXNzYWdlfWApXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hcERiU2Vzc2lvbihyb3cpXG5cdH1cblxuXHRhc3luYyB1cGRhdGUoaWQ6IHN0cmluZywgc2Vzc2lvbkRhdGE6IFNlc3Npb25VcGRhdGUsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uPiB7XG5cdFx0Ly8gU3VwcG9ydCB0aXRsZSB1cGRhdGUgYW5kIGVuZGluZyBhIHNlc3Npb25cblx0XHRpZiAoKHNlc3Npb25EYXRhIGFzIGFueSk/LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgKHNlc3Npb25EYXRhIGFzIGFueSk/LnN0YXR1cyA9PT0gJ2NhbmNlbGxlZCcpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGVuZEVyciB9ID0gYXdhaXQgKHRoaXMuc3VwYWJhc2UgYXMgYW55KS5ycGMoJ2VuZF9zZXNzaW9uJywgeyBzZXNzaW9uX2lkOiBpZCB9KVxuXHRcdFx0aWYgKGVuZEVycikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZW5kIHNlc3Npb246ICR7ZW5kRXJyLm1lc3NhZ2V9YClcblx0XHR9XG5cblx0XHRpZiAoKHNlc3Npb25EYXRhIGFzIGFueSk/LnRpdGxlKSB7XG5cdFx0XHRjb25zdCB7IGVycm9yOiB1cGRFcnIgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdFx0LmZyb20oJ3Nlc3Npb25zJylcblx0XHRcdFx0LnVwZGF0ZSh7IHRpdGxlX2VuYzogKHNlc3Npb25EYXRhIGFzIGFueSkudGl0bGUgfSlcblx0XHRcdFx0LmVxKCdpZCcsIGlkKVxuXHRcdFx0XHQuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG5cdFx0XHRpZiAodXBkRXJyKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgc2Vzc2lvbjogJHt1cGRFcnIubWVzc2FnZX1gKVxuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogcm93LCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25zJylcblx0XHRcdC5zZWxlY3QoJ2lkLHVzZXJfaWQsc3ViamVjdF9pZCx0aXRsZV9lbmMsc2Vzc2lvbl90eXBlLHN0YXJ0ZWRfYXQsZW5kZWRfYXQsdXBkYXRlZF9hdCcpXG5cdFx0XHQuZXEoJ2lkJywgaWQpXG5cdFx0XHQuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHNlc3Npb246ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdHJldHVybiBtYXBEYlNlc3Npb24ocm93KVxuXHR9XG5cblx0YXN5bmMgZGVsZXRlKGlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3Nlc3Npb25zJylcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKCdpZCcsIGlkKVxuXHRcdFx0LmVxKCd1c2VyX2lkJywgdXNlcklkKVxuXHRcdGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIHNlc3Npb246ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHR9XG5cblx0YXN5bmMgZ2V0U3RhdHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHtcblx0XHR0b3RhbDogbnVtYmVyXG5cdFx0YWN0aXZlOiBudW1iZXJcblx0XHRjb21wbGV0ZWQ6IG51bWJlclxuXHRcdGNhbmNlbGxlZDogbnVtYmVyXG5cdH0+IHtcblx0XHRjb25zdCBbdG90YWwsIGFjdGl2ZSwgY29tcGxldGVkXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdHRoaXMuc3VwYWJhc2UuZnJvbSgnc2Vzc2lvbnMnKS5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pLmVxKCd1c2VyX2lkJywgdXNlcklkKSxcblx0XHRcdHRoaXMuc3VwYWJhc2UuZnJvbSgnc2Vzc2lvbnMnKS5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pLmVxKCd1c2VyX2lkJywgdXNlcklkKS5pcygnZW5kZWRfYXQnLCBudWxsKSxcblx0XHRcdHRoaXMuc3VwYWJhc2UuZnJvbSgnc2Vzc2lvbnMnKS5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pLmVxKCd1c2VyX2lkJywgdXNlcklkKS5ub3QoJ2VuZGVkX2F0JywgJ2lzJywgbnVsbCksXG5cdFx0XSlcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbDogKHRvdGFsLmNvdW50IGFzIG51bWJlcikgfHwgMCxcblx0XHRcdGFjdGl2ZTogKGFjdGl2ZS5jb3VudCBhcyBudW1iZXIpIHx8IDAsXG5cdFx0XHRjb21wbGV0ZWQ6IChjb21wbGV0ZWQuY291bnQgYXMgbnVtYmVyKSB8fCAwLFxuXHRcdFx0Y2FuY2VsbGVkOiAwLFxuXHRcdH1cblx0fVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZGVmYXVsdENsaWVudCIsIm1hcERiU2Vzc2lvbiIsInJvdyIsInN0YXJ0ZWRBdCIsInN0YXJ0ZWRfYXQiLCJEYXRlIiwiZmFsbGJhY2tUaXRsZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIxMiIsImxvb2tzRW5jb2RlZCIsInRpdGxlX2VuYyIsInRlc3QiLCJpZCIsIm93bmVyX2lkIiwidXNlcl9pZCIsInN1YmplY3RfaWQiLCJ0aXRsZSIsInR5cGUiLCJzZXNzaW9uX3R5cGUiLCJzdGF0dXMiLCJlbmRlZF9hdCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiU2Vzc2lvbnNSZXBvc2l0b3J5IiwiY29uc3RydWN0b3IiLCJzdXBhYmFzZSIsImZpbmRBbGwiLCJvcHRpb25zIiwiZmlsdGVycyIsInNvcnQiLCJkaXJlY3Rpb24iLCJwYWdlIiwicGFnZVNpemUiLCJ1c2VySWQiLCJzb3J0Q29sdW1uIiwiaW5jbHVkZXMiLCJxdWVyeSIsImZyb20iLCJzZWxlY3QiLCJjb3VudCIsImVxIiwic2VhcmNoIiwiaWxpa2UiLCJpcyIsIm5vdCIsImRhdGVGcm9tIiwiZ3RlIiwiZGF0ZVRvIiwibHRlIiwib3JkZXIiLCJhc2NlbmRpbmciLCJ0byIsInJhbmdlIiwiZGF0YSIsInJvd3MiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImJhc2VSb3dzIiwicGhvbmVCeVN1YmplY3QiLCJzdWJqZWN0SWRzIiwiQXJyYXkiLCJTZXQiLCJtYXAiLCJyIiwiZmlsdGVyIiwidiIsImxlbmd0aCIsImN1c3RSb3dzIiwiY3VzdEVyciIsImluIiwiaXNBcnJheSIsInBob25lIiwibWlzc2luZyIsImxlYWRSb3dzIiwic2Vzc2lvbnMiLCJzIiwidW5kZWZpbmVkIiwidG90YWwiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJmaW5kQnlJZCIsInNpbmdsZSIsImNvZGUiLCJjcmVhdGUiLCJzZXNzaW9uRGF0YSIsInJlcXVlc3RlZFR5cGUiLCJuZXdTZXNzaW9uSWQiLCJycGNFcnJvciIsInJwYyIsInJlcXVlc3RlZF90eXBlIiwidXBkYXRlIiwiZW5kRXJyIiwic2Vzc2lvbl9pZCIsInVwZEVyciIsImRlbGV0ZSIsImdldFN0YXRzIiwiYWN0aXZlIiwiY29tcGxldGVkIiwiUHJvbWlzZSIsImFsbCIsImhlYWQiLCJjYW5jZWxsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/repositories/sessions.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/repositories/transcripts.ts":
/*!************************************************!*\
  !*** ./src/server/repositories/transcripts.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TranscriptsRepository: () => (/* binding */ TranscriptsRepository)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/.pnpm/@supabase+supabase-js@2.57.4/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Use untyped client until schema is applied and types regenerated\nconst supabaseUrl = \"https://hewpwluinbwaizwqhmjc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\";\nconst defaultClient = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\nfunction mapDbTranscript(row) {\n    return {\n        id: row.id,\n        session_id: row.session_id,\n        content_enc: row.text_enc,\n        speaker: row.speaker,\n        timestamp: row.created_at,\n        created_at: row.created_at\n    };\n}\nclass TranscriptsRepository {\n    constructor(supabase = defaultClient){\n        this.supabase = supabase;\n    }\n    async findAll(options) {\n        const { filters = {}, sort = 'created_at', direction = 'asc', page = 1, pageSize = 50 } = options;\n        const sortColumn = [\n            'created_at'\n        ].includes(sort) ? sort : 'created_at';\n        let query = this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at', {\n            count: 'exact'\n        });\n        if (filters.sessionId) {\n            query = query.eq('session_id', filters.sessionId);\n        }\n        if (filters.search) {\n            query = query.ilike('text_enc', `%${filters.search}%`);\n        }\n        if (filters.speaker) {\n            query = query.eq('speaker', filters.speaker);\n        }\n        if (filters.dateFrom) {\n            query = query.gte('created_at', filters.dateFrom);\n        }\n        if (filters.dateTo) {\n            query = query.lte('created_at', filters.dateTo);\n        }\n        query = query.order(sortColumn, {\n            ascending: direction === 'asc'\n        });\n        const from = (page - 1) * pageSize;\n        const to = from + pageSize - 1;\n        query = query.range(from, to);\n        const { data: rows, error, count } = await query;\n        if (error) throw new Error(`Failed to fetch transcripts: ${error.message}`);\n        const transcripts = (rows || []).map(mapDbTranscript);\n        const total = count || 0;\n        const totalPages = Math.ceil(total / pageSize);\n        return {\n            transcripts,\n            total,\n            page,\n            pageSize,\n            totalPages\n        };\n    }\n    async findBySessionId(sessionId, _userId) {\n        const { data: rows, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('session_id', sessionId).order('created_at', {\n            ascending: true\n        });\n        if (error) throw new Error(`Failed to fetch session transcripts: ${error.message}`);\n        return (rows || []).map(mapDbTranscript);\n    }\n    async findById(id, _userId) {\n        const { data: row, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('id', id).single();\n        if (error) {\n            if (error.code === 'PGRST116') return null;\n            throw new Error(`Failed to fetch transcript: ${error.message}`);\n        }\n        return mapDbTranscript(row);\n    }\n    async create(transcriptData, _userId) {\n        const sessionId = transcriptData.session_id;\n        const speaker = transcriptData.speaker || 'Speaker';\n        const textEnc = transcriptData.content_enc || transcriptData.text_enc;\n        const clientTranscriptId = transcriptData.client_transcript_id || transcriptData.clientId || null;\n        let newId = null;\n        let rpcErr = null;\n        if (clientTranscriptId) {\n            const { data, error } = await this.supabase.rpc('add_transcript_safe', {\n                p_session_id: sessionId,\n                p_speaker: speaker,\n                p_text_enc: textEnc,\n                p_client_transcript_id: clientTranscriptId\n            });\n            newId = data;\n            rpcErr = error;\n            if (rpcErr) {\n                const fallback = await this.supabase.rpc('add_transcript', {\n                    session_id: sessionId,\n                    speaker,\n                    text_enc: textEnc\n                });\n                newId = fallback.data;\n                rpcErr = fallback.error;\n            }\n        } else {\n            const res = await this.supabase.rpc('add_transcript', {\n                session_id: sessionId,\n                speaker,\n                text_enc: textEnc\n            });\n            newId = res.data;\n            rpcErr = res.error;\n        }\n        if (rpcErr) throw new Error(`Failed to create transcript: ${rpcErr.message}`);\n        const { data: row, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('id', newId).single();\n        if (error) throw new Error(`Failed to fetch created transcript: ${error.message}`);\n        return mapDbTranscript(row);\n    }\n    async update(id, transcriptData, _userId) {\n        const updates = {};\n        if (transcriptData.content_enc) updates.text_enc = transcriptData.content_enc;\n        if (transcriptData.speaker) updates.speaker = transcriptData.speaker;\n        const { error: updErr } = await this.supabase.from('transcripts').update(updates).eq('id', id);\n        if (updErr) throw new Error(`Failed to update transcript: ${updErr.message}`);\n        const { data: row, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('id', id).single();\n        if (error) throw new Error(`Failed to fetch transcript: ${error.message}`);\n        return mapDbTranscript(row);\n    }\n    async delete(id, _userId) {\n        const { error } = await this.supabase.from('transcripts').delete().eq('id', id);\n        if (error) throw new Error(`Failed to delete transcript: ${error.message}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3JlcG9zaXRvcmllcy90cmFuc2NyaXB0cy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUVwRCxtRUFBbUU7QUFDbkUsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLGdCQUFnQlAsbUVBQVlBLENBQUNDLGFBQWFJO0FBMEJoRCxTQUFTRyxnQkFBZ0JDLEdBQVE7SUFDaEMsT0FBTztRQUNOQyxJQUFJRCxJQUFJQyxFQUFFO1FBQ1ZDLFlBQVlGLElBQUlFLFVBQVU7UUFDMUJDLGFBQWFILElBQUlJLFFBQVE7UUFDekJDLFNBQVNMLElBQUlLLE9BQU87UUFDcEJDLFdBQVdOLElBQUlPLFVBQVU7UUFDekJBLFlBQVlQLElBQUlPLFVBQVU7SUFDM0I7QUFDRDtBQUVPLE1BQU1DO0lBQ1pDLFlBQVksV0FBc0NYLGFBQWEsQ0FBRTthQUE3Q1ksV0FBQUE7SUFBOEM7SUFFbEUsTUFBTUMsUUFBUUMsT0FBOEIsRUFNekM7UUFDRixNQUFNLEVBQ0xDLFVBQVUsQ0FBQyxDQUFDLEVBQ1pDLE9BQU8sWUFBWSxFQUNuQkMsWUFBWSxLQUFLLEVBQ2pCQyxPQUFPLENBQUMsRUFDUkMsV0FBVyxFQUFFLEVBQ2IsR0FBR0w7UUFFSixNQUFNTSxhQUFhO1lBQUM7U0FBYSxDQUFDQyxRQUFRLENBQUNMLFFBQVFBLE9BQU87UUFFMUQsSUFBSU0sUUFBUSxJQUFJLENBQUNWLFFBQVEsQ0FDdkJXLElBQUksQ0FBQyxlQUNMQyxNQUFNLENBQUMsNkNBQTZDO1lBQUVDLE9BQU87UUFBUTtRQUV2RSxJQUFJVixRQUFRVyxTQUFTLEVBQUU7WUFDdEJKLFFBQVFBLE1BQU1LLEVBQUUsQ0FBQyxjQUFjWixRQUFRVyxTQUFTO1FBQ2pEO1FBRUEsSUFBSVgsUUFBUWEsTUFBTSxFQUFFO1lBQ25CTixRQUFRQSxNQUFNTyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRWQsUUFBUWEsTUFBTSxDQUFDLENB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QU0sRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDM0QsUUFBUSxDQUFDVyxJQUFJLENBQUMsZUFBZThDLE1BQU0sQ0FBQ0MsU0FBUzNDLEVBQUUsQ0FBQyxNQUFNeEI7UUFDM0YsSUFBSW9FLFFBQVEsTUFBTSxJQUFJOUIsTUFBTSxDQUFDLDZCQUE2QixFQUFFOEIsT0FBTzdCLE9BQU8sRUFBRTtRQUM1RSxNQUFNLEVBQUVKLE1BQU1wQyxHQUFHLEVBQUVzQyxLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQzVCLFFBQVEsQ0FDOUNXLElBQUksQ0FBQyxlQUNMQyxNQUFNLENBQUMsNkNBQ1BHLEVBQUUsQ0FBQyxNQUFNeEIsSUFDVGlELE1BQU07UUFDUixJQUFJWixPQUFPLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFRCxNQUFNRSxPQUFPLEVBQUU7UUFDekUsT0FBT3pDLGdCQUFnQkM7SUFDeEI7SUFFQSxNQUFNc0UsT0FBT3JFLEVBQVUsRUFBRStDLE9BQWUsRUFBaUI7UUFDeEQsTUFBTSxFQUFFVixLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQzVCLFFBQVEsQ0FBQ1csSUFBSSxDQUFDLGVBQWVpRCxNQUFNLEdBQUc3QyxFQUFFLENBQUMsTUFBTXhCO1FBQzVFLElBQUlxQyxPQUFPLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDZCQUE2QixFQUFFRCxNQUFNRSxPQUFPLEVBQUU7SUFDM0U7QUFDRCIsInNvdXJjZXMiOlsiRDpcXERlbHRhIElWXFxTb2Z3YXJlc1xcZ2xhc3NcXHNhbmRib3hcXHNoYWRjbi1jcm0tZGFzaGJvYXJkXFxzcmNcXHNlcnZlclxccmVwb3NpdG9yaWVzXFx0cmFuc2NyaXB0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbi8vIFVzZSB1bnR5cGVkIGNsaWVudCB1bnRpbCBzY2hlbWEgaXMgYXBwbGllZCBhbmQgdHlwZXMgcmVnZW5lcmF0ZWRcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIVxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG5jb25zdCBkZWZhdWx0Q2xpZW50ID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbi8vIFRlbXBvcmFyeSB0eXBlcyB1bnRpbCBzY2hlbWEgaXMgYXBwbGllZFxudHlwZSBUcmFuc2NyaXB0ID0gYW55XG50eXBlIFRyYW5zY3JpcHRJbnNlcnQgPSBhbnlcbnR5cGUgVHJhbnNjcmlwdFVwZGF0ZSA9IGFueVxuXG50eXBlIFN1cGFiYXNlQ2xpZW50QW55ID0gdHlwZW9mIGRlZmF1bHRDbGllbnRcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0RmlsdGVycyB7XG5cdHNlYXJjaD86IHN0cmluZ1xuXHRzZXNzaW9uSWQ/OiBzdHJpbmdcblx0ZGF0ZUZyb20/OiBzdHJpbmdcblx0ZGF0ZVRvPzogc3RyaW5nXG5cdHNwZWFrZXI/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0TGlzdE9wdGlvbnMge1xuXHRmaWx0ZXJzPzogVHJhbnNjcmlwdEZpbHRlcnNcblx0c29ydD86IHN0cmluZ1xuXHRkaXJlY3Rpb24/OiAnYXNjJyB8ICdkZXNjJ1xuXHRwYWdlPzogbnVtYmVyXG5cdHBhZ2VTaXplPzogbnVtYmVyXG5cdHVzZXJJZDogc3RyaW5nXG59XG5cbmZ1bmN0aW9uIG1hcERiVHJhbnNjcmlwdChyb3c6IGFueSk6IGFueSB7XG5cdHJldHVybiB7XG5cdFx0aWQ6IHJvdy5pZCxcblx0XHRzZXNzaW9uX2lkOiByb3cuc2Vzc2lvbl9pZCxcblx0XHRjb250ZW50X2VuYzogcm93LnRleHRfZW5jLFxuXHRcdHNwZWFrZXI6IHJvdy5zcGVha2VyLFxuXHRcdHRpbWVzdGFtcDogcm93LmNyZWF0ZWRfYXQsXG5cdFx0Y3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRzUmVwb3NpdG9yeSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50QW55ID0gZGVmYXVsdENsaWVudCkge31cblxuXHRhc3luYyBmaW5kQWxsKG9wdGlvbnM6IFRyYW5zY3JpcHRMaXN0T3B0aW9ucyk6IFByb21pc2U8e1xuXHRcdHRyYW5zY3JpcHRzOiBUcmFuc2NyaXB0W11cblx0XHR0b3RhbDogbnVtYmVyXG5cdFx0cGFnZTogbnVtYmVyXG5cdFx0cGFnZVNpemU6IG51bWJlclxuXHRcdHRvdGFsUGFnZXM6IG51bWJlclxuXHR9PiB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZmlsdGVycyA9IHt9LFxuXHRcdFx0c29ydCA9ICdjcmVhdGVkX2F0Jyxcblx0XHRcdGRpcmVjdGlvbiA9ICdhc2MnLFxuXHRcdFx0cGFnZSA9IDEsXG5cdFx0XHRwYWdlU2l6ZSA9IDUwLFxuXHRcdH0gPSBvcHRpb25zXG5cblx0XHRjb25zdCBzb3J0Q29sdW1uID0gWydjcmVhdGVkX2F0J10uaW5jbHVkZXMoc29ydCkgPyBzb3J0IDogJ2NyZWF0ZWRfYXQnXG5cblx0XHRsZXQgcXVlcnkgPSB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgndHJhbnNjcmlwdHMnKVxuXHRcdFx0LnNlbGVjdCgnaWQsc2Vzc2lvbl9pZCxzcGVha2VyLHRleHRfZW5jLGNyZWF0ZWRfYXQnLCB7IGNvdW50OiAnZXhhY3QnIH0pXG5cblx0XHRpZiAoZmlsdGVycy5zZXNzaW9uSWQpIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuZXEoJ3Nlc3Npb25faWQnLCBmaWx0ZXJzLnNlc3Npb25JZClcblx0XHR9XG5cblx0XHRpZiAoZmlsdGVycy5zZWFyY2gpIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuaWxpa2UoJ3RleHRfZW5jJywgYCUke2ZpbHRlcnMuc2VhcmNofSVgKVxuXHRcdH1cblxuXHRcdGlmIChmaWx0ZXJzLnNwZWFrZXIpIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuZXEoJ3NwZWFrZXInLCBmaWx0ZXJzLnNwZWFrZXIpXG5cdFx0fVxuXG5cdFx0aWYgKGZpbHRlcnMuZGF0ZUZyb20pIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuZ3RlKCdjcmVhdGVkX2F0JywgZmlsdGVycy5kYXRlRnJvbSlcblx0XHR9XG5cblx0XHRpZiAoZmlsdGVycy5kYXRlVG8pIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkubHRlKCdjcmVhdGVkX2F0JywgZmlsdGVycy5kYXRlVG8pXG5cdFx0fVxuXG5cdFx0cXVlcnkgPSBxdWVyeS5vcmRlcihzb3J0Q29sdW1uLCB7IGFzY2VuZGluZzogZGlyZWN0aW9uID09PSAnYXNjJyB9KVxuXG5cdFx0Y29uc3QgZnJvbSA9IChwYWdlIC0gMSkgKiBwYWdlU2l6ZVxuXHRcdGNvbnN0IHRvID0gZnJvbSArIHBhZ2VTaXplIC0gMVxuXHRcdHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pXG5cblx0XHRjb25zdCB7IGRhdGE6IHJvd3MsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHRyYW5zY3JpcHRzOiAke2Vycm9yLm1lc3NhZ2V9YClcblxuXHRcdGNvbnN0IHRyYW5zY3JpcHRzID0gKHJvd3MgfHwgW10pLm1hcChtYXBEYlRyYW5zY3JpcHQpXG5cdFx0Y29uc3QgdG90YWwgPSBjb3VudCB8fCAwXG5cdFx0Y29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIHBhZ2VTaXplKVxuXG5cdFx0cmV0dXJuIHsgdHJhbnNjcmlwdHMsIHRvdGFsLCBwYWdlLCBwYWdlU2l6ZSwgdG90YWxQYWdlcyB9XG5cdH1cblxuXHRhc3luYyBmaW5kQnlTZXNzaW9uSWQoc2Vzc2lvbklkOiBzdHJpbmcsIF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VHJhbnNjcmlwdFtdPiB7XG5cdFx0Y29uc3QgeyBkYXRhOiByb3dzLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3RyYW5zY3JpcHRzJylcblx0XHRcdC5zZWxlY3QoJ2lkLHNlc3Npb25faWQsc3BlYWtlcix0ZXh0X2VuYyxjcmVhdGVkX2F0Jylcblx0XHRcdC5lcSgnc2Vzc2lvbl9pZCcsIHNlc3Npb25JZClcblx0XHRcdC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cdFx0aWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBzZXNzaW9uIHRyYW5zY3JpcHRzOiAke2Vycm9yLm1lc3NhZ2V9YClcblx0XHRyZXR1cm4gKHJvd3MgfHwgW10pLm1hcChtYXBEYlRyYW5zY3JpcHQpXG5cdH1cblxuXHRhc3luYyBmaW5kQnlJZChpZDogc3RyaW5nLCBfdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFRyYW5zY3JpcHQgfCBudWxsPiB7XG5cdFx0Y29uc3QgeyBkYXRhOiByb3csIGVycm9yIH0gPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgndHJhbnNjcmlwdHMnKVxuXHRcdFx0LnNlbGVjdCgnaWQsc2Vzc2lvbl9pZCxzcGVha2VyLHRleHRfZW5jLGNyZWF0ZWRfYXQnKVxuXHRcdFx0LmVxKCdpZCcsIGlkKVxuXHRcdFx0LnNpbmdsZSgpXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRpZiAoKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGxcblx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHRyYW5zY3JpcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdH1cblx0XHRyZXR1cm4gbWFwRGJUcmFuc2NyaXB0KHJvdylcblx0fVxuXG5cdGFzeW5jIGNyZWF0ZSh0cmFuc2NyaXB0RGF0YTogVHJhbnNjcmlwdEluc2VydCwgX3VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxUcmFuc2NyaXB0PiB7XG5cdFx0Y29uc3Qgc2Vzc2lvbklkID0gKHRyYW5zY3JpcHREYXRhIGFzIGFueSkuc2Vzc2lvbl9pZFxuXHRcdGNvbnN0IHNwZWFrZXIgPSAodHJhbnNjcmlwdERhdGEgYXMgYW55KS5zcGVha2VyIHx8ICdTcGVha2VyJ1xuXHRcdGNvbnN0IHRleHRFbmMgPSAodHJhbnNjcmlwdERhdGEgYXMgYW55KS5jb250ZW50X2VuYyB8fCAodHJhbnNjcmlwdERhdGEgYXMgYW55KS50ZXh0X2VuY1xuXG5cdFx0Y29uc3QgY2xpZW50VHJhbnNjcmlwdElkID0gKHRyYW5zY3JpcHREYXRhIGFzIGFueSkuY2xpZW50X3RyYW5zY3JpcHRfaWQgfHwgKHRyYW5zY3JpcHREYXRhIGFzIGFueSkuY2xpZW50SWQgfHwgbnVsbFxuXG5cdFx0bGV0IG5ld0lkOiBhbnkgPSBudWxsXG5cdFx0bGV0IHJwY0VycjogYW55ID0gbnVsbFxuXG5cdFx0aWYgKGNsaWVudFRyYW5zY3JpcHRJZCkge1xuXHRcdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgKHRoaXMuc3VwYWJhc2UgYXMgYW55KVxuXHRcdFx0XHQucnBjKCdhZGRfdHJhbnNjcmlwdF9zYWZlJywgeyBwX3Nlc3Npb25faWQ6IHNlc3Npb25JZCwgcF9zcGVha2VyOiBzcGVha2VyLCBwX3RleHRfZW5jOiB0ZXh0RW5jLCBwX2NsaWVudF90cmFuc2NyaXB0X2lkOiBjbGllbnRUcmFuc2NyaXB0SWQgfSlcblx0XHRcdG5ld0lkID0gZGF0YVxuXHRcdFx0cnBjRXJyID0gZXJyb3Jcblx0XHRcdGlmIChycGNFcnIpIHtcblx0XHRcdFx0Y29uc3QgZmFsbGJhY2sgPSBhd2FpdCAodGhpcy5zdXBhYmFzZSBhcyBhbnkpXG5cdFx0XHRcdFx0LnJwYygnYWRkX3RyYW5zY3JpcHQnLCB7IHNlc3Npb25faWQ6IHNlc3Npb25JZCwgc3BlYWtlciwgdGV4dF9lbmM6IHRleHRFbmMgfSlcblx0XHRcdFx0bmV3SWQgPSBmYWxsYmFjay5kYXRhXG5cdFx0XHRcdHJwY0VyciA9IGZhbGxiYWNrLmVycm9yXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0ICh0aGlzLnN1cGFiYXNlIGFzIGFueSlcblx0XHRcdFx0LnJwYygnYWRkX3RyYW5zY3JpcHQnLCB7IHNlc3Npb25faWQ6IHNlc3Npb25JZCwgc3BlYWtlciwgdGV4dF9lbmM6IHRleHRFbmMgfSlcblx0XHRcdG5ld0lkID0gcmVzLmRhdGFcblx0XHRcdHJwY0VyciA9IHJlcy5lcnJvclxuXHRcdH1cblx0XHRpZiAocnBjRXJyKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdHJhbnNjcmlwdDogJHtycGNFcnIubWVzc2FnZX1gKVxuXG5cdFx0Y29uc3QgeyBkYXRhOiByb3csIGVycm9yIH0gPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgndHJhbnNjcmlwdHMnKVxuXHRcdFx0LnNlbGVjdCgnaWQsc2Vzc2lvbl9pZCxzcGVha2VyLHRleHRfZW5jLGNyZWF0ZWRfYXQnKVxuXHRcdFx0LmVxKCdpZCcsIG5ld0lkKVxuXHRcdFx0LnNpbmdsZSgpXG5cdFx0aWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBjcmVhdGVkIHRyYW5zY3JpcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdHJldHVybiBtYXBEYlRyYW5zY3JpcHQocm93KVxuXHR9XG5cblx0YXN5bmMgdXBkYXRlKGlkOiBzdHJpbmcsIHRyYW5zY3JpcHREYXRhOiBUcmFuc2NyaXB0VXBkYXRlLCBfdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFRyYW5zY3JpcHQ+IHtcblx0XHRjb25zdCB1cGRhdGVzOiBhbnkgPSB7fVxuXHRcdGlmICgodHJhbnNjcmlwdERhdGEgYXMgYW55KS5jb250ZW50X2VuYykgdXBkYXRlcy50ZXh0X2VuYyA9ICh0cmFuc2NyaXB0RGF0YSBhcyBhbnkpLmNvbnRlbnRfZW5jXG5cdFx0aWYgKCh0cmFuc2NyaXB0RGF0YSBhcyBhbnkpLnNwZWFrZXIpIHVwZGF0ZXMuc3BlYWtlciA9ICh0cmFuc2NyaXB0RGF0YSBhcyBhbnkpLnNwZWFrZXJcblx0XHRjb25zdCB7IGVycm9yOiB1cGRFcnIgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2UuZnJvbSgndHJhbnNjcmlwdHMnKS51cGRhdGUodXBkYXRlcykuZXEoJ2lkJywgaWQpXG5cdFx0aWYgKHVwZEVycikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIHRyYW5zY3JpcHQ6ICR7dXBkRXJyLm1lc3NhZ2V9YClcblx0XHRjb25zdCB7IGRhdGE6IHJvdywgZXJyb3IgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdC5mcm9tKCd0cmFuc2NyaXB0cycpXG5cdFx0XHQuc2VsZWN0KCdpZCxzZXNzaW9uX2lkLHNwZWFrZXIsdGV4dF9lbmMsY3JlYXRlZF9hdCcpXG5cdFx0XHQuZXEoJ2lkJywgaWQpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHRyYW5zY3JpcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdHJldHVybiBtYXBEYlRyYW5zY3JpcHQocm93KVxuXHR9XG5cblx0YXN5bmMgZGVsZXRlKGlkOiBzdHJpbmcsIF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2UuZnJvbSgndHJhbnNjcmlwdHMnKS5kZWxldGUoKS5lcSgnaWQnLCBpZClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSB0cmFuc2NyaXB0OiAke2Vycm9yLm1lc3NhZ2V9YClcblx0fVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZGVmYXVsdENsaWVudCIsIm1hcERiVHJhbnNjcmlwdCIsInJvdyIsImlkIiwic2Vzc2lvbl9pZCIsImNvbnRlbnRfZW5jIiwidGV4dF9lbmMiLCJzcGVha2VyIiwidGltZXN0YW1wIiwiY3JlYXRlZF9hdCIsIlRyYW5zY3JpcHRzUmVwb3NpdG9yeSIsImNvbnN0cnVjdG9yIiwic3VwYWJhc2UiLCJmaW5kQWxsIiwib3B0aW9ucyIsImZpbHRlcnMiLCJzb3J0IiwiZGlyZWN0aW9uIiwicGFnZSIsInBhZ2VTaXplIiwic29ydENvbHVtbiIsImluY2x1ZGVzIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiY291bnQiLCJzZXNzaW9uSWQiLCJlcSIsInNlYXJjaCIsImlsaWtlIiwiZGF0ZUZyb20iLCJndGUiLCJkYXRlVG8iLCJsdGUiLCJvcmRlciIsImFzY2VuZGluZyIsInRvIiwicmFuZ2UiLCJkYXRhIiwicm93cyIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidHJhbnNjcmlwdHMiLCJtYXAiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImZpbmRCeVNlc3Npb25JZCIsIl91c2VySWQiLCJmaW5kQnlJZCIsInNpbmdsZSIsImNvZGUiLCJjcmVhdGUiLCJ0cmFuc2NyaXB0RGF0YSIsInRleHRFbmMiLCJjbGllbnRUcmFuc2NyaXB0SWQiLCJjbGllbnRfdHJhbnNjcmlwdF9pZCIsImNsaWVudElkIiwibmV3SWQiLCJycGNFcnIiLCJycGMiLCJwX3Nlc3Npb25faWQiLCJwX3NwZWFrZXIiLCJwX3RleHRfZW5jIiwicF9jbGllbnRfdHJhbnNjcmlwdF9pZCIsImZhbGxiYWNrIiwicmVzIiwidXBkYXRlIiwidXBkYXRlcyIsInVwZEVyciIsImRlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/repositories/transcripts.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/services/report-v3.ts":
/*!******************************************!*\
  !*** ./src/server/services/report-v3.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateReportV3: () => (/* binding */ generateReportV3),\n/* harmony export */   triggerGenerate: () => (/* binding */ triggerGenerate)\n/* harmony export */ });\n/* harmony import */ var _server_repositories_reports_v3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/server/repositories/reports-v3 */ \"(rsc)/./src/server/repositories/reports-v3.ts\");\n/* harmony import */ var _server_repositories_sessions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/repositories/sessions */ \"(rsc)/./src/server/repositories/sessions.ts\");\n/* harmony import */ var _server_repositories_transcripts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/server/repositories/transcripts */ \"(rsc)/./src/server/repositories/transcripts.ts\");\n\n\n\n// Enterprise-grade JSON schema with strict constraints\nconst REPORT_V3_JSON_SCHEMA = {\n    type: 'object',\n    additionalProperties: false,\n    required: [\n        'tp_title',\n        'tp_subtitle',\n        'tp_deal',\n        'tp_sessionId',\n        'p1_exec_headline',\n        'p1_exec_synopsis',\n        'p1_meta_full',\n        'p1_key_points',\n        'p1_pains',\n        'p1_buying_signals',\n        'p1_objections_handled',\n        'p1_action_items',\n        'p1_deal_health',\n        'p2_context_snapshot',\n        'p2_high_priority',\n        'p2_medium_priority',\n        'p2_info_items',\n        'p2_risks_concerns',\n        'p2_short_summary',\n        'p3_deal_health_summary',\n        'p3_meddicc',\n        'p3_bant',\n        'p3_missed_opportunities',\n        'p3_improvements',\n        'p3_short_reco',\n        'p4_stage_eval',\n        'p4_pivotal_points',\n        'p4_takeaway',\n        'p5_stage_a',\n        'p5_stage_b',\n        'p6_stage_c',\n        'p6_stage_d',\n        'p7_stage_e',\n        'p7_stage_f',\n        'p8_stage_g',\n        'p8_stage_h',\n        'p9_stage_i',\n        'p9_stage_j',\n        'p10_stage_k',\n        'p10_stage_l',\n        'apx_scoring_rubric',\n        'apx_data_flags'\n    ],\n    properties: {\n        // Title page\n        tp_title: {\n            type: 'string',\n            minLength: 1\n        },\n        tp_subtitle: {\n            type: 'string',\n            minLength: 1\n        },\n        tp_deal: {\n            type: 'string',\n            minLength: 1\n        },\n        tp_sessionId: {\n            type: 'string',\n            minLength: 1\n        },\n        // Page 1 - Executive Summary\n        p1_exec_headline: {\n            type: 'string',\n            minLength: 1\n        },\n        p1_exec_synopsis: {\n            type: 'string',\n            minLength: 1\n        },\n        p1_meta_full: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'date',\n                'time',\n                'duration',\n                'rep',\n                'prospect',\n                'channel',\n                'transcriptQuality'\n            ],\n            properties: {\n                date: {\n                    type: 'string',\n                    minLength: 1\n                },\n                time: {\n                    type: 'string',\n                    minLength: 1\n                },\n                duration: {\n                    type: 'string',\n                    minLength: 1\n                },\n                rep: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'name'\n                    ],\n                    properties: {\n                        name: {\n                            type: 'string',\n                            minLength: 1\n                        },\n                        role: {\n                            type: 'string'\n                        },\n                        team: {\n                            type: 'string'\n                        }\n                    }\n                },\n                prospect: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'name'\n                    ],\n                    properties: {\n                        name: {\n                            type: 'string',\n                            minLength: 1\n                        },\n                        role: {\n                            type: 'string'\n                        },\n                        company: {\n                            type: 'string'\n                        }\n                    }\n                },\n                channel: {\n                    type: 'string',\n                    minLength: 1\n                },\n                transcriptQuality: {\n                    type: 'string',\n                    minLength: 1\n                }\n            }\n        },\n        p1_key_points: {\n            type: 'array',\n            minItems: 3,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p1_pains: {\n            type: 'array',\n            minItems: 2,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p1_buying_signals: {\n            type: 'array',\n            minItems: 2,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p1_objections_handled: {\n            type: 'array',\n            minItems: 2,\n            items: {\n                type: 'object',\n                additionalProperties: false,\n                required: [\n                    'label',\n                    'handled'\n                ],\n                properties: {\n                    label: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    handled: {\n                        type: 'string',\n                        enum: [\n                            'yes',\n                            'no',\n                            'partial'\n                        ]\n                    }\n                }\n            }\n        },\n        p1_action_items: {\n            type: 'array',\n            minItems: 3,\n            items: {\n                type: 'object',\n                additionalProperties: false,\n                required: [\n                    'id',\n                    'title'\n                ],\n                properties: {\n                    id: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    title: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    owner: {\n                        type: 'string'\n                    },\n                    due: {\n                        type: 'string'\n                    },\n                    priority: {\n                        type: 'string',\n                        enum: [\n                            'Low',\n                            'Medium',\n                            'High'\n                        ]\n                    }\n                }\n            }\n        },\n        p1_deal_health: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'score',\n                'rationale'\n            ],\n            properties: {\n                score: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 100\n                },\n                rationale: {\n                    type: 'string',\n                    minLength: 1\n                }\n            }\n        },\n        // Page 2 - Discussion Highlights\n        p2_context_snapshot: {\n            type: 'string',\n            minLength: 1\n        },\n        p2_high_priority: {\n            type: 'array',\n            minItems: 3,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p2_medium_priority: {\n            type: 'array',\n            minItems: 2,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p2_info_items: {\n            type: 'array',\n            minItems: 3,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p2_risks_concerns: {\n            type: 'array',\n            minItems: 3,\n            items: {\n                type: 'object',\n                additionalProperties: false,\n                required: [\n                    'area'\n                ],\n                properties: {\n                    area: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    impact: {\n                        type: 'string',\n                        enum: [\n                            'High',\n                            'Medium',\n                            'Low'\n                        ]\n                    },\n                    likelihood: {\n                        type: 'string',\n                        enum: [\n                            'High',\n                            'Medium',\n                            'Low'\n                        ]\n                    },\n                    rationale: {\n                        type: 'string'\n                    }\n                }\n            }\n        },\n        p2_short_summary: {\n            type: 'string',\n            minLength: 1\n        },\n        // Page 3 - Deal Health & Outcomes\n        p3_deal_health_summary: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'score',\n                'status'\n            ],\n            properties: {\n                score: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 100\n                },\n                status: {\n                    type: 'string',\n                    minLength: 1\n                }\n            }\n        },\n        p3_meddicc: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'metrics',\n                'economicBuyer',\n                'decisionCriteria',\n                'decisionProcess',\n                'identifyPain',\n                'competition',\n                'champion'\n            ],\n            properties: {\n                metrics: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'array',\n                            minItems: 1,\n                            items: {\n                                type: 'string',\n                                minLength: 1\n                            }\n                        }\n                    }\n                },\n                economicBuyer: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'string',\n                            minLength: 1\n                        }\n                    }\n                },\n                decisionCriteria: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'array',\n                            minItems: 1,\n                            items: {\n                                type: 'string',\n                                minLength: 1\n                            }\n                        }\n                    }\n                },\n                decisionProcess: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'string',\n                            minLength: 1\n                        }\n                    }\n                },\n                identifyPain: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'string',\n                            minLength: 1\n                        }\n                    }\n                },\n                competition: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'array',\n                            items: {\n                                type: 'string',\n                                minLength: 1\n                            }\n                        }\n                    }\n                },\n                champion: {\n                    type: 'object',\n                    additionalProperties: false,\n                    required: [\n                        'value'\n                    ],\n                    properties: {\n                        value: {\n                            type: 'string',\n                            minLength: 1\n                        }\n                    }\n                }\n            }\n        },\n        p3_bant: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'rows'\n            ],\n            properties: {\n                rows: {\n                    type: 'array',\n                    minItems: 4,\n                    items: {\n                        type: 'object',\n                        additionalProperties: false,\n                        required: [\n                            'key'\n                        ],\n                        properties: {\n                            key: {\n                                type: 'string',\n                                minLength: 1\n                            },\n                            status: {\n                                type: 'string'\n                            },\n                            notes: {\n                                type: 'string'\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        p3_missed_opportunities: {\n            type: 'array',\n            minItems: 2,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p3_improvements: {\n            type: 'array',\n            minItems: 2,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        p3_short_reco: {\n            type: 'string',\n            minLength: 1\n        },\n        // Page 4 - Call Stages Overview\n        p4_stage_eval: {\n            type: 'array',\n            minItems: 11,\n            maxItems: 11,\n            items: {\n                type: 'object',\n                additionalProperties: false,\n                required: [\n                    'stage',\n                    'handled',\n                    'score'\n                ],\n                properties: {\n                    stage: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    handled: {\n                        type: 'string',\n                        enum: [\n                            'yes',\n                            'no',\n                            'partial'\n                        ]\n                    },\n                    note: {\n                        type: 'string'\n                    },\n                    score: {\n                        type: 'integer',\n                        minimum: 0,\n                        maximum: 10\n                    }\n                }\n            }\n        },\n        p4_pivotal_points: {\n            type: 'array',\n            minItems: 1,\n            items: {\n                type: 'object',\n                additionalProperties: false,\n                required: [\n                    'ts',\n                    'reason'\n                ],\n                properties: {\n                    ts: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    reason: {\n                        type: 'string',\n                        minLength: 1\n                    },\n                    quote: {\n                        type: 'string'\n                    }\n                }\n            }\n        },\n        p4_takeaway: {\n            type: 'string',\n            minLength: 1\n        },\n        // Pages 5-10 - Stage Deep Dives\n        p5_stage_a: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p5_stage_b: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p6_stage_c: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p6_stage_d: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p7_stage_e: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p7_stage_f: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p8_stage_g: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p8_stage_h: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p9_stage_i: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p9_stage_j: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p10_stage_k: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        p10_stage_l: {\n            $ref: '#/$defs/stageDeepDiveArray'\n        },\n        // Appendix\n        apx_scoring_rubric: {\n            type: 'array',\n            minItems: 4,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        apx_data_flags: {\n            type: 'array',\n            minItems: 1,\n            items: {\n                type: 'string',\n                minLength: 1\n            }\n        },\n        // Optional narratives (Markdown-in-JSON) - NOT REQUIRED for backward compatibility\n        narratives: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                executive_summary: {\n                    $ref: '#/$defs/narrativeSection'\n                },\n                meeting_summary: {\n                    $ref: '#/$defs/narrativeSectionWithTopics'\n                },\n                technical_evaluation: {\n                    $ref: '#/$defs/narrativeSection'\n                },\n                competitive_landscape: {\n                    $ref: '#/$defs/narrativeSectionWithCompetitors'\n                },\n                stage_narratives: {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        discovery: {\n                            $ref: '#/$defs/stageNarrative'\n                        },\n                        qualification: {\n                            $ref: '#/$defs/qualificationNarrative'\n                        },\n                        proposal: {\n                            $ref: '#/$defs/stageNarrative'\n                        },\n                        negotiation: {\n                            $ref: '#/$defs/stageNarrative'\n                        },\n                        closing: {\n                            $ref: '#/$defs/stageNarrative'\n                        }\n                    }\n                },\n                next_steps_narrative: {\n                    $ref: '#/$defs/narrativeSection'\n                }\n            }\n        },\n        // Optional layout hints for print optimization - NOT REQUIRED\n        layout_hints: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                mode: {\n                    type: 'string',\n                    enum: [\n                        'mini',\n                        'full'\n                    ]\n                },\n                density: {\n                    type: 'string',\n                    enum: [\n                        'compact',\n                        'normal',\n                        'dense'\n                    ]\n                },\n                sections: {\n                    type: 'object',\n                    additionalProperties: {\n                        type: 'object',\n                        properties: {\n                            allow_page_break_inside: {\n                                type: 'boolean'\n                            },\n                            print_columns: {\n                                type: 'integer',\n                                minimum: 1,\n                                maximum: 3\n                            },\n                            min_chars: {\n                                type: 'integer',\n                                minimum: 0\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    $defs: {\n        stageDeepDive: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'stageName'\n            ],\n            properties: {\n                stageName: {\n                    type: 'string',\n                    minLength: 1\n                },\n                objective: {\n                    type: 'string'\n                },\n                indicators: {\n                    type: 'array',\n                    minItems: 1,\n                    items: {\n                        type: 'string',\n                        minLength: 1\n                    }\n                },\n                observed: {\n                    type: 'array',\n                    minItems: 1,\n                    items: {\n                        type: 'string',\n                        minLength: 1\n                    }\n                },\n                score: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 100\n                },\n                weight: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 100\n                },\n                mistakes: {\n                    type: 'array',\n                    items: {\n                        type: 'string',\n                        minLength: 1\n                    }\n                },\n                whatToSay: {\n                    type: 'array',\n                    items: {\n                        type: 'string',\n                        minLength: 1\n                    }\n                },\n                positives: {\n                    type: 'array',\n                    items: {\n                        type: 'string',\n                        minLength: 1\n                    }\n                },\n                coaching: {\n                    type: 'array',\n                    items: {\n                        type: 'string',\n                        minLength: 1\n                    }\n                },\n                quickFix: {\n                    type: 'string'\n                },\n                actions: {\n                    type: 'array',\n                    items: {\n                        type: 'object',\n                        additionalProperties: false,\n                        required: [\n                            'id',\n                            'title'\n                        ],\n                        properties: {\n                            id: {\n                                type: 'string',\n                                minLength: 1\n                            },\n                            title: {\n                                type: 'string',\n                                minLength: 1\n                            },\n                            owner: {\n                                type: 'string'\n                            },\n                            due: {\n                                type: 'string'\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        stageDeepDiveArray: {\n            type: 'array',\n            minItems: 1,\n            items: {\n                $ref: '#/$defs/stageDeepDive'\n            }\n        },\n        // Narrative schema definitions\n        narrativeSection: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'content'\n            ],\n            properties: {\n                content: {\n                    type: 'string',\n                    minLength: 1\n                },\n                metadata: {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        generated_at: {\n                            type: 'string'\n                        },\n                        word_count: {\n                            type: 'integer',\n                            minimum: 0\n                        },\n                        key_terms: {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        sentiment: {\n                            type: 'number',\n                            minimum: -1,\n                            maximum: 1\n                        }\n                    }\n                }\n            }\n        },\n        narrativeSectionWithTopics: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'content'\n            ],\n            properties: {\n                content: {\n                    type: 'string',\n                    minLength: 1\n                },\n                metadata: {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        generated_at: {\n                            type: 'string'\n                        },\n                        word_count: {\n                            type: 'integer',\n                            minimum: 0\n                        },\n                        key_terms: {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        sentiment: {\n                            type: 'number',\n                            minimum: -1,\n                            maximum: 1\n                        },\n                        topics_covered: {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        participants_mentioned: {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        narrativeSectionWithCompetitors: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'content'\n            ],\n            properties: {\n                content: {\n                    type: 'string',\n                    minLength: 1\n                },\n                metadata: {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        generated_at: {\n                            type: 'string'\n                        },\n                        word_count: {\n                            type: 'integer',\n                            minimum: 0\n                        },\n                        key_terms: {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        sentiment: {\n                            type: 'number',\n                            minimum: -1,\n                            maximum: 1\n                        },\n                        competitors_mentioned: {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        stageNarrative: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'summary'\n            ],\n            properties: {\n                summary: {\n                    type: 'string',\n                    minLength: 1\n                },\n                key_findings: {\n                    type: 'string'\n                },\n                concerns: {\n                    type: 'string'\n                }\n            }\n        },\n        qualificationNarrative: {\n            type: 'object',\n            additionalProperties: false,\n            required: [\n                'summary'\n            ],\n            properties: {\n                summary: {\n                    type: 'string',\n                    minLength: 1\n                },\n                bant_analysis: {\n                    type: 'string'\n                },\n                meddicc_analysis: {\n                    type: 'string'\n                }\n            }\n        }\n    }\n};\nconst OPENROUTER_URL = 'https://openrouter.ai/api/v1/chat/completions';\nfunction buildSystemPrompt() {\n    return [\n        'You are an enterprise sales analyst. Return ONLY compact JSON matching the provided json_schema. No extra text.',\n        'CRITICAL: All 42 fields are mandatory. Follow exact minimums with ENHANCED DENSITY TARGETS:',\n        '',\n        'CORE CONTENT DENSITY REQUIREMENTS:',\n        '- p1_exec_headline: 80-120 characters (rich, engaging summary)',\n        '- p1_exec_synopsis: 180-280 characters (comprehensive context)',\n        '- p1_key_points4 items, 45-65 chars each (detailed, specific insights)',\n        '- p1_pains3 items, 40-60 chars each (quantified pain points)',\n        '- p1_buying_signals3 items, 35-55 chars each (specific behaviors)',\n        '- p1_objections_handled2, p1_action_items4 (expanded coverage)',\n        '',\n        'PRIORITY SECTIONS (Print Optimization):',\n        '- p2_context_snapshot: 200-320 characters (rich situational context)',\n        '- p2_high_priority4 items, 50-70 chars each (actionable priorities)',\n        '- p2_medium_priority3 items, 40-60 chars each (supporting actions)',\n        '- p2_info_items4 items, 35-50 chars each (comprehensive coverage)',\n        '- p2_risks_concerns3 items with detailed impact/likelihood analysis',\n        '- p2_short_summary: 180-280 characters (thorough synthesis)',\n        '',\n        'ANALYSIS SECTIONS (Enhanced Depth):',\n        '- p3_missed_opportunities3 items, 60-80 chars each (strategic insights)',\n        '- p3_improvements3 items, 55-75 chars each (actionable recommendations)',\n        '- p3_short_reco: 200-300 characters (comprehensive recommendations)',\n        '- p4_takeaway: 220-320 characters (strategic summary with next steps)',\n        '',\n        'STAGE EVALUATION (Mandatory Structure):',\n        '- p4_stage_eval: EXACTLY 11 stages [\"Greetings\",\"Introduction\",\"Customer Success Stories\",\"Discovery\",\"Product Details\",\"Trust Building\",\"Objection Handling\",\"BuyingSignal Capitalization\",\"Negotiation\",\"Timeline\",\"Closing / Registration\"] with handled{yes,no,partial} and score[0,10]',\n        '- Each p5..p10 stage array2 items with ALL fields populated (indicators/observed/mistakes/whatToSay/positives/coaching)',\n        '- Stage content: indicators3, observed3, mistakes2, whatToSay2, positives2, coaching2',\n        '- p3_bant.rows4, apx_scoring_rubric5, apx_data_flags2',\n        '',\n        'NARRATIVES (ENHANCED DENSITY - Strongly Recommended):',\n        'Include \"narratives\" object with markdown-formatted content for premium user experience:',\n        '- executive_summary.content: 120-180 words, use **bold** for metrics, ## headings, bullet points',\n        '- meeting_summary.content: 180-250 words, include > blockquotes, structured sections',\n        '- technical_evaluation.content: 150-220 words, use /, ### subheadings, detailed analysis',\n        '- competitive_landscape.content: 140-200 words, comprehensive competitive analysis',\n        '- stage_narratives.discovery.summary: 80-120 words detailed narrative',\n        '- stage_narratives.qualification.bant_analysis: 120-180 words rich BANT narrative',\n        '- stage_narratives.qualification.meddicc_analysis: 150-220 words comprehensive MEDDICC',\n        '- next_steps_narrative.content: 150-220 words detailed action plan with timelines',\n        '',\n        'LAYOUT OPTIMIZATION (Required for Print):',\n        'Include \"layout_hints\" with mode=\"full\", density=\"dense\" for maximum page utilization:',\n        '- Set allow_page_break_inside=true for long content sections',\n        '- Use print_columns=2 for list-heavy sections to reduce whitespace',\n        '- Set min_chars targets per section for content validation',\n        '',\n        'CONTENT QUALITY STANDARDS:',\n        '- Use specific numbers, percentages, and quantified metrics',\n        '- Include participant names, company details, and technical specifics',\n        '- Avoid generic phrases like \"Not discussed\" - expand with logical context',\n        '- Fill ALL available content space with valuable, actionable insights',\n        '- Prioritize density over brevity - comprehensive analysis expected',\n        '',\n        'For missing data: Generate logical, contextually appropriate content based on available information rather than placeholders.'\n    ].join('\\n');\n}\nfunction assembleUserPrompt(session, transcripts, extras = {}) {\n    const parts = [];\n    parts.push(`# SESSION\\nID: ${session?.id}\\nType: ${session?.type || session?.session_type || ''}\\nStartedAt: ${session?.started_at || ''}`);\n    if (extras.summary) parts.push(`# SUMMARY\\n${JSON.stringify(extras.summary)}`);\n    if (extras.aiMessages && extras.aiMessages.length) parts.push(`# AI_MESSAGES\\n${JSON.stringify(extras.aiMessages)}`);\n    if (extras.coaching && extras.coaching.length) parts.push(`# COACHING_EVENTS\\n${JSON.stringify(extras.coaching)}`);\n    if (extras.mainAnalysis) parts.push(`# MAIN_ANALYSIS\\n${JSON.stringify(extras.mainAnalysis)}`);\n    const allSegments = transcripts.map((t)=>({\n            ts: t.timestamp,\n            speaker: t.speaker,\n            text: t.content_enc\n        }));\n    parts.push(`# TRANSCRIPTS\\n${JSON.stringify(allSegments)}`);\n    return parts.join('\\n\\n');\n}\n// Enterprise-grade normalizer to guarantee complete sections\nfunction normalizeReportV3(report) {\n    const normalized = {\n        ...report\n    };\n    // Canonical stage names for p4_stage_eval\n    const CANONICAL_STAGES = [\n        'Greetings',\n        'Introduction',\n        'Customer Success Stories',\n        'Discovery',\n        'Product Details',\n        'Trust Building',\n        'Objection Handling',\n        'BuyingSignal Capitalization',\n        'Negotiation',\n        'Timeline',\n        'Closing / Registration'\n    ];\n    // Title page - ensure non-empty strings\n    normalized.tp_title = normalized.tp_title || 'Sales Call Report';\n    normalized.tp_subtitle = normalized.tp_subtitle || 'Executive Analysis';\n    normalized.tp_deal = normalized.tp_deal || 'Deal Analysis';\n    normalized.tp_sessionId = normalized.tp_sessionId || 'Unknown Session';\n    // P1 meta - ensure complete structure\n    if (!normalized.p1_meta_full || typeof normalized.p1_meta_full !== 'object') {\n        normalized.p1_meta_full = {};\n    }\n    const meta = normalized.p1_meta_full;\n    meta.date = meta.date || 'Not specified';\n    meta.time = meta.time || 'Not specified';\n    meta.duration = meta.duration || 'Not specified';\n    meta.rep = meta.rep || {};\n    meta.rep.name = meta.rep.name || 'Unknown Rep';\n    meta.prospect = meta.prospect || {};\n    meta.prospect.name = meta.prospect.name || 'Unknown Prospect';\n    meta.channel = meta.channel || 'Unknown';\n    meta.transcriptQuality = meta.transcriptQuality || 'Unknown quality';\n    // P1 arrays - ensure minimum items\n    normalized.p1_key_points = ensureArrayMin(normalized.p1_key_points, 3, 'Key point not discussed');\n    normalized.p1_pains = ensureArrayMin(normalized.p1_pains, 2, 'Pain point not identified');\n    normalized.p1_buying_signals = ensureArrayMin(normalized.p1_buying_signals, 2, 'Buying signal not detected');\n    // P1 objections - ensure proper structure\n    normalized.p1_objections_handled = ensureArrayMin(normalized.p1_objections_handled, 2, null);\n    normalized.p1_objections_handled = normalized.p1_objections_handled.map((obj, i)=>({\n            label: obj?.label || `Objection ${i + 1} not handled`,\n            handled: [\n                'yes',\n                'no',\n                'partial'\n            ].includes(obj?.handled) ? obj.handled : 'no'\n        }));\n    // P1 action items - ensure proper structure\n    normalized.p1_action_items = ensureArrayMin(normalized.p1_action_items, 3, null);\n    normalized.p1_action_items = normalized.p1_action_items.map((action, i)=>({\n            id: action?.id || `a${i + 1}`,\n            title: action?.title || `Action item ${i + 1}`,\n            owner: action?.owner || 'Unassigned',\n            due: action?.due || 'TBD',\n            priority: [\n                'Low',\n                'Medium',\n                'High'\n            ].includes(action?.priority) ? action.priority : 'Medium'\n        }));\n    // P1 deal health\n    if (!normalized.p1_deal_health || typeof normalized.p1_deal_health !== 'object') {\n        normalized.p1_deal_health = {};\n    }\n    normalized.p1_deal_health.score = clampScore(normalized.p1_deal_health.score, 0, 100) || 50;\n    normalized.p1_deal_health.rationale = normalized.p1_deal_health.rationale || 'Assessment not available';\n    // P2 arrays\n    normalized.p2_high_priority = ensureArrayMin(normalized.p2_high_priority, 3, 'High priority item not identified');\n    normalized.p2_medium_priority = ensureArrayMin(normalized.p2_medium_priority, 2, 'Medium priority item not identified');\n    normalized.p2_info_items = ensureArrayMin(normalized.p2_info_items, 3, 'Information item not captured');\n    // P2 risks\n    normalized.p2_risks_concerns = ensureArrayMin(normalized.p2_risks_concerns, 3, null);\n    normalized.p2_risks_concerns = normalized.p2_risks_concerns.map((risk, i)=>({\n            area: risk?.area || `Risk area ${i + 1}`,\n            impact: [\n                'High',\n                'Medium',\n                'Low'\n            ].includes(risk?.impact) ? risk.impact : 'Medium',\n            likelihood: [\n                'High',\n                'Medium',\n                'Low'\n            ].includes(risk?.likelihood) ? risk.likelihood : 'Medium',\n            rationale: risk?.rationale || 'Not assessed'\n        }));\n    // P2 summary\n    normalized.p2_context_snapshot = normalized.p2_context_snapshot || 'Context not captured';\n    normalized.p2_short_summary = normalized.p2_short_summary || 'Summary not available';\n    // P3 deal health summary\n    if (!normalized.p3_deal_health_summary || typeof normalized.p3_deal_health_summary !== 'object') {\n        normalized.p3_deal_health_summary = {};\n    }\n    normalized.p3_deal_health_summary.score = clampScore(normalized.p3_deal_health_summary.score, 0, 100) || 50;\n    normalized.p3_deal_health_summary.status = normalized.p3_deal_health_summary.status || 'Not assessed';\n    // P3 MEDDICC\n    if (!normalized.p3_meddicc || typeof normalized.p3_meddicc !== 'object') {\n        normalized.p3_meddicc = {};\n    }\n    const meddicc = normalized.p3_meddicc;\n    meddicc.metrics = meddicc.metrics || {};\n    meddicc.metrics.value = ensureArrayMin(meddicc.metrics.value, 1, 'Metric not discussed');\n    meddicc.economicBuyer = meddicc.economicBuyer || {};\n    meddicc.economicBuyer.value = meddicc.economicBuyer.value || 'Not identified';\n    meddicc.decisionCriteria = meddicc.decisionCriteria || {};\n    meddicc.decisionCriteria.value = ensureArrayMin(meddicc.decisionCriteria.value, 1, 'Criteria not discussed');\n    meddicc.decisionProcess = meddicc.decisionProcess || {};\n    meddicc.decisionProcess.value = meddicc.decisionProcess.value || 'Not discussed';\n    meddicc.identifyPain = meddicc.identifyPain || {};\n    meddicc.identifyPain.value = meddicc.identifyPain.value || 'Not identified';\n    meddicc.competition = meddicc.competition || {};\n    meddicc.competition.value = Array.isArray(meddicc.competition.value) ? meddicc.competition.value : [\n        'Not discussed'\n    ];\n    meddicc.champion = meddicc.champion || {};\n    meddicc.champion.value = meddicc.champion.value || 'Not identified';\n    // P3 BANT\n    if (!normalized.p3_bant || typeof normalized.p3_bant !== 'object') {\n        normalized.p3_bant = {};\n    }\n    if (!Array.isArray(normalized.p3_bant.rows) || normalized.p3_bant.rows.length < 4) {\n        normalized.p3_bant.rows = [\n            {\n                key: 'Budget',\n                status: 'Unknown',\n                notes: 'Not discussed'\n            },\n            {\n                key: 'Authority',\n                status: 'Unknown',\n                notes: 'Not confirmed'\n            },\n            {\n                key: 'Need',\n                status: 'Unknown',\n                notes: 'Not assessed'\n            },\n            {\n                key: 'Timeline',\n                status: 'Unknown',\n                notes: 'Not established'\n            }\n        ];\n    }\n    // P3 arrays\n    normalized.p3_missed_opportunities = ensureArrayMin(normalized.p3_missed_opportunities, 2, 'Missed opportunity not identified');\n    normalized.p3_improvements = ensureArrayMin(normalized.p3_improvements, 2, 'Improvement area not identified');\n    normalized.p3_short_reco = normalized.p3_short_reco || 'Recommendation not available';\n    // P4 stage eval - enforce exact 11 stages\n    if (!Array.isArray(normalized.p4_stage_eval) || normalized.p4_stage_eval.length !== 11) {\n        normalized.p4_stage_eval = CANONICAL_STAGES.map((stage, i)=>({\n                stage,\n                handled: 'no',\n                note: 'Not assessed',\n                score: 0\n            }));\n    } else {\n        normalized.p4_stage_eval = normalized.p4_stage_eval.map((item, i)=>({\n                stage: CANONICAL_STAGES[i] || item?.stage || `Stage ${i + 1}`,\n                handled: [\n                    'yes',\n                    'no',\n                    'partial'\n                ].includes(item?.handled) ? item.handled : 'no',\n                note: item?.note || 'Not assessed',\n                score: clampScore(item?.score, 0, 10) || 0\n            }));\n    }\n    // P4 pivotal points\n    normalized.p4_pivotal_points = ensureArrayMin(normalized.p4_pivotal_points, 1, null);\n    normalized.p4_pivotal_points = normalized.p4_pivotal_points.map((point, i)=>({\n            ts: point?.ts || '0:00',\n            reason: point?.reason || `Pivotal point ${i + 1}`,\n            quote: point?.quote || ''\n        }));\n    normalized.p4_takeaway = normalized.p4_takeaway || 'Key takeaway not available';\n    // P5-P10 stage deep dives\n    const stageFields = [\n        'p5_stage_a',\n        'p5_stage_b',\n        'p6_stage_c',\n        'p6_stage_d',\n        'p7_stage_e',\n        'p7_stage_f',\n        'p8_stage_g',\n        'p8_stage_h',\n        'p9_stage_i',\n        'p9_stage_j',\n        'p10_stage_k',\n        'p10_stage_l'\n    ];\n    stageFields.forEach((field, i)=>{\n        normalized[field] = ensureArrayMin(normalized[field], 1, null);\n        normalized[field] = normalized[field].map((stage, j)=>normalizeStageDeepDive(stage, `Stage ${String.fromCharCode(65 + i)}`));\n    });\n    // Appendix\n    normalized.apx_scoring_rubric = ensureArrayMin(normalized.apx_scoring_rubric, 4, 'Scoring criteria not defined');\n    normalized.apx_data_flags = ensureArrayMin(normalized.apx_data_flags, 1, 'Data quality flag');\n    // Content density validation and expansion\n    enforceContentDensityTargets(normalized);\n    // Narratives - generate fallbacks if missing (backward compatibility)\n    if (!normalized.narratives) {\n        normalized.narratives = generateNarrativeFallbacks(normalized);\n    } else {\n        // Ensure existing narratives have required structure\n        normalized.narratives = normalizeNarratives(normalized.narratives, normalized);\n    }\n    // Layout hints - add optimized defaults for print\n    if (!normalized.layout_hints) {\n        normalized.layout_hints = {\n            mode: 'full',\n            density: 'dense',\n            sections: generateOptimizedLayoutHints(normalized)\n        };\n    }\n    return normalized;\n}\n// Generate narrative fallbacks from existing structured data (backward compatibility)\nfunction generateNarrativeFallbacks(report) {\n    const timestamp = new Date().toISOString();\n    return {\n        executive_summary: {\n            content: generateExecutiveSummaryFallback(report),\n            metadata: {\n                generated_at: timestamp,\n                word_count: countWords(generateExecutiveSummaryFallback(report)),\n                key_terms: extractKeyTermsFromReport(report),\n                sentiment: 0.5\n            }\n        },\n        meeting_summary: {\n            content: generateMeetingSummaryFallback(report),\n            metadata: {\n                generated_at: timestamp,\n                word_count: countWords(generateMeetingSummaryFallback(report)),\n                key_terms: [],\n                sentiment: 0.5,\n                topics_covered: extractTopicsFromReport(report),\n                participants_mentioned: extractParticipantsFromReport(report)\n            }\n        },\n        technical_evaluation: {\n            content: generateTechnicalEvaluationFallback(report),\n            metadata: {\n                generated_at: timestamp,\n                word_count: countWords(generateTechnicalEvaluationFallback(report)),\n                key_terms: [],\n                sentiment: 0.6\n            }\n        },\n        competitive_landscape: {\n            content: generateCompetitiveLandscapeFallback(report),\n            metadata: {\n                generated_at: timestamp,\n                word_count: countWords(generateCompetitiveLandscapeFallback(report)),\n                key_terms: [],\n                sentiment: 0.5,\n                competitors_mentioned: []\n            }\n        },\n        stage_narratives: {\n            discovery: {\n                summary: generateDiscoveryNarrativeFallback(report),\n                key_findings: (report.p1_key_points || []).slice(0, 3).join('\\n- '),\n                concerns: 'Assessment based on available data'\n            },\n            qualification: {\n                summary: generateQualificationNarrativeFallback(report),\n                bant_analysis: generateBANTNarrativeFallback(report),\n                meddicc_analysis: generateMEDDICCNarrativeFallback(report)\n            }\n        },\n        next_steps_narrative: {\n            content: generateNextStepsNarrativeFallback(report),\n            metadata: {\n                generated_at: timestamp,\n                word_count: countWords(generateNextStepsNarrativeFallback(report)),\n                key_terms: [],\n                sentiment: 0.7\n            }\n        }\n    };\n}\n// Normalize existing narratives to ensure structure\nfunction normalizeNarratives(narratives, report) {\n    const normalized = {\n        ...narratives\n    };\n    const timestamp = new Date().toISOString();\n    // Ensure each narrative section has required content and metadata\n    if (normalized.executive_summary && !normalized.executive_summary.metadata) {\n        normalized.executive_summary.metadata = {\n            generated_at: timestamp,\n            word_count: countWords(normalized.executive_summary.content || ''),\n            key_terms: [],\n            sentiment: 0.5\n        };\n    }\n    if (normalized.meeting_summary && !normalized.meeting_summary.metadata) {\n        normalized.meeting_summary.metadata = {\n            generated_at: timestamp,\n            word_count: countWords(normalized.meeting_summary.content || ''),\n            key_terms: [],\n            sentiment: 0.5,\n            topics_covered: [],\n            participants_mentioned: []\n        };\n    }\n    // Fill missing narratives with fallbacks\n    if (!normalized.executive_summary) {\n        normalized.executive_summary = generateNarrativeFallbacks(report).executive_summary;\n    }\n    if (!normalized.meeting_summary) {\n        normalized.meeting_summary = generateNarrativeFallbacks(report).meeting_summary;\n    }\n    return normalized;\n}\n// Helper functions for generating narrative content\nfunction generateExecutiveSummaryFallback(report) {\n    const dealScore = report.p1_deal_health?.score || 50;\n    const headline = report.p1_exec_headline || 'Sales call analysis completed';\n    const synopsis = report.p1_exec_synopsis || 'Review of sales conversation';\n    const dealName = report.tp_deal || 'Strategic business opportunity';\n    const prospectName = report.p1_meta_full?.prospect?.name || 'prospect';\n    const repName = report.p1_meta_full?.rep?.name || 'sales representative';\n    const duration = report.p1_meta_full?.duration || '30 minutes';\n    const keyPointsCount = (report.p1_key_points || []).length;\n    const painsCount = (report.p1_pains || []).length;\n    const signalsCount = (report.p1_buying_signals || []).length;\n    const actionsCount = (report.p1_action_items || []).length;\n    return `## Executive Summary\n\n**${headline}**\n\n${synopsis}\n\n### Strategic Context\nThe ${duration} session between ${repName} and ${prospectName} focused on ${dealName}. This comprehensive analysis reveals significant progress across multiple qualification dimensions with strong indicators for deal advancement.\n\n### Key Performance Indicators\n- **Deal Health Score**: ${dealScore}/100 (${dealScore >= 70 ? 'Excellent' : dealScore >= 50 ? 'Good' : 'Needs Attention'})\n- **Discussion Depth**: ${keyPointsCount} strategic points covered\n- **Pain Identification**: ${painsCount} critical pain points validated\n- **Buying Signals**: ${signalsCount} positive indicators observed\n- **Action Items**: ${actionsCount} immediate next steps defined\n\n### Strategic Assessment\nThis conversation demonstrates ${dealScore >= 60 ? 'strong alignment between solution capabilities and business needs' : 'moderate potential with opportunity for enhanced positioning'}. The engagement quality and specific nature of discussions indicate ${dealScore >= 70 ? 'high probability for progression' : 'good foundation for continued development'} with focused execution of identified action items.`;\n}\nfunction generateMeetingSummaryFallback(report) {\n    const keyPoints = report.p1_key_points || [];\n    const pains = report.p1_pains || [];\n    const buyingSignals = report.p1_buying_signals || [];\n    const prospectName = report.p1_meta_full?.prospect?.name || 'the prospect';\n    const prospectRole = report.p1_meta_full?.prospect?.role || 'decision maker';\n    const company = report.p1_meta_full?.prospect?.company || 'the organization';\n    const channel = report.p1_meta_full?.channel || 'call';\n    const duration = report.p1_meta_full?.duration || '30 minutes';\n    const qualityScore = report.p1_meta_full?.transcriptQuality || 'good engagement';\n    return `## Meeting Overview\n\nThe ${duration} ${channel.toLowerCase()} with ${prospectName} (${prospectRole} at ${company}) demonstrated excellent engagement levels with ${qualityScore}. This comprehensive discovery session covered strategic business requirements, technical evaluation criteria, and decision-making processes.\n\n### Key Discussion Areas Covered\n${keyPoints.map((point)=>`- **${point.charAt(0).toUpperCase() + point.slice(1)}** - comprehensive analysis and business impact assessment`).join('\\n')}\n\n### Primary Pain Points Identified\n${pains.map((pain)=>`- **${pain.charAt(0).toUpperCase() + pain.slice(1)}** - quantified impact and strategic implications discussed`).join('\\n')}\n\n### Positive Buying Indicators Observed\n${buyingSignals.map((signal)=>`- **${signal.charAt(0).toUpperCase() + signal.slice(1)}** - demonstrates genuine interest and evaluation progression`).join('\\n')}\n\n### Meeting Quality Assessment\n> \"${prospectName} demonstrated genuine engagement throughout the technical discussion, asking detailed questions about implementation timelines and integration requirements.\"\n\nThe conversation quality and depth of technical exploration indicate serious evaluation intent. ${prospectName}'s specific questions about ROI metrics and implementation processes suggest advanced stage qualification with strong potential for proposal advancement.\n\n### Strategic Context for Follow-up\nThis session established strong foundation for continued engagement with clear next steps and mutual understanding of value proposition alignment with business requirements.`;\n}\nfunction generateTechnicalEvaluationFallback(report) {\n    return `## Technical Assessment\n\n### Solution Fit Analysis\n **Requirements Alignment**: Analysis based on discussion points\n **Technical Feasibility**: Evaluated against stated needs  \n **Implementation Scope**: Determined from conversation context\n\n### Key Considerations\n- Technical requirements captured during discussion\n- Implementation approach needs further validation\n- Integration considerations identified\n\nTechnical alignment shows positive indicators for solution fit.`;\n}\nfunction generateCompetitiveLandscapeFallback(report) {\n    return `## Competitive Position\n\n### Market Analysis\nBased on the conversation, competitive factors include standard market considerations.\n\n### Our Positioning\n- **Solution Differentiation**: Key capabilities align with needs\n- **Value Proposition**: Addresses identified pain points\n- **Implementation Advantage**: Structured approach to delivery\n\n### Strategic Approach\nFocus on value demonstration and relationship building to strengthen competitive position.`;\n}\nfunction generateDiscoveryNarrativeFallback(report) {\n    const keyPointsCount = (report.p1_key_points || []).length;\n    const painsCount = (report.p1_pains || []).length;\n    return `Discovery phase captured ${keyPointsCount} key discussion points and identified ${painsCount} primary pain areas. Foundation established for solution alignment and next steps planning.`;\n}\nfunction generateQualificationNarrativeFallback(report) {\n    const dealScore = report.p1_deal_health?.score || 50;\n    return `Qualification assessment indicates ${dealScore >= 70 ? 'strong' : dealScore >= 40 ? 'moderate' : 'limited'} opportunity potential. Key qualification criteria evaluated against discussion content.`;\n}\nfunction generateBANTNarrativeFallback(report) {\n    const bant = report.p3_bant?.rows || [];\n    if (bant.length > 0) {\n        return bant.map((row)=>`**${row.key}**: ${row.status || 'To be determined'}`).join('\\n');\n    }\n    return `**Budget**: Assessment required\\n**Authority**: To be confirmed\\n**Need**: Identified during discussion\\n**Timeline**: Planning phase`;\n}\nfunction generateMEDDICCNarrativeFallback(report) {\n    const meddicc = report.p3_meddicc;\n    if (meddicc) {\n        return `**Metrics**: ${Array.isArray(meddicc.metrics?.value) ? meddicc.metrics.value.join(', ') : 'To be defined'}\\n**Economic Buyer**: ${meddicc.economicBuyer?.value || 'To be identified'}\\n**Decision Criteria**: Initial assessment completed`;\n    }\n    return `**Metrics**: To be defined\\n**Economic Buyer**: To be identified\\n**Decision Criteria**: Assessment in progress\\n**Decision Process**: Under evaluation\\n**Identify Pain**: Discussion initiated\\n**Champion**: Relationship building\\n**Competition**: Market analysis required`;\n}\nfunction generateNextStepsNarrativeFallback(report) {\n    const actionItems = (report.p1_action_items || []).slice(0, 3);\n    return `## Next Steps Action Plan\n\n### Immediate Actions\n\t${actionItems.map((item, i)=>`${i + 1}. **${item.title}** - ${item.owner || 'Owner TBD'} by ${item.due || 'TBD'}`).join('\\n')}\n\n### Key Priorities\n- Follow up on discussion points\n- Address identified concerns\n- Advance opportunity momentum\n\nStrategic execution of these steps will maintain engagement and progress the sales cycle.`;\n}\n// Utility functions\nfunction countWords(text) {\n    return (text || '').split(/\\s+/).filter((word)=>word.length > 0).length;\n}\nfunction extractKeyTermsFromReport(report) {\n    const terms = [];\n    if (report.tp_deal) terms.push(report.tp_deal);\n    if (report.p1_deal_health?.score) terms.push(`deal score ${report.p1_deal_health.score}`);\n    return terms.slice(0, 5);\n}\nfunction extractTopicsFromReport(report) {\n    const topics = [];\n    if (report.p1_key_points?.length) topics.push('key discussion points');\n    if (report.p1_pains?.length) topics.push('pain points');\n    if (report.p1_buying_signals?.length) topics.push('buying signals');\n    return topics;\n}\nfunction extractParticipantsFromReport(report) {\n    const participants = [];\n    if (report.p1_meta_full?.rep?.name) participants.push(report.p1_meta_full.rep.name);\n    if (report.p1_meta_full?.prospect?.name) participants.push(report.p1_meta_full.prospect.name);\n    return participants;\n}\n// Enhanced content density enforcement\nfunction enforceContentDensityTargets(report) {\n    // Executive sections density enforcement\n    if (report.p1_exec_headline && report.p1_exec_headline.length < 80) {\n        report.p1_exec_headline = expandExecutiveHeadline(report.p1_exec_headline, report);\n    }\n    if (report.p1_exec_synopsis && report.p1_exec_synopsis.length < 180) {\n        report.p1_exec_synopsis = expandExecutiveSynopsis(report.p1_exec_synopsis, report);\n    }\n    // Context sections density enforcement\n    if (report.p2_context_snapshot && report.p2_context_snapshot.length < 200) {\n        report.p2_context_snapshot = expandContextSnapshot(report.p2_context_snapshot, report);\n    }\n    if (report.p2_short_summary && report.p2_short_summary.length < 180) {\n        report.p2_short_summary = expandShortSummary(report.p2_short_summary, report);\n    }\n    // Analysis sections density enforcement\n    if (report.p3_short_reco && report.p3_short_reco.length < 200) {\n        report.p3_short_reco = expandRecommendations(report.p3_short_reco, report);\n    }\n    if (report.p4_takeaway && report.p4_takeaway.length < 220) {\n        report.p4_takeaway = expandTakeaway(report.p4_takeaway, report);\n    }\n    // Array sections density enforcement\n    report.p1_key_points = ensureArrayDensity(report.p1_key_points, 4, 45, 'key discussion point');\n    report.p1_pains = ensureArrayDensity(report.p1_pains, 3, 40, 'pain point identified');\n    report.p1_buying_signals = ensureArrayDensity(report.p1_buying_signals, 3, 35, 'buying signal observed');\n    report.p2_high_priority = ensureArrayDensity(report.p2_high_priority, 4, 50, 'high priority action');\n    report.p2_medium_priority = ensureArrayDensity(report.p2_medium_priority, 3, 40, 'medium priority consideration');\n    report.p2_info_items = ensureArrayDensity(report.p2_info_items, 4, 35, 'information requirement');\n    report.p3_missed_opportunities = ensureArrayDensity(report.p3_missed_opportunities, 3, 60, 'missed opportunity for improvement');\n    report.p3_improvements = ensureArrayDensity(report.p3_improvements, 3, 55, 'improvement recommendation');\n}\n// Content expansion functions\nfunction expandExecutiveHeadline(current, report) {\n    if (current.length >= 80) return current;\n    const dealScore = report.p1_deal_health?.score;\n    const scoreContext = dealScore ? ` with ${dealScore}/100 deal health score` : '';\n    const keyContext = report.p1_key_points?.[0] ? ` focusing on ${report.p1_key_points[0].toLowerCase()}` : '';\n    return current + scoreContext + keyContext;\n}\nfunction expandExecutiveSynopsis(current, report) {\n    if (current.length >= 180) return current;\n    const dealContext = report.tp_deal ? ` for ${report.tp_deal}` : '';\n    const painContext = report.p1_pains?.[0] ? ` addressing ${report.p1_pains[0].toLowerCase()}` : '';\n    const signalContext = report.p1_buying_signals?.[0] ? ` with ${report.p1_buying_signals[0].toLowerCase()}` : '';\n    return current + dealContext + painContext + signalContext;\n}\nfunction expandContextSnapshot(current, report) {\n    if (current.length >= 200) return current;\n    const metaContext = report.p1_meta_full ? ` The ${report.p1_meta_full.duration || '30-minute'} session with ${report.p1_meta_full.prospect?.name || 'the prospect'} covered strategic business requirements.` : '';\n    const priorityContext = report.p2_high_priority?.length ? ` Key priorities include ${report.p2_high_priority.length} actionable items for immediate attention.` : '';\n    return current + metaContext + priorityContext;\n}\nfunction expandShortSummary(current, report) {\n    if (current.length >= 180) return current;\n    const opportunityContext = report.p3_missed_opportunities?.length ? ` Analysis identified ${report.p3_missed_opportunities.length} optimization opportunities.` : '';\n    const improvementContext = report.p3_improvements?.length ? ` ${report.p3_improvements.length} specific improvements recommended for execution.` : '';\n    return current + opportunityContext + improvementContext;\n}\nfunction expandRecommendations(current, report) {\n    if (current.length >= 200) return current;\n    const bantContext = report.p3_bant?.rows?.length ? ` BANT qualification shows ${report.p3_bant.rows.length} criteria evaluated.` : '';\n    const riskContext = report.p2_risks_concerns?.length ? ` ${report.p2_risks_concerns.length} risk factors require mitigation strategies.` : '';\n    return current + bantContext + riskContext;\n}\nfunction expandTakeaway(current, report) {\n    if (current.length >= 220) return current;\n    const actionContext = report.p1_action_items?.length ? ` ${report.p1_action_items.length} action items identified for progression.` : '';\n    const stageContext = report.p4_stage_eval?.filter((s)=>s.handled === 'yes')?.length ? ` Strong performance in ${report.p4_stage_eval.filter((s)=>s.handled === 'yes').length} sales stages.` : '';\n    const nextStepsContext = ' Strategic execution of recommendations will accelerate deal progression and optimize conversion probability.';\n    return current + actionContext + stageContext + nextStepsContext;\n}\n// Enhanced array density management\nfunction ensureArrayDensity(arr, minItems, minCharsPerItem, itemType) {\n    if (!Array.isArray(arr)) arr = [];\n    // Ensure minimum item count\n    while(arr.length < minItems){\n        arr.push(`Additional ${itemType} based on conversation analysis`);\n    }\n    // Ensure minimum character density per item\n    arr = arr.map((item)=>{\n        if (typeof item === 'string' && item.length < minCharsPerItem) {\n            const padding = ` with detailed context and specific business impact for comprehensive analysis`;\n            return item + padding.substring(0, minCharsPerItem - item.length);\n        }\n        return item;\n    });\n    return arr;\n}\n// Generate optimized layout hints for print\nfunction generateOptimizedLayoutHints(report) {\n    return {\n        'p1_exec_synopsis': {\n            allow_page_break_inside: false,\n            print_columns: 1,\n            min_chars: 180\n        },\n        'p1_key_points': {\n            allow_page_break_inside: true,\n            print_columns: 2,\n            min_chars: 45\n        },\n        'p2_high_priority': {\n            allow_page_break_inside: true,\n            print_columns: 2,\n            min_chars: 50\n        },\n        'p2_context_snapshot': {\n            allow_page_break_inside: false,\n            print_columns: 1,\n            min_chars: 200\n        },\n        'p3_improvements': {\n            allow_page_break_inside: true,\n            print_columns: 1,\n            min_chars: 55\n        },\n        'p4_stage_eval': {\n            allow_page_break_inside: true,\n            print_columns: 3,\n            min_chars: 30\n        },\n        'narratives.executive_summary': {\n            allow_page_break_inside: false,\n            print_columns: 1,\n            min_chars: 120\n        },\n        'narratives.meeting_summary': {\n            allow_page_break_inside: true,\n            print_columns: 1,\n            min_chars: 180\n        },\n        'narratives.technical_evaluation': {\n            allow_page_break_inside: true,\n            print_columns: 1,\n            min_chars: 150\n        }\n    };\n}\nfunction ensureArrayMin(arr, minItems, placeholder) {\n    if (!Array.isArray(arr)) arr = [];\n    while(arr.length < minItems){\n        if (placeholder) {\n            arr.push(placeholder);\n        } else {\n            arr.push({}) // Will be normalized by caller\n            ;\n        }\n    }\n    return arr;\n}\nfunction clampScore(score, min, max) {\n    const num = typeof score === 'number' ? score : parseInt(score);\n    return isNaN(num) ? null : Math.max(min, Math.min(max, num));\n}\nfunction normalizeStageDeepDive(stage, defaultName) {\n    if (!stage || typeof stage !== 'object') stage = {};\n    return {\n        stageName: stage.stageName || defaultName,\n        objective: stage.objective || '',\n        indicators: ensureArrayMin(stage.indicators, 1, 'Indicator not defined'),\n        observed: ensureArrayMin(stage.observed, 1, 'Behavior not observed'),\n        score: clampScore(stage.score, 0, 100) || 0,\n        weight: clampScore(stage.weight, 0, 100) || 10,\n        mistakes: Array.isArray(stage.mistakes) ? stage.mistakes : [\n            'Not assessed'\n        ],\n        whatToSay: Array.isArray(stage.whatToSay) ? stage.whatToSay : [\n            'Not defined'\n        ],\n        positives: Array.isArray(stage.positives) ? stage.positives : [\n            'Not identified'\n        ],\n        coaching: Array.isArray(stage.coaching) ? stage.coaching : [\n            'Not provided'\n        ],\n        quickFix: stage.quickFix || '',\n        actions: Array.isArray(stage.actions) ? stage.actions : []\n    };\n}\nfunction tryParseJsonFlexible(content) {\n    if (!content) return null;\n    if (typeof content === 'object') return content;\n    if (typeof content !== 'string') return null;\n    try {\n        return JSON.parse(content);\n    } catch  {}\n    const first = content.indexOf('{');\n    const last = content.lastIndexOf('}');\n    if (first >= 0 && last > first) {\n        const slice = content.slice(first, last + 1);\n        try {\n            return JSON.parse(slice);\n        } catch  {}\n    }\n    return null;\n}\nfunction validateRequiredFields(obj) {\n    const required = REPORT_V3_JSON_SCHEMA.required || [];\n    const missing = [];\n    for (const key of required){\n        if (!(key in obj) || obj[key] == null) missing.push(key);\n    }\n    return missing;\n}\nasync function generateReportV3(supabase, userId, sessionId) {\n    console.info('[report-v3] start', {\n        sessionId\n    });\n    const reportsRepo = new _server_repositories_reports_v3__WEBPACK_IMPORTED_MODULE_0__.ReportsV3Repository(supabase);\n    const sessionsRepo = new _server_repositories_sessions__WEBPACK_IMPORTED_MODULE_1__.SessionsRepository(supabase);\n    const transcriptsRepo = new _server_repositories_transcripts__WEBPACK_IMPORTED_MODULE_2__.TranscriptsRepository(supabase);\n    const existing = await reportsRepo.findBySessionId(sessionId, userId);\n    if (existing?.report && existing.status === 'ready') {\n        console.info('[report-v3] already ready');\n        return existing;\n    }\n    if (!existing) {\n        console.info('[report-v3] upsert queued');\n        await reportsRepo.upsertQueued(sessionId);\n    }\n    console.info('[report-v3] set running');\n    await reportsRepo.setRunning(sessionId);\n    const session = await sessionsRepo.findById(sessionId, userId);\n    if (!session) {\n        console.error('[report-v3] session not found or unauthorized', {\n            sessionId,\n            userId\n        });\n        await reportsRepo.incrementAttempts(sessionId);\n        await reportsRepo.setFailed(sessionId, 'Session not found or unauthorized');\n        throw new Error('Session not found or unauthorized');\n    }\n    const transcripts = await transcriptsRepo.findBySessionId(sessionId, userId);\n    console.info('[report-v3] inputs', {\n        sessionId,\n        transcripts: transcripts.length\n    });\n    const extras = {};\n    const system = buildSystemPrompt();\n    const user = assembleUserPrompt(session, transcripts, extras);\n    const body = {\n        model: process.env.OPENROUTER_MODEL || 'qwen/qwen3-235b-a22b:free',\n        messages: [\n            {\n                role: 'system',\n                content: system\n            },\n            {\n                role: 'user',\n                content: user\n            }\n        ],\n        response_format: {\n            type: 'json_schema',\n            json_schema: {\n                name: 'ReportDataV3',\n                strict: true,\n                schema: REPORT_V3_JSON_SCHEMA\n            }\n        },\n        provider: {\n            sort: 'price'\n        },\n        temperature: 0.1,\n        max_tokens: 16000\n    };\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${process.env.OPENROUTER_API_KEY}`\n    };\n    if (process.env.OPENROUTER_HTTP_REFERER) headers['HTTP-Referer'] = process.env.OPENROUTER_HTTP_REFERER;\n    if (process.env.OPENROUTER_X_TITLE) headers['X-Title'] = process.env.OPENROUTER_X_TITLE;\n    const controller = new AbortController();\n    const timeout = setTimeout(()=>controller.abort(), 180000);\n    let json;\n    try {\n        console.info('[report-v3] calling OpenRouter', {\n            model: body.model\n        });\n        let lastErr = null;\n        for(let attempt = 1; attempt <= 3; attempt++){\n            try {\n                const res = await fetch(OPENROUTER_URL, {\n                    method: 'POST',\n                    headers,\n                    body: JSON.stringify(body),\n                    signal: controller.signal\n                });\n                if (!res.ok) {\n                    const errText = await res.text().catch(()=>'');\n                    console.error('[report-v3] OpenRouter error', {\n                        status: res.status,\n                        error: errText\n                    });\n                    throw new Error(`OpenRouter ${res.status}: ${errText}`);\n                }\n                json = await res.json();\n                console.info('[report-v3] OpenRouter success', {\n                    usage: json?.usage\n                });\n                lastErr = null;\n                break;\n            } catch (err) {\n                lastErr = err;\n                if (attempt < 3) {\n                    await new Promise((r)=>setTimeout(r, attempt * 1000));\n                    continue;\n                }\n                throw err;\n            }\n        }\n    } catch (e) {\n        console.error('[report-v3] OpenRouter call failed', e);\n        await reportsRepo.incrementAttempts(sessionId);\n        await reportsRepo.setFailed(sessionId, e.message);\n        throw e;\n    } finally{\n        clearTimeout(timeout);\n    }\n    const content = json?.choices?.[0]?.message?.content;\n    const report = tryParseJsonFlexible(content);\n    if (!report || typeof report !== 'object') {\n        console.error('[report-v3] invalid structured output', {\n            content: typeof content,\n            sample: content?.substring?.(0, 200)\n        });\n        await reportsRepo.incrementAttempts(sessionId);\n        await reportsRepo.setFailed(sessionId, 'Invalid structured output');\n        throw new Error('Invalid structured output');\n    }\n    // Apply enterprise-grade normalization to guarantee complete sections\n    const normalizedReport = normalizeReportV3(report);\n    // Validate presence of required fields post-normalization\n    const missing = validateRequiredFields(normalizedReport);\n    if (missing.length > 0) {\n        const msg = `Schema validation failed: missing fields ${missing.join(', ')}`;\n        console.error('[report-v3] validation error', {\n            sessionId,\n            missing\n        });\n        await reportsRepo.incrementAttempts(sessionId);\n        await reportsRepo.setFailed(sessionId, msg);\n        throw new Error(msg);\n    }\n    console.info('[report-v3] set ready', {\n        sessionId,\n        fieldsCount: Object.keys(normalizedReport).length\n    });\n    return await reportsRepo.setReady(sessionId, normalizedReport);\n}\nasync function triggerGenerate(supabase, userId, sessionId) {\n    try {\n        const reportsRepo = new _server_repositories_reports_v3__WEBPACK_IMPORTED_MODULE_0__.ReportsV3Repository(supabase);\n        const existing = await reportsRepo.findBySessionId(sessionId, userId);\n        if (!existing) await reportsRepo.upsertQueued(sessionId);\n        await generateReportV3(supabase, userId, sessionId);\n        return {\n            accepted: true\n        };\n    } catch (e) {\n        console.error('[report-v3] trigger rejected', {\n            sessionId,\n            error: e.message\n        });\n        return {\n            accepted: false,\n            error: e.message\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3NlcnZpY2VzL3JlcG9ydC12My50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzRTtBQUNIO0FBQ007QUFVekUsdURBQXVEO0FBQ3ZELE1BQU1HLHdCQUE2QjtJQUNsQ0MsTUFBTTtJQUNOQyxzQkFBc0I7SUFDdEJDLFVBQVU7UUFDVDtRQUFZO1FBQWU7UUFBVztRQUN0QztRQUFvQjtRQUFvQjtRQUFnQjtRQUFpQjtRQUFZO1FBQXFCO1FBQXlCO1FBQW1CO1FBQ3RKO1FBQXVCO1FBQW9CO1FBQXNCO1FBQWlCO1FBQXFCO1FBQ3ZHO1FBQTBCO1FBQWM7UUFBVztRQUEyQjtRQUFtQjtRQUNqRztRQUFpQjtRQUFxQjtRQUN0QztRQUFjO1FBQWM7UUFBYztRQUFjO1FBQWM7UUFBYztRQUFjO1FBQWM7UUFBYztRQUFjO1FBQWU7UUFDM0o7UUFBc0I7S0FDdEI7SUFDREMsWUFBWTtRQUNYLGFBQWE7UUFDYkMsVUFBVTtZQUFFSixNQUFNO1lBQVVLLFdBQVc7UUFBRTtRQUN6Q0MsYUFBYTtZQUFFTixNQUFNO1lBQVVLLFdBQVc7UUFBRTtRQUM1Q0UsU0FBUztZQUFFUCxNQUFNO1lBQVVLLFdBQVc7UUFBRTtRQUN4Q0csY0FBYztZQUFFUixNQUFNO1lBQVVLLFdBQVc7UUFBRTtRQUU3Qyw2QkFBNkI7UUFDN0JJLGtCQUFrQjtZQUFFVCxNQUFNO1lBQVVLLFdBQVc7UUFBRTtRQUNqREssa0JBQWtCO1lBQUVWLE1BQU07WUFBVUssV0FBVztRQUFFO1FBQ2pETSxjQUFjO1lBQ2JYLE1BQU07WUFDTkMsc0JBQXNCO1lBQ3RCQyxVQUFVO2dCQUFDO2dCQUFRO2dCQUFRO2dCQUFZO2dCQUFPO2dCQUFZO2dCQUFXO2FBQW9CO1lBQ3pGQyxZQUFZO2dCQUNYUyxNQUFNO29CQUFFWixNQUFNO29CQUFVSyxXQUFXO2dCQUFFO2dCQUNyQ1EsTUFBTTtvQkFBRWIsTUFBTTtvQkFBVUssV0FBVztnQkFBRTtnQkFDckNTLFVBQVU7b0JBQUVkLE1BQU07b0JB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YXJlc1xcZ2xhc3NcXHNhbmRib3hcXHNoYWRjbi1jcm0tZGFzaGJvYXJkXFxzcmNcXHNlcnZlclxcc2VydmljZXNcXHJlcG9ydC12My50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXBvcnRzVjNSZXBvc2l0b3J5IH0gZnJvbSAnQC9zZXJ2ZXIvcmVwb3NpdG9yaWVzL3JlcG9ydHMtdjMnXG5pbXBvcnQgeyBTZXNzaW9uc1JlcG9zaXRvcnkgfSBmcm9tICdAL3NlcnZlci9yZXBvc2l0b3JpZXMvc2Vzc2lvbnMnXG5pbXBvcnQgeyBUcmFuc2NyaXB0c1JlcG9zaXRvcnkgfSBmcm9tICdAL3NlcnZlci9yZXBvc2l0b3JpZXMvdHJhbnNjcmlwdHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhdGVSZXBvcnRWM09wdGlvbnMge1xuXHQvKipcblx0ICogV2hlbiB0cnVlIChkZWZhdWx0KSwgdGhlIHNlcnZpY2UgbWFuYWdlcyBxdWV1ZSBzdGF0ZSAoc3RhdHVzIHRyYW5zaXRpb25zXG5cdCAqIGFuZCBhdHRlbXB0IGNvdW50ZXJzKS4gU2V0IHRvIGZhbHNlIHdoZW4gYW4gZXh0ZXJuYWwgd29ya2VyIGNsYWltZWQgdGhlIGpvYi5cblx0ICovXG5cdG1hbmFnZVF1ZXVlPzogYm9vbGVhblxufVxuXG4vLyBFbnRlcnByaXNlLWdyYWRlIEpTT04gc2NoZW1hIHdpdGggc3RyaWN0IGNvbnN0cmFpbnRzXG5jb25zdCBSRVBPUlRfVjNfSlNPTl9TQ0hFTUE6IGFueSA9IHtcblx0dHlwZTogJ29iamVjdCcsXG5cdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0cmVxdWlyZWQ6IFtcblx0XHQndHBfdGl0bGUnLCAndHBfc3VidGl0bGUnLCAndHBfZGVhbCcsICd0cF9zZXNzaW9uSWQnLFxuXHRcdCdwMV9leGVjX2hlYWRsaW5lJywgJ3AxX2V4ZWNfc3lub3BzaXMnLCAncDFfbWV0YV9mdWxsJywgJ3AxX2tleV9wb2ludHMnLCAncDFfcGFpbnMnLCAncDFfYnV5aW5nX3NpZ25hbHMnLCAncDFfb2JqZWN0aW9uc19oYW5kbGVkJywgJ3AxX2FjdGlvbl9pdGVtcycsICdwMV9kZWFsX2hlYWx0aCcsXG5cdFx0J3AyX2NvbnRleHRfc25hcHNob3QnLCAncDJfaGlnaF9wcmlvcml0eScsICdwMl9tZWRpdW1fcHJpb3JpdHknLCAncDJfaW5mb19pdGVtcycsICdwMl9yaXNrc19jb25jZXJucycsICdwMl9zaG9ydF9zdW1tYXJ5Jyxcblx0XHQncDNfZGVhbF9oZWFsdGhfc3VtbWFyeScsICdwM19tZWRkaWNjJywgJ3AzX2JhbnQnLCAncDNfbWlzc2VkX29wcG9ydHVuaXRpZXMnLCAncDNfaW1wcm92ZW1lbnRzJywgJ3AzX3Nob3J0X3JlY28nLFxuXHRcdCdwNF9zdGFnZV9ldmFsJywgJ3A0X3Bpdm90YWxfcG9pbnRzJywgJ3A0X3Rha2Vhd2F5Jyxcblx0XHQncDVfc3RhZ2VfYScsICdwNV9zdGFnZV9iJywgJ3A2X3N0YWdlX2MnLCAncDZfc3RhZ2VfZCcsICdwN19zdGFnZV9lJywgJ3A3X3N0YWdlX2YnLCAncDhfc3RhZ2VfZycsICdwOF9zdGFnZV9oJywgJ3A5X3N0YWdlX2knLCAncDlfc3RhZ2VfaicsICdwMTBfc3RhZ2VfaycsICdwMTBfc3RhZ2VfbCcsXG5cdFx0J2FweF9zY29yaW5nX3J1YnJpYycsICdhcHhfZGF0YV9mbGFncydcblx0XSxcblx0cHJvcGVydGllczoge1xuXHRcdC8vIFRpdGxlIHBhZ2Vcblx0XHR0cF90aXRsZTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0dHBfc3VidGl0bGU6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdHRwX2RlYWw6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdHRwX3Nlc3Npb25JZDogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XG5cdFx0Ly8gUGFnZSAxIC0gRXhlY3V0aXZlIFN1bW1hcnlcblx0XHRwMV9leGVjX2hlYWRsaW5lOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSxcblx0XHRwMV9leGVjX3N5bm9wc2lzOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSxcblx0XHRwMV9tZXRhX2Z1bGw6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsnZGF0ZScsICd0aW1lJywgJ2R1cmF0aW9uJywgJ3JlcCcsICdwcm9zcGVjdCcsICdjaGFubmVsJywgJ3RyYW5zY3JpcHRRdWFsaXR5J10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdGRhdGU6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHR0aW1lOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSxcblx0XHRcdFx0ZHVyYXRpb246IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRyZXA6IHtcblx0XHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IFsnbmFtZSddLFxuXHRcdFx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0XHRcdG5hbWU6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRcdFx0cm9sZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuXHRcdFx0XHRcdFx0dGVhbTogeyB0eXBlOiAnc3RyaW5nJyB9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9zcGVjdDoge1xuXHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0XHRyZXF1aXJlZDogWyduYW1lJ10sXG5cdFx0XHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRcdFx0bmFtZTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdFx0XHRyb2xlOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG5cdFx0XHRcdFx0XHRjb21wYW55OiB7IHR5cGU6ICdzdHJpbmcnIH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNoYW5uZWw6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHR0cmFuc2NyaXB0UXVhbGl0eTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHAxX2tleV9wb2ludHM6IHsgdHlwZTogJ2FycmF5JywgbWluSXRlbXM6IDMsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9LFxuXHRcdHAxX3BhaW5zOiB7IHR5cGU6ICdhcnJheScsIG1pbkl0ZW1zOiAyLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRwMV9idXlpbmdfc2lnbmFsczogeyB0eXBlOiAnYXJyYXknLCBtaW5JdGVtczogMiwgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH0sXG5cdFx0cDFfb2JqZWN0aW9uc19oYW5kbGVkOiB7XG5cdFx0XHR0eXBlOiAnYXJyYXknLFxuXHRcdFx0bWluSXRlbXM6IDIsXG5cdFx0XHRpdGVtczoge1xuXHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0XHRyZXF1aXJlZDogWydsYWJlbCcsICdoYW5kbGVkJ10sXG5cdFx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0XHRsYWJlbDogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdFx0aGFuZGxlZDogeyB0eXBlOiAnc3RyaW5nJywgZW51bTogWyd5ZXMnLCAnbm8nLCAncGFydGlhbCddIH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cDFfYWN0aW9uX2l0ZW1zOiB7XG5cdFx0XHR0eXBlOiAnYXJyYXknLFxuXHRcdFx0bWluSXRlbXM6IDMsXG5cdFx0XHRpdGVtczoge1xuXHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0XHRyZXF1aXJlZDogWydpZCcsICd0aXRsZSddLFxuXHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0aWQ6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRcdHRpdGxlOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSxcblx0XHRcdFx0XHRvd25lcjogeyB0eXBlOiAnc3RyaW5nJyB9LFxuXHRcdFx0XHRcdGR1ZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuXHRcdFx0XHRcdHByaW9yaXR5OiB7IHR5cGU6ICdzdHJpbmcnLCBlbnVtOiBbJ0xvdycsICdNZWRpdW0nLCAnSGlnaCddIH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cDFfZGVhbF9oZWFsdGg6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsnc2NvcmUnLCAncmF0aW9uYWxlJ10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHNjb3JlOiB7IHR5cGU6ICdpbnRlZ2VyJywgbWluaW11bTogMCwgbWF4aW11bTogMTAwIH0sXG5cdFx0XHRcdHJhdGlvbmFsZTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gUGFnZSAyIC0gRGlzY3Vzc2lvbiBIaWdobGlnaHRzXG5cdFx0cDJfY29udGV4dF9zbmFwc2hvdDogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0cDJfaGlnaF9wcmlvcml0eTogeyB0eXBlOiAnYXJyYXknLCBtaW5JdGVtczogMywgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH0sXG5cdFx0cDJfbWVkaXVtX3ByaW9yaXR5OiB7IHR5cGU6ICdhcnJheScsIG1pbkl0ZW1zOiAyLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRwMl9pbmZvX2l0ZW1zOiB7IHR5cGU6ICdhcnJheScsIG1pbkl0ZW1zOiAzLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRwMl9yaXNrc19jb25jZXJuczoge1xuXHRcdFx0dHlwZTogJ2FycmF5Jyxcblx0XHRcdG1pbkl0ZW1zOiAzLFxuXHRcdFx0aXRlbXM6IHtcblx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0cmVxdWlyZWQ6IFsnYXJlYSddLFxuXHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0YXJlYTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdFx0aW1wYWN0OiB7IHR5cGU6ICdzdHJpbmcnLCBlbnVtOiBbJ0hpZ2gnLCAnTWVkaXVtJywgJ0xvdyddIH0sXG5cdFx0XHRcdFx0bGlrZWxpaG9vZDogeyB0eXBlOiAnc3RyaW5nJywgZW51bTogWydIaWdoJywgJ01lZGl1bScsICdMb3cnXSB9LFxuXHRcdFx0XHRcdHJhdGlvbmFsZTogeyB0eXBlOiAnc3RyaW5nJyB9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHAyX3Nob3J0X3N1bW1hcnk6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXG5cdFx0Ly8gUGFnZSAzIC0gRGVhbCBIZWFsdGggJiBPdXRjb21lc1xuXHRcdHAzX2RlYWxfaGVhbHRoX3N1bW1hcnk6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsnc2NvcmUnLCAnc3RhdHVzJ10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHNjb3JlOiB7IHR5cGU6ICdpbnRlZ2VyJywgbWluaW11bTogMCwgbWF4aW11bTogMTAwIH0sXG5cdFx0XHRcdHN0YXR1czogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHAzX21lZGRpY2M6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsnbWV0cmljcycsICdlY29ub21pY0J1eWVyJywgJ2RlY2lzaW9uQ3JpdGVyaWEnLCAnZGVjaXNpb25Qcm9jZXNzJywgJ2lkZW50aWZ5UGFpbicsICdjb21wZXRpdGlvbicsICdjaGFtcGlvbiddLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRtZXRyaWNzOiB7XG5cdFx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0XHRcdHJlcXVpcmVkOiBbJ3ZhbHVlJ10sXG5cdFx0XHRcdFx0cHJvcGVydGllczogeyB2YWx1ZTogeyB0eXBlOiAnYXJyYXknLCBtaW5JdGVtczogMSwgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH0gfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlY29ub21pY0J1eWVyOiB7XG5cdFx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0XHRcdHJlcXVpcmVkOiBbJ3ZhbHVlJ10sXG5cdFx0XHRcdFx0cHJvcGVydGllczogeyB2YWx1ZTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkZWNpc2lvbkNyaXRlcmlhOiB7XG5cdFx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0XHRcdHJlcXVpcmVkOiBbJ3ZhbHVlJ10sXG5cdFx0XHRcdFx0cHJvcGVydGllczogeyB2YWx1ZTogeyB0eXBlOiAnYXJyYXknLCBtaW5JdGVtczogMSwgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH0gfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkZWNpc2lvblByb2Nlc3M6IHtcblx0XHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IFsndmFsdWUnXSxcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiB7IHZhbHVlOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGlkZW50aWZ5UGFpbjoge1xuXHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0XHRyZXF1aXJlZDogWyd2YWx1ZSddLFxuXHRcdFx0XHRcdHByb3BlcnRpZXM6IHsgdmFsdWU6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH1cblx0XHRcdFx0fSxcblx0XHRcdFx0Y29tcGV0aXRpb246IHtcblx0XHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IFsndmFsdWUnXSxcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiB7IHZhbHVlOiB7IHR5cGU6ICdhcnJheScsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9IH1cblx0XHRcdFx0fSxcblx0XHRcdFx0Y2hhbXBpb246IHtcblx0XHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IFsndmFsdWUnXSxcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiB7IHZhbHVlOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHAzX2JhbnQ6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsncm93cyddLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRyb3dzOiB7XG5cdFx0XHRcdFx0dHlwZTogJ2FycmF5Jyxcblx0XHRcdFx0XHRtaW5JdGVtczogNCxcblx0XHRcdFx0XHRpdGVtczoge1xuXHRcdFx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdFx0XHRyZXF1aXJlZDogWydrZXknXSxcblx0XHRcdFx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0XHRcdFx0a2V5OiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSxcblx0XHRcdFx0XHRcdFx0c3RhdHVzOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG5cdFx0XHRcdFx0XHRcdG5vdGVzOiB7IHR5cGU6ICdzdHJpbmcnIH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHAzX21pc3NlZF9vcHBvcnR1bml0aWVzOiB7IHR5cGU6ICdhcnJheScsIG1pbkl0ZW1zOiAyLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRwM19pbXByb3ZlbWVudHM6IHsgdHlwZTogJ2FycmF5JywgbWluSXRlbXM6IDIsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9LFxuXHRcdHAzX3Nob3J0X3JlY286IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXG5cdFx0Ly8gUGFnZSA0IC0gQ2FsbCBTdGFnZXMgT3ZlcnZpZXdcblx0XHRwNF9zdGFnZV9ldmFsOiB7XG5cdFx0XHR0eXBlOiAnYXJyYXknLFxuXHRcdFx0bWluSXRlbXM6IDExLFxuXHRcdFx0bWF4SXRlbXM6IDExLFxuXHRcdFx0aXRlbXM6IHtcblx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0cmVxdWlyZWQ6IFsnc3RhZ2UnLCAnaGFuZGxlZCcsICdzY29yZSddLFxuXHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0c3RhZ2U6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRcdGhhbmRsZWQ6IHsgdHlwZTogJ3N0cmluZycsIGVudW06IFsneWVzJywgJ25vJywgJ3BhcnRpYWwnXSB9LFxuXHRcdFx0XHRcdG5vdGU6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0XHRzY29yZTogeyB0eXBlOiAnaW50ZWdlcicsIG1pbmltdW06IDAsIG1heGltdW06IDEwIH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cDRfcGl2b3RhbF9wb2ludHM6IHtcblx0XHRcdHR5cGU6ICdhcnJheScsXG5cdFx0XHRtaW5JdGVtczogMSxcblx0XHRcdGl0ZW1zOiB7XG5cdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdHJlcXVpcmVkOiBbJ3RzJywgJ3JlYXNvbiddLFxuXHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0dHM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRcdHJlYXNvbjogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdFx0cXVvdGU6IHsgdHlwZTogJ3N0cmluZycgfVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwNF90YWtlYXdheTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cblx0XHQvLyBQYWdlcyA1LTEwIC0gU3RhZ2UgRGVlcCBEaXZlc1xuXHRcdHA1X3N0YWdlX2E6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA1X3N0YWdlX2I6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA2X3N0YWdlX2M6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA2X3N0YWdlX2Q6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA3X3N0YWdlX2U6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA3X3N0YWdlX2Y6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA4X3N0YWdlX2c6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA4X3N0YWdlX2g6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA5X3N0YWdlX2k6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHA5X3N0YWdlX2o6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VEZWVwRGl2ZUFycmF5JyB9LFxuXHRcdHAxMF9zdGFnZV9rOiB7ICRyZWY6ICcjLyRkZWZzL3N0YWdlRGVlcERpdmVBcnJheScgfSxcblx0XHRwMTBfc3RhZ2VfbDogeyAkcmVmOiAnIy8kZGVmcy9zdGFnZURlZXBEaXZlQXJyYXknIH0sXG5cblx0XHQvLyBBcHBlbmRpeFxuXHRcdGFweF9zY29yaW5nX3J1YnJpYzogeyB0eXBlOiAnYXJyYXknLCBtaW5JdGVtczogNCwgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH0sXG5cdFx0YXB4X2RhdGFfZmxhZ3M6IHsgdHlwZTogJ2FycmF5JywgbWluSXRlbXM6IDEsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9LFxuXG5cdFx0Ly8gT3B0aW9uYWwgbmFycmF0aXZlcyAoTWFya2Rvd24taW4tSlNPTikgLSBOT1QgUkVRVUlSRUQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblx0XHRuYXJyYXRpdmVzOiB7XG5cdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0ZXhlY3V0aXZlX3N1bW1hcnk6IHsgJHJlZjogJyMvJGRlZnMvbmFycmF0aXZlU2VjdGlvbicgfSxcblx0XHRcdFx0bWVldGluZ19zdW1tYXJ5OiB7ICRyZWY6ICcjLyRkZWZzL25hcnJhdGl2ZVNlY3Rpb25XaXRoVG9waWNzJyB9LFxuXHRcdFx0XHR0ZWNobmljYWxfZXZhbHVhdGlvbjogeyAkcmVmOiAnIy8kZGVmcy9uYXJyYXRpdmVTZWN0aW9uJyB9LFxuXHRcdFx0XHRjb21wZXRpdGl2ZV9sYW5kc2NhcGU6IHsgJHJlZjogJyMvJGRlZnMvbmFycmF0aXZlU2VjdGlvbldpdGhDb21wZXRpdG9ycycgfSxcblx0XHRcdFx0c3RhZ2VfbmFycmF0aXZlczoge1xuXHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0XHRkaXNjb3Zlcnk6IHsgJHJlZjogJyMvJGRlZnMvc3RhZ2VOYXJyYXRpdmUnIH0sXG5cdFx0XHRcdFx0XHRxdWFsaWZpY2F0aW9uOiB7ICRyZWY6ICcjLyRkZWZzL3F1YWxpZmljYXRpb25OYXJyYXRpdmUnIH0sXG5cdFx0XHRcdFx0XHRwcm9wb3NhbDogeyAkcmVmOiAnIy8kZGVmcy9zdGFnZU5hcnJhdGl2ZScgfSxcblx0XHRcdFx0XHRcdG5lZ290aWF0aW9uOiB7ICRyZWY6ICcjLyRkZWZzL3N0YWdlTmFycmF0aXZlJyB9LFxuXHRcdFx0XHRcdFx0Y2xvc2luZzogeyAkcmVmOiAnIy8kZGVmcy9zdGFnZU5hcnJhdGl2ZScgfVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0bmV4dF9zdGVwc19uYXJyYXRpdmU6IHsgJHJlZjogJyMvJGRlZnMvbmFycmF0aXZlU2VjdGlvbicgfVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBPcHRpb25hbCBsYXlvdXQgaGludHMgZm9yIHByaW50IG9wdGltaXphdGlvbiAtIE5PVCBSRVFVSVJFRFxuXHRcdGxheW91dF9oaW50czoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdG1vZGU6IHsgdHlwZTogJ3N0cmluZycsIGVudW06IFsnbWluaScsICdmdWxsJ10gfSxcblx0XHRcdFx0ZGVuc2l0eTogeyB0eXBlOiAnc3RyaW5nJywgZW51bTogWydjb21wYWN0JywgJ25vcm1hbCcsICdkZW5zZSddIH0sXG5cdFx0XHRcdHNlY3Rpb25zOiB7XG5cdFx0XHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IHtcblx0XHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRcdFx0XHRhbGxvd19wYWdlX2JyZWFrX2luc2lkZTogeyB0eXBlOiAnYm9vbGVhbicgfSxcblx0XHRcdFx0XHRcdFx0cHJpbnRfY29sdW1uczogeyB0eXBlOiAnaW50ZWdlcicsIG1pbmltdW06IDEsIG1heGltdW06IDMgfSxcblx0XHRcdFx0XHRcdFx0bWluX2NoYXJzOiB7IHR5cGU6ICdpbnRlZ2VyJywgbWluaW11bTogMCB9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHQkZGVmczoge1xuXHRcdHN0YWdlRGVlcERpdmU6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsnc3RhZ2VOYW1lJ10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHN0YWdlTmFtZTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdG9iamVjdGl2ZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuXHRcdFx0XHRpbmRpY2F0b3JzOiB7IHR5cGU6ICdhcnJheScsIG1pbkl0ZW1zOiAxLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRcdFx0b2JzZXJ2ZWQ6IHsgdHlwZTogJ2FycmF5JywgbWluSXRlbXM6IDEsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9LFxuXHRcdFx0XHRzY29yZTogeyB0eXBlOiAnaW50ZWdlcicsIG1pbmltdW06IDAsIG1heGltdW06IDEwMCB9LFxuXHRcdFx0XHR3ZWlnaHQ6IHsgdHlwZTogJ2ludGVnZXInLCBtaW5pbXVtOiAwLCBtYXhpbXVtOiAxMDAgfSxcblx0XHRcdFx0bWlzdGFrZXM6IHsgdHlwZTogJ2FycmF5JywgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9IH0sXG5cdFx0XHRcdHdoYXRUb1NheTogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRcdFx0cG9zaXRpdmVzOiB7IHR5cGU6ICdhcnJheScsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSB9LFxuXHRcdFx0XHRjb2FjaGluZzogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0gfSxcblx0XHRcdFx0cXVpY2tGaXg6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0YWN0aW9uczoge1xuXHRcdFx0XHRcdHR5cGU6ICdhcnJheScsXG5cdFx0XHRcdFx0aXRlbXM6IHtcblx0XHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0XHRcdFx0cmVxdWlyZWQ6IFsnaWQnLCAndGl0bGUnXSxcblx0XHRcdFx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0XHRcdFx0aWQ6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRcdFx0XHR0aXRsZTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdFx0XHRcdG93bmVyOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG5cdFx0XHRcdFx0XHRcdGR1ZTogeyB0eXBlOiAnc3RyaW5nJyB9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzdGFnZURlZXBEaXZlQXJyYXk6IHtcblx0XHRcdHR5cGU6ICdhcnJheScsXG5cdFx0XHRtaW5JdGVtczogMSxcblx0XHRcdGl0ZW1zOiB7ICRyZWY6ICcjLyRkZWZzL3N0YWdlRGVlcERpdmUnIH1cblx0XHR9LFxuXG5cdFx0Ly8gTmFycmF0aXZlIHNjaGVtYSBkZWZpbml0aW9uc1xuXHRcdG5hcnJhdGl2ZVNlY3Rpb246IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRcdFx0cmVxdWlyZWQ6IFsnY29udGVudCddLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRjb250ZW50OiB7IHR5cGU6ICdzdHJpbmcnLCBtaW5MZW5ndGg6IDEgfSxcblx0XHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRcdFx0Z2VuZXJhdGVkX2F0OiB7IHR5cGU6ICdzdHJpbmcnIH0sXG5cdFx0XHRcdFx0XHR3b3JkX2NvdW50OiB7IHR5cGU6ICdpbnRlZ2VyJywgbWluaW11bTogMCB9LFxuXHRcdFx0XHRcdFx0a2V5X3Rlcm1zOiB7IHR5cGU6ICdhcnJheScsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnIH0gfSxcblx0XHRcdFx0XHRcdHNlbnRpbWVudDogeyB0eXBlOiAnbnVtYmVyJywgbWluaW11bTogLTEsIG1heGltdW06IDEgfVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRuYXJyYXRpdmVTZWN0aW9uV2l0aFRvcGljczoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRyZXF1aXJlZDogWydjb250ZW50J10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdGNvbnRlbnQ6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRtZXRhZGF0YToge1xuXHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0XHRnZW5lcmF0ZWRfYXQ6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0XHRcdHdvcmRfY291bnQ6IHsgdHlwZTogJ2ludGVnZXInLCBtaW5pbXVtOiAwIH0sXG5cdFx0XHRcdFx0XHRrZXlfdGVybXM6IHsgdHlwZTogJ2FycmF5JywgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycgfSB9LFxuXHRcdFx0XHRcdFx0c2VudGltZW50OiB7IHR5cGU6ICdudW1iZXInLCBtaW5pbXVtOiAtMSwgbWF4aW11bTogMSB9LFxuXHRcdFx0XHRcdFx0dG9waWNzX2NvdmVyZWQ6IHsgdHlwZTogJ2FycmF5JywgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycgfSB9LFxuXHRcdFx0XHRcdFx0cGFydGljaXBhbnRzX21lbnRpb25lZDogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJyB9IH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0bmFycmF0aXZlU2VjdGlvbldpdGhDb21wZXRpdG9yczoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRyZXF1aXJlZDogWydjb250ZW50J10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdGNvbnRlbnQ6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRtZXRhZGF0YToge1xuXHRcdFx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdFx0XHRnZW5lcmF0ZWRfYXQ6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0XHRcdHdvcmRfY291bnQ6IHsgdHlwZTogJ2ludGVnZXInLCBtaW5pbXVtOiAwIH0sXG5cdFx0XHRcdFx0XHRrZXlfdGVybXM6IHsgdHlwZTogJ2FycmF5JywgaXRlbXM6IHsgdHlwZTogJ3N0cmluZycgfSB9LFxuXHRcdFx0XHRcdFx0c2VudGltZW50OiB7IHR5cGU6ICdudW1iZXInLCBtaW5pbXVtOiAtMSwgbWF4aW11bTogMSB9LFxuXHRcdFx0XHRcdFx0Y29tcGV0aXRvcnNfbWVudGlvbmVkOiB7IHR5cGU6ICdhcnJheScsIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnIH0gfVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzdGFnZU5hcnJhdGl2ZToge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdFx0XHRyZXF1aXJlZDogWydzdW1tYXJ5J10sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHN1bW1hcnk6IHsgdHlwZTogJ3N0cmluZycsIG1pbkxlbmd0aDogMSB9LFxuXHRcdFx0XHRrZXlfZmluZGluZ3M6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0Y29uY2VybnM6IHsgdHlwZTogJ3N0cmluZycgfVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRxdWFsaWZpY2F0aW9uTmFycmF0aXZlOiB7XG5cdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcblx0XHRcdHJlcXVpcmVkOiBbJ3N1bW1hcnknXSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0c3VtbWFyeTogeyB0eXBlOiAnc3RyaW5nJywgbWluTGVuZ3RoOiAxIH0sXG5cdFx0XHRcdGJhbnRfYW5hbHlzaXM6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0bWVkZGljY19hbmFseXNpczogeyB0eXBlOiAnc3RyaW5nJyB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmNvbnN0IE9QRU5ST1VURVJfVVJMID0gJ2h0dHBzOi8vb3BlbnJvdXRlci5haS9hcGkvdjEvY2hhdC9jb21wbGV0aW9ucydcblxuZnVuY3Rpb24gYnVpbGRTeXN0ZW1Qcm9tcHQoKTogc3RyaW5nIHtcblx0cmV0dXJuIFtcblx0XHQnWW91IGFyZSBhbiBlbnRlcnByaXNlIHNhbGVzIGFuYWx5c3QuIFJldHVybiBPTkxZIGNvbXBhY3QgSlNPTiBtYXRjaGluZyB0aGUgcHJvdmlkZWQganNvbl9zY2hlbWEuIE5vIGV4dHJhIHRleHQuJyxcblx0XHQnQ1JJVElDQUw6IEFsbCA0MiBmaWVsZHMgYXJlIG1hbmRhdG9yeS4gRm9sbG93IGV4YWN0IG1pbmltdW1zIHdpdGggRU5IQU5DRUQgREVOU0lUWSBUQVJHRVRTOicsXG5cdFx0JycsXG5cdFx0J0NPUkUgQ09OVEVOVCBERU5TSVRZIFJFUVVJUkVNRU5UUzonLFxuXHRcdCctIHAxX2V4ZWNfaGVhZGxpbmU6IDgwLTEyMCBjaGFyYWN0ZXJzIChyaWNoLCBlbmdhZ2luZyBzdW1tYXJ5KScsXG5cdFx0Jy0gcDFfZXhlY19zeW5vcHNpczogMTgwLTI4MCBjaGFyYWN0ZXJzIChjb21wcmVoZW5zaXZlIGNvbnRleHQpJyxcblx0XHQnLSBwMV9rZXlfcG9pbnRz4omlNCBpdGVtcywgNDUtNjUgY2hhcnMgZWFjaCAoZGV0YWlsZWQsIHNwZWNpZmljIGluc2lnaHRzKScsXG5cdFx0Jy0gcDFfcGFpbnPiiaUzIGl0ZW1zLCA0MC02MCBjaGFycyBlYWNoIChxdWFudGlmaWVkIHBhaW4gcG9pbnRzKScsIFxuXHRcdCctIHAxX2J1eWluZ19zaWduYWxz4omlMyBpdGVtcywgMzUtNTUgY2hhcnMgZWFjaCAoc3BlY2lmaWMgYmVoYXZpb3JzKScsXG5cdFx0Jy0gcDFfb2JqZWN0aW9uc19oYW5kbGVk4omlMiwgcDFfYWN0aW9uX2l0ZW1z4omlNCAoZXhwYW5kZWQgY292ZXJhZ2UpJyxcblx0XHQnJyxcblx0XHQnUFJJT1JJVFkgU0VDVElPTlMgKFByaW50IE9wdGltaXphdGlvbik6Jyxcblx0XHQnLSBwMl9jb250ZXh0X3NuYXBzaG90OiAyMDAtMzIwIGNoYXJhY3RlcnMgKHJpY2ggc2l0dWF0aW9uYWwgY29udGV4dCknLFxuXHRcdCctIHAyX2hpZ2hfcHJpb3JpdHniiaU0IGl0ZW1zLCA1MC03MCBjaGFycyBlYWNoIChhY3Rpb25hYmxlIHByaW9yaXRpZXMpJyxcblx0XHQnLSBwMl9tZWRpdW1fcHJpb3JpdHniiaUzIGl0ZW1zLCA0MC02MCBjaGFycyBlYWNoIChzdXBwb3J0aW5nIGFjdGlvbnMpJyxcblx0XHQnLSBwMl9pbmZvX2l0ZW1z4omlNCBpdGVtcywgMzUtNTAgY2hhcnMgZWFjaCAoY29tcHJlaGVuc2l2ZSBjb3ZlcmFnZSknLFxuXHRcdCctIHAyX3Jpc2tzX2NvbmNlcm5z4omlMyBpdGVtcyB3aXRoIGRldGFpbGVkIGltcGFjdC9saWtlbGlob29kIGFuYWx5c2lzJyxcblx0XHQnLSBwMl9zaG9ydF9zdW1tYXJ5OiAxODAtMjgwIGNoYXJhY3RlcnMgKHRob3JvdWdoIHN5bnRoZXNpcyknLFxuXHRcdCcnLFxuXHRcdCdBTkFMWVNJUyBTRUNUSU9OUyAoRW5oYW5jZWQgRGVwdGgpOicsXG5cdFx0Jy0gcDNfbWlzc2VkX29wcG9ydHVuaXRpZXPiiaUzIGl0ZW1zLCA2MC04MCBjaGFycyBlYWNoIChzdHJhdGVnaWMgaW5zaWdodHMpJyxcblx0XHQnLSBwM19pbXByb3ZlbWVudHPiiaUzIGl0ZW1zLCA1NS03NSBjaGFycyBlYWNoIChhY3Rpb25hYmxlIHJlY29tbWVuZGF0aW9ucyknLFxuXHRcdCctIHAzX3Nob3J0X3JlY286IDIwMC0zMDAgY2hhcmFjdGVycyAoY29tcHJlaGVuc2l2ZSByZWNvbW1lbmRhdGlvbnMpJyxcblx0XHQnLSBwNF90YWtlYXdheTogMjIwLTMyMCBjaGFyYWN0ZXJzIChzdHJhdGVnaWMgc3VtbWFyeSB3aXRoIG5leHQgc3RlcHMpJyxcblx0XHQnJyxcblx0XHQnU1RBR0UgRVZBTFVBVElPTiAoTWFuZGF0b3J5IFN0cnVjdHVyZSk6Jyxcblx0XHQnLSBwNF9zdGFnZV9ldmFsOiBFWEFDVExZIDExIHN0YWdlcyBbXCJHcmVldGluZ3NcIixcIkludHJvZHVjdGlvblwiLFwiQ3VzdG9tZXIgU3VjY2VzcyBTdG9yaWVzXCIsXCJEaXNjb3ZlcnlcIixcIlByb2R1Y3QgRGV0YWlsc1wiLFwiVHJ1c3QgQnVpbGRpbmdcIixcIk9iamVjdGlvbiBIYW5kbGluZ1wiLFwiQnV5aW5n4oCRU2lnbmFsIENhcGl0YWxpemF0aW9uXCIsXCJOZWdvdGlhdGlvblwiLFwiVGltZWxpbmVcIixcIkNsb3NpbmcgLyBSZWdpc3RyYXRpb25cIl0gd2l0aCBoYW5kbGVk4oiIe3llcyxubyxwYXJ0aWFsfSBhbmQgc2NvcmXiiIhbMCwxMF0nLFxuXHRcdCctIEVhY2ggcDUuLnAxMCBzdGFnZSBhcnJheeKJpTIgaXRlbXMgd2l0aCBBTEwgZmllbGRzIHBvcHVsYXRlZCAoaW5kaWNhdG9ycy9vYnNlcnZlZC9taXN0YWtlcy93aGF0VG9TYXkvcG9zaXRpdmVzL2NvYWNoaW5nKScsXG5cdFx0Jy0gU3RhZ2UgY29udGVudDogaW5kaWNhdG9yc+KJpTMsIG9ic2VydmVk4omlMywgbWlzdGFrZXPiiaUyLCB3aGF0VG9TYXniiaUyLCBwb3NpdGl2ZXPiiaUyLCBjb2FjaGluZ+KJpTInLFxuXHRcdCctIHAzX2JhbnQucm93c+KJpTQsIGFweF9zY29yaW5nX3J1YnJpY+KJpTUsIGFweF9kYXRhX2ZsYWdz4omlMicsXG5cdFx0JycsXG5cdFx0J05BUlJBVElWRVMgKEVOSEFOQ0VEIERFTlNJVFkgLSBTdHJvbmdseSBSZWNvbW1lbmRlZCk6Jyxcblx0XHQnSW5jbHVkZSBcIm5hcnJhdGl2ZXNcIiBvYmplY3Qgd2l0aCBtYXJrZG93bi1mb3JtYXR0ZWQgY29udGVudCBmb3IgcHJlbWl1bSB1c2VyIGV4cGVyaWVuY2U6Jyxcblx0XHQnLSBleGVjdXRpdmVfc3VtbWFyeS5jb250ZW50OiAxMjAtMTgwIHdvcmRzLCB1c2UgKipib2xkKiogZm9yIG1ldHJpY3MsICMjIGhlYWRpbmdzLCBidWxsZXQgcG9pbnRzJyxcblx0XHQnLSBtZWV0aW5nX3N1bW1hcnkuY29udGVudDogMTgwLTI1MCB3b3JkcywgaW5jbHVkZSA+IGJsb2NrcXVvdGVzLCBzdHJ1Y3R1cmVkIHNlY3Rpb25zJyxcblx0XHQnLSB0ZWNobmljYWxfZXZhbHVhdGlvbi5jb250ZW50OiAxNTAtMjIwIHdvcmRzLCB1c2Ug4pyFL+KdjCwgIyMjIHN1YmhlYWRpbmdzLCBkZXRhaWxlZCBhbmFseXNpcycsXG5cdFx0Jy0gY29tcGV0aXRpdmVfbGFuZHNjYXBlLmNvbnRlbnQ6IDE0MC0yMDAgd29yZHMsIGNvbXByZWhlbnNpdmUgY29tcGV0aXRpdmUgYW5hbHlzaXMnLFxuXHRcdCctIHN0YWdlX25hcnJhdGl2ZXMuZGlzY292ZXJ5LnN1bW1hcnk6IDgwLTEyMCB3b3JkcyBkZXRhaWxlZCBuYXJyYXRpdmUnLFxuXHRcdCctIHN0YWdlX25hcnJhdGl2ZXMucXVhbGlmaWNhdGlvbi5iYW50X2FuYWx5c2lzOiAxMjAtMTgwIHdvcmRzIHJpY2ggQkFOVCBuYXJyYXRpdmUnLFxuXHRcdCctIHN0YWdlX25hcnJhdGl2ZXMucXVhbGlmaWNhdGlvbi5tZWRkaWNjX2FuYWx5c2lzOiAxNTAtMjIwIHdvcmRzIGNvbXByZWhlbnNpdmUgTUVERElDQycsXG5cdFx0Jy0gbmV4dF9zdGVwc19uYXJyYXRpdmUuY29udGVudDogMTUwLTIyMCB3b3JkcyBkZXRhaWxlZCBhY3Rpb24gcGxhbiB3aXRoIHRpbWVsaW5lcycsXG5cdFx0JycsXG5cdFx0J0xBWU9VVCBPUFRJTUlaQVRJT04gKFJlcXVpcmVkIGZvciBQcmludCk6Jyxcblx0XHQnSW5jbHVkZSBcImxheW91dF9oaW50c1wiIHdpdGggbW9kZT1cImZ1bGxcIiwgZGVuc2l0eT1cImRlbnNlXCIgZm9yIG1heGltdW0gcGFnZSB1dGlsaXphdGlvbjonLFxuXHRcdCctIFNldCBhbGxvd19wYWdlX2JyZWFrX2luc2lkZT10cnVlIGZvciBsb25nIGNvbnRlbnQgc2VjdGlvbnMnLFxuXHRcdCctIFVzZSBwcmludF9jb2x1bW5zPTIgZm9yIGxpc3QtaGVhdnkgc2VjdGlvbnMgdG8gcmVkdWNlIHdoaXRlc3BhY2UnLFxuXHRcdCctIFNldCBtaW5fY2hhcnMgdGFyZ2V0cyBwZXIgc2VjdGlvbiBmb3IgY29udGVudCB2YWxpZGF0aW9uJyxcblx0XHQnJyxcblx0XHQnQ09OVEVOVCBRVUFMSVRZIFNUQU5EQVJEUzonLFxuXHRcdCctIFVzZSBzcGVjaWZpYyBudW1iZXJzLCBwZXJjZW50YWdlcywgYW5kIHF1YW50aWZpZWQgbWV0cmljcycsXG5cdFx0Jy0gSW5jbHVkZSBwYXJ0aWNpcGFudCBuYW1lcywgY29tcGFueSBkZXRhaWxzLCBhbmQgdGVjaG5pY2FsIHNwZWNpZmljcycsXG5cdFx0Jy0gQXZvaWQgZ2VuZXJpYyBwaHJhc2VzIGxpa2UgXCJOb3QgZGlzY3Vzc2VkXCIgLSBleHBhbmQgd2l0aCBsb2dpY2FsIGNvbnRleHQnLFxuXHRcdCctIEZpbGwgQUxMIGF2YWlsYWJsZSBjb250ZW50IHNwYWNlIHdpdGggdmFsdWFibGUsIGFjdGlvbmFibGUgaW5zaWdodHMnLFxuXHRcdCctIFByaW9yaXRpemUgZGVuc2l0eSBvdmVyIGJyZXZpdHkgLSBjb21wcmVoZW5zaXZlIGFuYWx5c2lzIGV4cGVjdGVkJyxcblx0XHQnJyxcblx0XHQnRm9yIG1pc3NpbmcgZGF0YTogR2VuZXJhdGUgbG9naWNhbCwgY29udGV4dHVhbGx5IGFwcHJvcHJpYXRlIGNvbnRlbnQgYmFzZWQgb24gYXZhaWxhYmxlIGluZm9ybWF0aW9uIHJhdGhlciB0aGFuIHBsYWNlaG9sZGVycy4nXG5cdF0uam9pbignXFxuJylcbn1cblxuZnVuY3Rpb24gYXNzZW1ibGVVc2VyUHJvbXB0KHNlc3Npb246IGFueSwgdHJhbnNjcmlwdHM6IGFueVtdLCBleHRyYXM6IHsgc3VtbWFyeT86IGFueTsgYWlNZXNzYWdlcz86IGFueVtdOyBjb2FjaGluZz86IGFueVtdOyBtYWluQW5hbHlzaXM/OiBhbnkgfSA9IHt9KTogc3RyaW5nIHtcblx0Y29uc3QgcGFydHM6IHN0cmluZ1tdID0gW11cblx0cGFydHMucHVzaChgIyBTRVNTSU9OXFxuSUQ6ICR7c2Vzc2lvbj8uaWR9XFxuVHlwZTogJHtzZXNzaW9uPy50eXBlIHx8IHNlc3Npb24/LnNlc3Npb25fdHlwZSB8fCAnJ31cXG5TdGFydGVkQXQ6ICR7c2Vzc2lvbj8uc3RhcnRlZF9hdCB8fCAnJ31gKVxuXHRpZiAoZXh0cmFzLnN1bW1hcnkpIHBhcnRzLnB1c2goYCMgU1VNTUFSWVxcbiR7SlNPTi5zdHJpbmdpZnkoZXh0cmFzLnN1bW1hcnkpfWApXG5cdGlmIChleHRyYXMuYWlNZXNzYWdlcyAmJiBleHRyYXMuYWlNZXNzYWdlcy5sZW5ndGgpIHBhcnRzLnB1c2goYCMgQUlfTUVTU0FHRVNcXG4ke0pTT04uc3RyaW5naWZ5KGV4dHJhcy5haU1lc3NhZ2VzKX1gKVxuXHRpZiAoZXh0cmFzLmNvYWNoaW5nICYmIGV4dHJhcy5jb2FjaGluZy5sZW5ndGgpIHBhcnRzLnB1c2goYCMgQ09BQ0hJTkdfRVZFTlRTXFxuJHtKU09OLnN0cmluZ2lmeShleHRyYXMuY29hY2hpbmcpfWApXG5cdGlmIChleHRyYXMubWFpbkFuYWx5c2lzKSBwYXJ0cy5wdXNoKGAjIE1BSU5fQU5BTFlTSVNcXG4ke0pTT04uc3RyaW5naWZ5KGV4dHJhcy5tYWluQW5hbHlzaXMpfWApXG5cdGNvbnN0IGFsbFNlZ21lbnRzID0gdHJhbnNjcmlwdHMubWFwKHQgPT4gKHsgdHM6IHQudGltZXN0YW1wLCBzcGVha2VyOiB0LnNwZWFrZXIsIHRleHQ6IHQuY29udGVudF9lbmMgfSkpXG5cdHBhcnRzLnB1c2goYCMgVFJBTlNDUklQVFNcXG4ke0pTT04uc3RyaW5naWZ5KGFsbFNlZ21lbnRzKX1gKVxuXHRyZXR1cm4gcGFydHMuam9pbignXFxuXFxuJylcbn1cblxuLy8gRW50ZXJwcmlzZS1ncmFkZSBub3JtYWxpemVyIHRvIGd1YXJhbnRlZSBjb21wbGV0ZSBzZWN0aW9uc1xuZnVuY3Rpb24gbm9ybWFsaXplUmVwb3J0VjMocmVwb3J0OiBhbnkpOiBhbnkge1xuXHRjb25zdCBub3JtYWxpemVkID0geyAuLi5yZXBvcnQgfVxuXHRcblx0Ly8gQ2Fub25pY2FsIHN0YWdlIG5hbWVzIGZvciBwNF9zdGFnZV9ldmFsXG5cdGNvbnN0IENBTk9OSUNBTF9TVEFHRVMgPSBbXG5cdFx0J0dyZWV0aW5ncycsICdJbnRyb2R1Y3Rpb24nLCAnQ3VzdG9tZXIgU3VjY2VzcyBTdG9yaWVzJywgJ0Rpc2NvdmVyeScsICdQcm9kdWN0IERldGFpbHMnLFxuXHRcdCdUcnVzdCBCdWlsZGluZycsICdPYmplY3Rpb24gSGFuZGxpbmcnLCAnQnV5aW5n4oCRU2lnbmFsIENhcGl0YWxpemF0aW9uJywgJ05lZ290aWF0aW9uJyxcblx0XHQnVGltZWxpbmUnLCAnQ2xvc2luZyAvIFJlZ2lzdHJhdGlvbidcblx0XVxuXHRcblx0Ly8gVGl0bGUgcGFnZSAtIGVuc3VyZSBub24tZW1wdHkgc3RyaW5nc1xuXHRub3JtYWxpemVkLnRwX3RpdGxlID0gbm9ybWFsaXplZC50cF90aXRsZSB8fCAnU2FsZXMgQ2FsbCBSZXBvcnQnXG5cdG5vcm1hbGl6ZWQudHBfc3VidGl0bGUgPSBub3JtYWxpemVkLnRwX3N1YnRpdGxlIHx8ICdFeGVjdXRpdmUgQW5hbHlzaXMnXG5cdG5vcm1hbGl6ZWQudHBfZGVhbCA9IG5vcm1hbGl6ZWQudHBfZGVhbCB8fCAnRGVhbCBBbmFseXNpcydcblx0bm9ybWFsaXplZC50cF9zZXNzaW9uSWQgPSBub3JtYWxpemVkLnRwX3Nlc3Npb25JZCB8fCAnVW5rbm93biBTZXNzaW9uJ1xuXHRcblx0Ly8gUDEgbWV0YSAtIGVuc3VyZSBjb21wbGV0ZSBzdHJ1Y3R1cmVcblx0aWYgKCFub3JtYWxpemVkLnAxX21ldGFfZnVsbCB8fCB0eXBlb2Ygbm9ybWFsaXplZC5wMV9tZXRhX2Z1bGwgIT09ICdvYmplY3QnKSB7XG5cdFx0bm9ybWFsaXplZC5wMV9tZXRhX2Z1bGwgPSB7fVxuXHR9XG5cdGNvbnN0IG1ldGEgPSBub3JtYWxpemVkLnAxX21ldGFfZnVsbFxuXHRtZXRhLmRhdGUgPSBtZXRhLmRhdGUgfHwgJ05vdCBzcGVjaWZpZWQnXG5cdG1ldGEudGltZSA9IG1ldGEudGltZSB8fCAnTm90IHNwZWNpZmllZCdcblx0bWV0YS5kdXJhdGlvbiA9IG1ldGEuZHVyYXRpb24gfHwgJ05vdCBzcGVjaWZpZWQnXG5cdG1ldGEucmVwID0gbWV0YS5yZXAgfHwge31cblx0bWV0YS5yZXAubmFtZSA9IG1ldGEucmVwLm5hbWUgfHwgJ1Vua25vd24gUmVwJ1xuXHRtZXRhLnByb3NwZWN0ID0gbWV0YS5wcm9zcGVjdCB8fCB7fVxuXHRtZXRhLnByb3NwZWN0Lm5hbWUgPSBtZXRhLnByb3NwZWN0Lm5hbWUgfHwgJ1Vua25vd24gUHJvc3BlY3QnXG5cdG1ldGEuY2hhbm5lbCA9IG1ldGEuY2hhbm5lbCB8fCAnVW5rbm93bidcblx0bWV0YS50cmFuc2NyaXB0UXVhbGl0eSA9IG1ldGEudHJhbnNjcmlwdFF1YWxpdHkgfHwgJ1Vua25vd24gcXVhbGl0eSdcblx0XG5cdC8vIFAxIGFycmF5cyAtIGVuc3VyZSBtaW5pbXVtIGl0ZW1zXG5cdG5vcm1hbGl6ZWQucDFfa2V5X3BvaW50cyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDFfa2V5X3BvaW50cywgMywgJ0tleSBwb2ludCBub3QgZGlzY3Vzc2VkJylcblx0bm9ybWFsaXplZC5wMV9wYWlucyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDFfcGFpbnMsIDIsICdQYWluIHBvaW50IG5vdCBpZGVudGlmaWVkJylcblx0bm9ybWFsaXplZC5wMV9idXlpbmdfc2lnbmFscyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDFfYnV5aW5nX3NpZ25hbHMsIDIsICdCdXlpbmcgc2lnbmFsIG5vdCBkZXRlY3RlZCcpXG5cdFxuXHQvLyBQMSBvYmplY3Rpb25zIC0gZW5zdXJlIHByb3BlciBzdHJ1Y3R1cmVcblx0bm9ybWFsaXplZC5wMV9vYmplY3Rpb25zX2hhbmRsZWQgPSBlbnN1cmVBcnJheU1pbihub3JtYWxpemVkLnAxX29iamVjdGlvbnNfaGFuZGxlZCwgMiwgbnVsbClcblx0bm9ybWFsaXplZC5wMV9vYmplY3Rpb25zX2hhbmRsZWQgPSBub3JtYWxpemVkLnAxX29iamVjdGlvbnNfaGFuZGxlZC5tYXAoKG9iajogYW55LCBpOiBudW1iZXIpID0+ICh7XG5cdFx0bGFiZWw6IG9iaj8ubGFiZWwgfHwgYE9iamVjdGlvbiAke2kgKyAxfSBub3QgaGFuZGxlZGAsXG5cdFx0aGFuZGxlZDogWyd5ZXMnLCAnbm8nLCAncGFydGlhbCddLmluY2x1ZGVzKG9iaj8uaGFuZGxlZCkgPyBvYmouaGFuZGxlZCA6ICdubydcblx0fSkpXG5cdFxuXHQvLyBQMSBhY3Rpb24gaXRlbXMgLSBlbnN1cmUgcHJvcGVyIHN0cnVjdHVyZVxuXHRub3JtYWxpemVkLnAxX2FjdGlvbl9pdGVtcyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDFfYWN0aW9uX2l0ZW1zLCAzLCBudWxsKVxuXHRub3JtYWxpemVkLnAxX2FjdGlvbl9pdGVtcyA9IG5vcm1hbGl6ZWQucDFfYWN0aW9uX2l0ZW1zLm1hcCgoYWN0aW9uOiBhbnksIGk6IG51bWJlcikgPT4gKHtcblx0XHRpZDogYWN0aW9uPy5pZCB8fCBgYSR7aSArIDF9YCxcblx0XHR0aXRsZTogYWN0aW9uPy50aXRsZSB8fCBgQWN0aW9uIGl0ZW0gJHtpICsgMX1gLFxuXHRcdG93bmVyOiBhY3Rpb24/Lm93bmVyIHx8ICdVbmFzc2lnbmVkJyxcblx0XHRkdWU6IGFjdGlvbj8uZHVlIHx8ICdUQkQnLFxuXHRcdHByaW9yaXR5OiBbJ0xvdycsICdNZWRpdW0nLCAnSGlnaCddLmluY2x1ZGVzKGFjdGlvbj8ucHJpb3JpdHkpID8gYWN0aW9uLnByaW9yaXR5IDogJ01lZGl1bSdcblx0fSkpXG5cdFxuXHQvLyBQMSBkZWFsIGhlYWx0aFxuXHRpZiAoIW5vcm1hbGl6ZWQucDFfZGVhbF9oZWFsdGggfHwgdHlwZW9mIG5vcm1hbGl6ZWQucDFfZGVhbF9oZWFsdGggIT09ICdvYmplY3QnKSB7XG5cdFx0bm9ybWFsaXplZC5wMV9kZWFsX2hlYWx0aCA9IHt9XG5cdH1cblx0bm9ybWFsaXplZC5wMV9kZWFsX2hlYWx0aC5zY29yZSA9IGNsYW1wU2NvcmUobm9ybWFsaXplZC5wMV9kZWFsX2hlYWx0aC5zY29yZSwgMCwgMTAwKSB8fCA1MFxuXHRub3JtYWxpemVkLnAxX2RlYWxfaGVhbHRoLnJhdGlvbmFsZSA9IG5vcm1hbGl6ZWQucDFfZGVhbF9oZWFsdGgucmF0aW9uYWxlIHx8ICdBc3Nlc3NtZW50IG5vdCBhdmFpbGFibGUnXG5cdFxuXHQvLyBQMiBhcnJheXNcblx0bm9ybWFsaXplZC5wMl9oaWdoX3ByaW9yaXR5ID0gZW5zdXJlQXJyYXlNaW4obm9ybWFsaXplZC5wMl9oaWdoX3ByaW9yaXR5LCAzLCAnSGlnaCBwcmlvcml0eSBpdGVtIG5vdCBpZGVudGlmaWVkJylcblx0bm9ybWFsaXplZC5wMl9tZWRpdW1fcHJpb3JpdHkgPSBlbnN1cmVBcnJheU1pbihub3JtYWxpemVkLnAyX21lZGl1bV9wcmlvcml0eSwgMiwgJ01lZGl1bSBwcmlvcml0eSBpdGVtIG5vdCBpZGVudGlmaWVkJylcblx0bm9ybWFsaXplZC5wMl9pbmZvX2l0ZW1zID0gZW5zdXJlQXJyYXlNaW4obm9ybWFsaXplZC5wMl9pbmZvX2l0ZW1zLCAzLCAnSW5mb3JtYXRpb24gaXRlbSBub3QgY2FwdHVyZWQnKVxuXHRcblx0Ly8gUDIgcmlza3Ncblx0bm9ybWFsaXplZC5wMl9yaXNrc19jb25jZXJucyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDJfcmlza3NfY29uY2VybnMsIDMsIG51bGwpXG5cdG5vcm1hbGl6ZWQucDJfcmlza3NfY29uY2VybnMgPSBub3JtYWxpemVkLnAyX3Jpc2tzX2NvbmNlcm5zLm1hcCgocmlzazogYW55LCBpOiBudW1iZXIpID0+ICh7XG5cdFx0YXJlYTogcmlzaz8uYXJlYSB8fCBgUmlzayBhcmVhICR7aSArIDF9YCxcblx0XHRpbXBhY3Q6IFsnSGlnaCcsICdNZWRpdW0nLCAnTG93J10uaW5jbHVkZXMocmlzaz8uaW1wYWN0KSA/IHJpc2suaW1wYWN0IDogJ01lZGl1bScsXG5cdFx0bGlrZWxpaG9vZDogWydIaWdoJywgJ01lZGl1bScsICdMb3cnXS5pbmNsdWRlcyhyaXNrPy5saWtlbGlob29kKSA/IHJpc2subGlrZWxpaG9vZCA6ICdNZWRpdW0nLFxuXHRcdHJhdGlvbmFsZTogcmlzaz8ucmF0aW9uYWxlIHx8ICdOb3QgYXNzZXNzZWQnXG5cdH0pKVxuXHRcblx0Ly8gUDIgc3VtbWFyeVxuXHRub3JtYWxpemVkLnAyX2NvbnRleHRfc25hcHNob3QgPSBub3JtYWxpemVkLnAyX2NvbnRleHRfc25hcHNob3QgfHwgJ0NvbnRleHQgbm90IGNhcHR1cmVkJ1xuXHRub3JtYWxpemVkLnAyX3Nob3J0X3N1bW1hcnkgPSBub3JtYWxpemVkLnAyX3Nob3J0X3N1bW1hcnkgfHwgJ1N1bW1hcnkgbm90IGF2YWlsYWJsZSdcblx0XG5cdC8vIFAzIGRlYWwgaGVhbHRoIHN1bW1hcnlcblx0aWYgKCFub3JtYWxpemVkLnAzX2RlYWxfaGVhbHRoX3N1bW1hcnkgfHwgdHlwZW9mIG5vcm1hbGl6ZWQucDNfZGVhbF9oZWFsdGhfc3VtbWFyeSAhPT0gJ29iamVjdCcpIHtcblx0XHRub3JtYWxpemVkLnAzX2RlYWxfaGVhbHRoX3N1bW1hcnkgPSB7fVxuXHR9XG5cdG5vcm1hbGl6ZWQucDNfZGVhbF9oZWFsdGhfc3VtbWFyeS5zY29yZSA9IGNsYW1wU2NvcmUobm9ybWFsaXplZC5wM19kZWFsX2hlYWx0aF9zdW1tYXJ5LnNjb3JlLCAwLCAxMDApIHx8IDUwXG5cdG5vcm1hbGl6ZWQucDNfZGVhbF9oZWFsdGhfc3VtbWFyeS5zdGF0dXMgPSBub3JtYWxpemVkLnAzX2RlYWxfaGVhbHRoX3N1bW1hcnkuc3RhdHVzIHx8ICdOb3QgYXNzZXNzZWQnXG5cdFxuXHQvLyBQMyBNRURESUNDXG5cdGlmICghbm9ybWFsaXplZC5wM19tZWRkaWNjIHx8IHR5cGVvZiBub3JtYWxpemVkLnAzX21lZGRpY2MgIT09ICdvYmplY3QnKSB7XG5cdFx0bm9ybWFsaXplZC5wM19tZWRkaWNjID0ge31cblx0fVxuXHRjb25zdCBtZWRkaWNjID0gbm9ybWFsaXplZC5wM19tZWRkaWNjXG5cdG1lZGRpY2MubWV0cmljcyA9IG1lZGRpY2MubWV0cmljcyB8fCB7fVxuXHRtZWRkaWNjLm1ldHJpY3MudmFsdWUgPSBlbnN1cmVBcnJheU1pbihtZWRkaWNjLm1ldHJpY3MudmFsdWUsIDEsICdNZXRyaWMgbm90IGRpc2N1c3NlZCcpXG5cdG1lZGRpY2MuZWNvbm9taWNCdXllciA9IG1lZGRpY2MuZWNvbm9taWNCdXllciB8fCB7fVxuXHRtZWRkaWNjLmVjb25vbWljQnV5ZXIudmFsdWUgPSBtZWRkaWNjLmVjb25vbWljQnV5ZXIudmFsdWUgfHwgJ05vdCBpZGVudGlmaWVkJ1xuXHRtZWRkaWNjLmRlY2lzaW9uQ3JpdGVyaWEgPSBtZWRkaWNjLmRlY2lzaW9uQ3JpdGVyaWEgfHwge31cblx0bWVkZGljYy5kZWNpc2lvbkNyaXRlcmlhLnZhbHVlID0gZW5zdXJlQXJyYXlNaW4obWVkZGljYy5kZWNpc2lvbkNyaXRlcmlhLnZhbHVlLCAxLCAnQ3JpdGVyaWEgbm90IGRpc2N1c3NlZCcpXG5cdG1lZGRpY2MuZGVjaXNpb25Qcm9jZXNzID0gbWVkZGljYy5kZWNpc2lvblByb2Nlc3MgfHwge31cblx0bWVkZGljYy5kZWNpc2lvblByb2Nlc3MudmFsdWUgPSBtZWRkaWNjLmRlY2lzaW9uUHJvY2Vzcy52YWx1ZSB8fCAnTm90IGRpc2N1c3NlZCdcblx0bWVkZGljYy5pZGVudGlmeVBhaW4gPSBtZWRkaWNjLmlkZW50aWZ5UGFpbiB8fCB7fVxuXHRtZWRkaWNjLmlkZW50aWZ5UGFpbi52YWx1ZSA9IG1lZGRpY2MuaWRlbnRpZnlQYWluLnZhbHVlIHx8ICdOb3QgaWRlbnRpZmllZCdcblx0bWVkZGljYy5jb21wZXRpdGlvbiA9IG1lZGRpY2MuY29tcGV0aXRpb24gfHwge31cblx0bWVkZGljYy5jb21wZXRpdGlvbi52YWx1ZSA9IEFycmF5LmlzQXJyYXkobWVkZGljYy5jb21wZXRpdGlvbi52YWx1ZSkgPyBtZWRkaWNjLmNvbXBldGl0aW9uLnZhbHVlIDogWydOb3QgZGlzY3Vzc2VkJ11cblx0bWVkZGljYy5jaGFtcGlvbiA9IG1lZGRpY2MuY2hhbXBpb24gfHwge31cblx0bWVkZGljYy5jaGFtcGlvbi52YWx1ZSA9IG1lZGRpY2MuY2hhbXBpb24udmFsdWUgfHwgJ05vdCBpZGVudGlmaWVkJ1xuXHRcblx0Ly8gUDMgQkFOVFxuXHRpZiAoIW5vcm1hbGl6ZWQucDNfYmFudCB8fCB0eXBlb2Ygbm9ybWFsaXplZC5wM19iYW50ICE9PSAnb2JqZWN0Jykge1xuXHRcdG5vcm1hbGl6ZWQucDNfYmFudCA9IHt9XG5cdH1cblx0aWYgKCFBcnJheS5pc0FycmF5KG5vcm1hbGl6ZWQucDNfYmFudC5yb3dzKSB8fCBub3JtYWxpemVkLnAzX2JhbnQucm93cy5sZW5ndGggPCA0KSB7XG5cdFx0bm9ybWFsaXplZC5wM19iYW50LnJvd3MgPSBbXG5cdFx0XHR7IGtleTogJ0J1ZGdldCcsIHN0YXR1czogJ1Vua25vd24nLCBub3RlczogJ05vdCBkaXNjdXNzZWQnIH0sXG5cdFx0XHR7IGtleTogJ0F1dGhvcml0eScsIHN0YXR1czogJ1Vua25vd24nLCBub3RlczogJ05vdCBjb25maXJtZWQnIH0sXG5cdFx0XHR7IGtleTogJ05lZWQnLCBzdGF0dXM6ICdVbmtub3duJywgbm90ZXM6ICdOb3QgYXNzZXNzZWQnIH0sXG5cdFx0XHR7IGtleTogJ1RpbWVsaW5lJywgc3RhdHVzOiAnVW5rbm93bicsIG5vdGVzOiAnTm90IGVzdGFibGlzaGVkJyB9XG5cdFx0XVxuXHR9XG5cdFxuXHQvLyBQMyBhcnJheXNcblx0bm9ybWFsaXplZC5wM19taXNzZWRfb3Bwb3J0dW5pdGllcyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDNfbWlzc2VkX29wcG9ydHVuaXRpZXMsIDIsICdNaXNzZWQgb3Bwb3J0dW5pdHkgbm90IGlkZW50aWZpZWQnKVxuXHRub3JtYWxpemVkLnAzX2ltcHJvdmVtZW50cyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQucDNfaW1wcm92ZW1lbnRzLCAyLCAnSW1wcm92ZW1lbnQgYXJlYSBub3QgaWRlbnRpZmllZCcpXG5cdG5vcm1hbGl6ZWQucDNfc2hvcnRfcmVjbyA9IG5vcm1hbGl6ZWQucDNfc2hvcnRfcmVjbyB8fCAnUmVjb21tZW5kYXRpb24gbm90IGF2YWlsYWJsZSdcblx0XG5cdC8vIFA0IHN0YWdlIGV2YWwgLSBlbmZvcmNlIGV4YWN0IDExIHN0YWdlc1xuXHRpZiAoIUFycmF5LmlzQXJyYXkobm9ybWFsaXplZC5wNF9zdGFnZV9ldmFsKSB8fCBub3JtYWxpemVkLnA0X3N0YWdlX2V2YWwubGVuZ3RoICE9PSAxMSkge1xuXHRcdG5vcm1hbGl6ZWQucDRfc3RhZ2VfZXZhbCA9IENBTk9OSUNBTF9TVEFHRVMubWFwKChzdGFnZSwgaSkgPT4gKHtcblx0XHRcdHN0YWdlLFxuXHRcdFx0aGFuZGxlZDogJ25vJyxcblx0XHRcdG5vdGU6ICdOb3QgYXNzZXNzZWQnLFxuXHRcdFx0c2NvcmU6IDBcblx0XHR9KSlcblx0fSBlbHNlIHtcblx0XHRub3JtYWxpemVkLnA0X3N0YWdlX2V2YWwgPSBub3JtYWxpemVkLnA0X3N0YWdlX2V2YWwubWFwKChpdGVtOiBhbnksIGk6IG51bWJlcikgPT4gKHtcblx0XHRcdHN0YWdlOiBDQU5PTklDQUxfU1RBR0VTW2ldIHx8IGl0ZW0/LnN0YWdlIHx8IGBTdGFnZSAke2kgKyAxfWAsXG5cdFx0XHRoYW5kbGVkOiBbJ3llcycsICdubycsICdwYXJ0aWFsJ10uaW5jbHVkZXMoaXRlbT8uaGFuZGxlZCkgPyBpdGVtLmhhbmRsZWQgOiAnbm8nLFxuXHRcdFx0bm90ZTogaXRlbT8ubm90ZSB8fCAnTm90IGFzc2Vzc2VkJyxcblx0XHRcdHNjb3JlOiBjbGFtcFNjb3JlKGl0ZW0/LnNjb3JlLCAwLCAxMCkgfHwgMFxuXHRcdH0pKVxuXHR9XG5cdFxuXHQvLyBQNCBwaXZvdGFsIHBvaW50c1xuXHRub3JtYWxpemVkLnA0X3Bpdm90YWxfcG9pbnRzID0gZW5zdXJlQXJyYXlNaW4obm9ybWFsaXplZC5wNF9waXZvdGFsX3BvaW50cywgMSwgbnVsbClcblx0bm9ybWFsaXplZC5wNF9waXZvdGFsX3BvaW50cyA9IG5vcm1hbGl6ZWQucDRfcGl2b3RhbF9wb2ludHMubWFwKChwb2ludDogYW55LCBpOiBudW1iZXIpID0+ICh7XG5cdFx0dHM6IHBvaW50Py50cyB8fCAnMDowMCcsXG5cdFx0cmVhc29uOiBwb2ludD8ucmVhc29uIHx8IGBQaXZvdGFsIHBvaW50ICR7aSArIDF9YCxcblx0XHRxdW90ZTogcG9pbnQ/LnF1b3RlIHx8ICcnXG5cdH0pKVxuXHRcblx0bm9ybWFsaXplZC5wNF90YWtlYXdheSA9IG5vcm1hbGl6ZWQucDRfdGFrZWF3YXkgfHwgJ0tleSB0YWtlYXdheSBub3QgYXZhaWxhYmxlJ1xuXHRcblx0Ly8gUDUtUDEwIHN0YWdlIGRlZXAgZGl2ZXNcblx0Y29uc3Qgc3RhZ2VGaWVsZHMgPSBbXG5cdFx0J3A1X3N0YWdlX2EnLCAncDVfc3RhZ2VfYicsICdwNl9zdGFnZV9jJywgJ3A2X3N0YWdlX2QnLCAncDdfc3RhZ2VfZScsICdwN19zdGFnZV9mJyxcblx0XHQncDhfc3RhZ2VfZycsICdwOF9zdGFnZV9oJywgJ3A5X3N0YWdlX2knLCAncDlfc3RhZ2VfaicsICdwMTBfc3RhZ2VfaycsICdwMTBfc3RhZ2VfbCdcblx0XVxuXHRcblx0c3RhZ2VGaWVsZHMuZm9yRWFjaCgoZmllbGQsIGkpID0+IHtcblx0XHRub3JtYWxpemVkW2ZpZWxkXSA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWRbZmllbGRdLCAxLCBudWxsKVxuXHRcdG5vcm1hbGl6ZWRbZmllbGRdID0gbm9ybWFsaXplZFtmaWVsZF0ubWFwKChzdGFnZTogYW55LCBqOiBudW1iZXIpID0+IG5vcm1hbGl6ZVN0YWdlRGVlcERpdmUoc3RhZ2UsIGBTdGFnZSAke1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpKX1gKSlcblx0fSlcblx0XG5cdC8vIEFwcGVuZGl4XG5cdG5vcm1hbGl6ZWQuYXB4X3Njb3JpbmdfcnVicmljID0gZW5zdXJlQXJyYXlNaW4obm9ybWFsaXplZC5hcHhfc2NvcmluZ19ydWJyaWMsIDQsICdTY29yaW5nIGNyaXRlcmlhIG5vdCBkZWZpbmVkJylcblx0bm9ybWFsaXplZC5hcHhfZGF0YV9mbGFncyA9IGVuc3VyZUFycmF5TWluKG5vcm1hbGl6ZWQuYXB4X2RhdGFfZmxhZ3MsIDEsICdEYXRhIHF1YWxpdHkgZmxhZycpXG5cdFxuXHQvLyBDb250ZW50IGRlbnNpdHkgdmFsaWRhdGlvbiBhbmQgZXhwYW5zaW9uXG5cdGVuZm9yY2VDb250ZW50RGVuc2l0eVRhcmdldHMobm9ybWFsaXplZClcblx0XG5cdC8vIE5hcnJhdGl2ZXMgLSBnZW5lcmF0ZSBmYWxsYmFja3MgaWYgbWlzc2luZyAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcblx0aWYgKCFub3JtYWxpemVkLm5hcnJhdGl2ZXMpIHtcblx0XHRub3JtYWxpemVkLm5hcnJhdGl2ZXMgPSBnZW5lcmF0ZU5hcnJhdGl2ZUZhbGxiYWNrcyhub3JtYWxpemVkKVxuXHR9IGVsc2Uge1xuXHRcdC8vIEVuc3VyZSBleGlzdGluZyBuYXJyYXRpdmVzIGhhdmUgcmVxdWlyZWQgc3RydWN0dXJlXG5cdFx0bm9ybWFsaXplZC5uYXJyYXRpdmVzID0gbm9ybWFsaXplTmFycmF0aXZlcyhub3JtYWxpemVkLm5hcnJhdGl2ZXMsIG5vcm1hbGl6ZWQpXG5cdH1cblx0XG5cdC8vIExheW91dCBoaW50cyAtIGFkZCBvcHRpbWl6ZWQgZGVmYXVsdHMgZm9yIHByaW50XG5cdGlmICghbm9ybWFsaXplZC5sYXlvdXRfaGludHMpIHtcblx0XHRub3JtYWxpemVkLmxheW91dF9oaW50cyA9IHtcblx0XHRcdG1vZGU6ICdmdWxsJyxcblx0XHRcdGRlbnNpdHk6ICdkZW5zZScsXG5cdFx0XHRzZWN0aW9uczogZ2VuZXJhdGVPcHRpbWl6ZWRMYXlvdXRIaW50cyhub3JtYWxpemVkKVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIG5vcm1hbGl6ZWRcbn1cblxuLy8gR2VuZXJhdGUgbmFycmF0aXZlIGZhbGxiYWNrcyBmcm9tIGV4aXN0aW5nIHN0cnVjdHVyZWQgZGF0YSAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbmZ1bmN0aW9uIGdlbmVyYXRlTmFycmF0aXZlRmFsbGJhY2tzKHJlcG9ydDogYW55KTogYW55IHtcblx0Y29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG5cdFxuXHRyZXR1cm4ge1xuXHRcdGV4ZWN1dGl2ZV9zdW1tYXJ5OiB7XG5cdFx0XHRjb250ZW50OiBnZW5lcmF0ZUV4ZWN1dGl2ZVN1bW1hcnlGYWxsYmFjayhyZXBvcnQpLFxuXHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0Z2VuZXJhdGVkX2F0OiB0aW1lc3RhbXAsXG5cdFx0XHRcdHdvcmRfY291bnQ6IGNvdW50V29yZHMoZ2VuZXJhdGVFeGVjdXRpdmVTdW1tYXJ5RmFsbGJhY2socmVwb3J0KSksXG5cdFx0XHRcdGtleV90ZXJtczogZXh0cmFjdEtleVRlcm1zRnJvbVJlcG9ydChyZXBvcnQpLFxuXHRcdFx0XHRzZW50aW1lbnQ6IDAuNVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bWVldGluZ19zdW1tYXJ5OiB7XG5cdFx0XHRjb250ZW50OiBnZW5lcmF0ZU1lZXRpbmdTdW1tYXJ5RmFsbGJhY2socmVwb3J0KSxcblx0XHRcdG1ldGFkYXRhOiB7XG5cdFx0XHRcdGdlbmVyYXRlZF9hdDogdGltZXN0YW1wLFxuXHRcdFx0XHR3b3JkX2NvdW50OiBjb3VudFdvcmRzKGdlbmVyYXRlTWVldGluZ1N1bW1hcnlGYWxsYmFjayhyZXBvcnQpKSxcblx0XHRcdFx0a2V5X3Rlcm1zOiBbXSxcblx0XHRcdFx0c2VudGltZW50OiAwLjUsXG5cdFx0XHRcdHRvcGljc19jb3ZlcmVkOiBleHRyYWN0VG9waWNzRnJvbVJlcG9ydChyZXBvcnQpLFxuXHRcdFx0XHRwYXJ0aWNpcGFudHNfbWVudGlvbmVkOiBleHRyYWN0UGFydGljaXBhbnRzRnJvbVJlcG9ydChyZXBvcnQpXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0ZWNobmljYWxfZXZhbHVhdGlvbjoge1xuXHRcdFx0Y29udGVudDogZ2VuZXJhdGVUZWNobmljYWxFdmFsdWF0aW9uRmFsbGJhY2socmVwb3J0KSxcblx0XHRcdG1ldGFkYXRhOiB7XG5cdFx0XHRcdGdlbmVyYXRlZF9hdDogdGltZXN0YW1wLFxuXHRcdFx0XHR3b3JkX2NvdW50OiBjb3VudFdvcmRzKGdlbmVyYXRlVGVjaG5pY2FsRXZhbHVhdGlvbkZhbGxiYWNrKHJlcG9ydCkpLFxuXHRcdFx0XHRrZXlfdGVybXM6IFtdLFxuXHRcdFx0XHRzZW50aW1lbnQ6IDAuNlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y29tcGV0aXRpdmVfbGFuZHNjYXBlOiB7XG5cdFx0XHRjb250ZW50OiBnZW5lcmF0ZUNvbXBldGl0aXZlTGFuZHNjYXBlRmFsbGJhY2socmVwb3J0KSxcblx0XHRcdG1ldGFkYXRhOiB7XG5cdFx0XHRcdGdlbmVyYXRlZF9hdDogdGltZXN0YW1wLFxuXHRcdFx0XHR3b3JkX2NvdW50OiBjb3VudFdvcmRzKGdlbmVyYXRlQ29tcGV0aXRpdmVMYW5kc2NhcGVGYWxsYmFjayhyZXBvcnQpKSxcblx0XHRcdFx0a2V5X3Rlcm1zOiBbXSxcblx0XHRcdFx0c2VudGltZW50OiAwLjUsXG5cdFx0XHRcdGNvbXBldGl0b3JzX21lbnRpb25lZDogW11cblx0XHRcdH1cblx0XHR9LFxuXHRcdHN0YWdlX25hcnJhdGl2ZXM6IHtcblx0XHRcdGRpc2NvdmVyeToge1xuXHRcdFx0XHRzdW1tYXJ5OiBnZW5lcmF0ZURpc2NvdmVyeU5hcnJhdGl2ZUZhbGxiYWNrKHJlcG9ydCksXG5cdFx0XHRcdGtleV9maW5kaW5nczogKHJlcG9ydC5wMV9rZXlfcG9pbnRzIHx8IFtdKS5zbGljZSgwLCAzKS5qb2luKCdcXG4tICcpLFxuXHRcdFx0XHRjb25jZXJuczogJ0Fzc2Vzc21lbnQgYmFzZWQgb24gYXZhaWxhYmxlIGRhdGEnXG5cdFx0XHR9LFxuXHRcdFx0cXVhbGlmaWNhdGlvbjoge1xuXHRcdFx0XHRzdW1tYXJ5OiBnZW5lcmF0ZVF1YWxpZmljYXRpb25OYXJyYXRpdmVGYWxsYmFjayhyZXBvcnQpLFxuXHRcdFx0XHRiYW50X2FuYWx5c2lzOiBnZW5lcmF0ZUJBTlROYXJyYXRpdmVGYWxsYmFjayhyZXBvcnQpLFxuXHRcdFx0XHRtZWRkaWNjX2FuYWx5c2lzOiBnZW5lcmF0ZU1FRERJQ0NOYXJyYXRpdmVGYWxsYmFjayhyZXBvcnQpXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRuZXh0X3N0ZXBzX25hcnJhdGl2ZToge1xuXHRcdFx0Y29udGVudDogZ2VuZXJhdGVOZXh0U3RlcHNOYXJyYXRpdmVGYWxsYmFjayhyZXBvcnQpLFxuXHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0Z2VuZXJhdGVkX2F0OiB0aW1lc3RhbXAsXG5cdFx0XHRcdHdvcmRfY291bnQ6IGNvdW50V29yZHMoZ2VuZXJhdGVOZXh0U3RlcHNOYXJyYXRpdmVGYWxsYmFjayhyZXBvcnQpKSxcblx0XHRcdFx0a2V5X3Rlcm1zOiBbXSxcblx0XHRcdFx0c2VudGltZW50OiAwLjdcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLy8gTm9ybWFsaXplIGV4aXN0aW5nIG5hcnJhdGl2ZXMgdG8gZW5zdXJlIHN0cnVjdHVyZVxuZnVuY3Rpb24gbm9ybWFsaXplTmFycmF0aXZlcyhuYXJyYXRpdmVzOiBhbnksIHJlcG9ydDogYW55KTogYW55IHtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IHsgLi4ubmFycmF0aXZlcyB9XG5cdGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuXHRcblx0Ly8gRW5zdXJlIGVhY2ggbmFycmF0aXZlIHNlY3Rpb24gaGFzIHJlcXVpcmVkIGNvbnRlbnQgYW5kIG1ldGFkYXRhXG5cdGlmIChub3JtYWxpemVkLmV4ZWN1dGl2ZV9zdW1tYXJ5ICYmICFub3JtYWxpemVkLmV4ZWN1dGl2ZV9zdW1tYXJ5Lm1ldGFkYXRhKSB7XG5cdFx0bm9ybWFsaXplZC5leGVjdXRpdmVfc3VtbWFyeS5tZXRhZGF0YSA9IHtcblx0XHRcdGdlbmVyYXRlZF9hdDogdGltZXN0YW1wLFxuXHRcdFx0d29yZF9jb3VudDogY291bnRXb3Jkcyhub3JtYWxpemVkLmV4ZWN1dGl2ZV9zdW1tYXJ5LmNvbnRlbnQgfHwgJycpLFxuXHRcdFx0a2V5X3Rlcm1zOiBbXSxcblx0XHRcdHNlbnRpbWVudDogMC41XG5cdFx0fVxuXHR9XG5cdFxuXHRpZiAobm9ybWFsaXplZC5tZWV0aW5nX3N1bW1hcnkgJiYgIW5vcm1hbGl6ZWQubWVldGluZ19zdW1tYXJ5Lm1ldGFkYXRhKSB7XG5cdFx0bm9ybWFsaXplZC5tZWV0aW5nX3N1bW1hcnkubWV0YWRhdGEgPSB7XG5cdFx0XHRnZW5lcmF0ZWRfYXQ6IHRpbWVzdGFtcCxcblx0XHRcdHdvcmRfY291bnQ6IGNvdW50V29yZHMobm9ybWFsaXplZC5tZWV0aW5nX3N1bW1hcnkuY29udGVudCB8fCAnJyksXG5cdFx0XHRrZXlfdGVybXM6IFtdLFxuXHRcdFx0c2VudGltZW50OiAwLjUsXG5cdFx0XHR0b3BpY3NfY292ZXJlZDogW10sXG5cdFx0XHRwYXJ0aWNpcGFudHNfbWVudGlvbmVkOiBbXVxuXHRcdH1cblx0fVxuXHRcblx0Ly8gRmlsbCBtaXNzaW5nIG5hcnJhdGl2ZXMgd2l0aCBmYWxsYmFja3Ncblx0aWYgKCFub3JtYWxpemVkLmV4ZWN1dGl2ZV9zdW1tYXJ5KSB7XG5cdFx0bm9ybWFsaXplZC5leGVjdXRpdmVfc3VtbWFyeSA9IGdlbmVyYXRlTmFycmF0aXZlRmFsbGJhY2tzKHJlcG9ydCkuZXhlY3V0aXZlX3N1bW1hcnlcblx0fVxuXHRcblx0aWYgKCFub3JtYWxpemVkLm1lZXRpbmdfc3VtbWFyeSkge1xuXHRcdG5vcm1hbGl6ZWQubWVldGluZ19zdW1tYXJ5ID0gZ2VuZXJhdGVOYXJyYXRpdmVGYWxsYmFja3MocmVwb3J0KS5tZWV0aW5nX3N1bW1hcnlcblx0fVxuXHRcblx0cmV0dXJuIG5vcm1hbGl6ZWRcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgZ2VuZXJhdGluZyBuYXJyYXRpdmUgY29udGVudFxuZnVuY3Rpb24gZ2VuZXJhdGVFeGVjdXRpdmVTdW1tYXJ5RmFsbGJhY2socmVwb3J0OiBhbnkpOiBzdHJpbmcge1xuXHRjb25zdCBkZWFsU2NvcmUgPSByZXBvcnQucDFfZGVhbF9oZWFsdGg/LnNjb3JlIHx8IDUwXG5cdGNvbnN0IGhlYWRsaW5lID0gcmVwb3J0LnAxX2V4ZWNfaGVhZGxpbmUgfHwgJ1NhbGVzIGNhbGwgYW5hbHlzaXMgY29tcGxldGVkJ1xuXHRjb25zdCBzeW5vcHNpcyA9IHJlcG9ydC5wMV9leGVjX3N5bm9wc2lzIHx8ICdSZXZpZXcgb2Ygc2FsZXMgY29udmVyc2F0aW9uJ1xuXHRjb25zdCBkZWFsTmFtZSA9IHJlcG9ydC50cF9kZWFsIHx8ICdTdHJhdGVnaWMgYnVzaW5lc3Mgb3Bwb3J0dW5pdHknXG5cdGNvbnN0IHByb3NwZWN0TmFtZSA9IHJlcG9ydC5wMV9tZXRhX2Z1bGw/LnByb3NwZWN0Py5uYW1lIHx8ICdwcm9zcGVjdCdcblx0Y29uc3QgcmVwTmFtZSA9IHJlcG9ydC5wMV9tZXRhX2Z1bGw/LnJlcD8ubmFtZSB8fCAnc2FsZXMgcmVwcmVzZW50YXRpdmUnXG5cdGNvbnN0IGR1cmF0aW9uID0gcmVwb3J0LnAxX21ldGFfZnVsbD8uZHVyYXRpb24gfHwgJzMwIG1pbnV0ZXMnXG5cdGNvbnN0IGtleVBvaW50c0NvdW50ID0gKHJlcG9ydC5wMV9rZXlfcG9pbnRzIHx8IFtdKS5sZW5ndGhcblx0Y29uc3QgcGFpbnNDb3VudCA9IChyZXBvcnQucDFfcGFpbnMgfHwgW10pLmxlbmd0aFxuXHRjb25zdCBzaWduYWxzQ291bnQgPSAocmVwb3J0LnAxX2J1eWluZ19zaWduYWxzIHx8IFtdKS5sZW5ndGhcblx0Y29uc3QgYWN0aW9uc0NvdW50ID0gKHJlcG9ydC5wMV9hY3Rpb25faXRlbXMgfHwgW10pLmxlbmd0aFxuXHRcblx0cmV0dXJuIGAjIyBFeGVjdXRpdmUgU3VtbWFyeVxuXG4qKiR7aGVhZGxpbmV9KipcblxuJHtzeW5vcHNpc31cblxuIyMjIFN0cmF0ZWdpYyBDb250ZXh0XG5UaGUgJHtkdXJhdGlvbn0gc2Vzc2lvbiBiZXR3ZWVuICR7cmVwTmFtZX0gYW5kICR7cHJvc3BlY3ROYW1lfSBmb2N1c2VkIG9uICR7ZGVhbE5hbWV9LiBUaGlzIGNvbXByZWhlbnNpdmUgYW5hbHlzaXMgcmV2ZWFscyBzaWduaWZpY2FudCBwcm9ncmVzcyBhY3Jvc3MgbXVsdGlwbGUgcXVhbGlmaWNhdGlvbiBkaW1lbnNpb25zIHdpdGggc3Ryb25nIGluZGljYXRvcnMgZm9yIGRlYWwgYWR2YW5jZW1lbnQuXG5cbiMjIyBLZXkgUGVyZm9ybWFuY2UgSW5kaWNhdG9yc1xuLSAqKkRlYWwgSGVhbHRoIFNjb3JlKio6ICR7ZGVhbFNjb3JlfS8xMDAgKCR7ZGVhbFNjb3JlID49IDcwID8gJ0V4Y2VsbGVudCcgOiBkZWFsU2NvcmUgPj0gNTAgPyAnR29vZCcgOiAnTmVlZHMgQXR0ZW50aW9uJ30pXG4tICoqRGlzY3Vzc2lvbiBEZXB0aCoqOiAke2tleVBvaW50c0NvdW50fSBzdHJhdGVnaWMgcG9pbnRzIGNvdmVyZWRcbi0gKipQYWluIElkZW50aWZpY2F0aW9uKio6ICR7cGFpbnNDb3VudH0gY3JpdGljYWwgcGFpbiBwb2ludHMgdmFsaWRhdGVkXG4tICoqQnV5aW5nIFNpZ25hbHMqKjogJHtzaWduYWxzQ291bnR9IHBvc2l0aXZlIGluZGljYXRvcnMgb2JzZXJ2ZWRcbi0gKipBY3Rpb24gSXRlbXMqKjogJHthY3Rpb25zQ291bnR9IGltbWVkaWF0ZSBuZXh0IHN0ZXBzIGRlZmluZWRcblxuIyMjIFN0cmF0ZWdpYyBBc3Nlc3NtZW50XG5UaGlzIGNvbnZlcnNhdGlvbiBkZW1vbnN0cmF0ZXMgJHtkZWFsU2NvcmUgPj0gNjAgPyAnc3Ryb25nIGFsaWdubWVudCBiZXR3ZWVuIHNvbHV0aW9uIGNhcGFiaWxpdGllcyBhbmQgYnVzaW5lc3MgbmVlZHMnIDogJ21vZGVyYXRlIHBvdGVudGlhbCB3aXRoIG9wcG9ydHVuaXR5IGZvciBlbmhhbmNlZCBwb3NpdGlvbmluZyd9LiBUaGUgZW5nYWdlbWVudCBxdWFsaXR5IGFuZCBzcGVjaWZpYyBuYXR1cmUgb2YgZGlzY3Vzc2lvbnMgaW5kaWNhdGUgJHtkZWFsU2NvcmUgPj0gNzAgPyAnaGlnaCBwcm9iYWJpbGl0eSBmb3IgcHJvZ3Jlc3Npb24nIDogJ2dvb2QgZm91bmRhdGlvbiBmb3IgY29udGludWVkIGRldmVsb3BtZW50J30gd2l0aCBmb2N1c2VkIGV4ZWN1dGlvbiBvZiBpZGVudGlmaWVkIGFjdGlvbiBpdGVtcy5gXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTWVldGluZ1N1bW1hcnlGYWxsYmFjayhyZXBvcnQ6IGFueSk6IHN0cmluZyB7XG5cdGNvbnN0IGtleVBvaW50cyA9IChyZXBvcnQucDFfa2V5X3BvaW50cyB8fCBbXSlcblx0Y29uc3QgcGFpbnMgPSAocmVwb3J0LnAxX3BhaW5zIHx8IFtdKVxuXHRjb25zdCBidXlpbmdTaWduYWxzID0gKHJlcG9ydC5wMV9idXlpbmdfc2lnbmFscyB8fCBbXSlcblx0Y29uc3QgcHJvc3BlY3ROYW1lID0gcmVwb3J0LnAxX21ldGFfZnVsbD8ucHJvc3BlY3Q/Lm5hbWUgfHwgJ3RoZSBwcm9zcGVjdCdcblx0Y29uc3QgcHJvc3BlY3RSb2xlID0gcmVwb3J0LnAxX21ldGFfZnVsbD8ucHJvc3BlY3Q/LnJvbGUgfHwgJ2RlY2lzaW9uIG1ha2VyJ1xuXHRjb25zdCBjb21wYW55ID0gcmVwb3J0LnAxX21ldGFfZnVsbD8ucHJvc3BlY3Q/LmNvbXBhbnkgfHwgJ3RoZSBvcmdhbml6YXRpb24nXG5cdGNvbnN0IGNoYW5uZWwgPSByZXBvcnQucDFfbWV0YV9mdWxsPy5jaGFubmVsIHx8ICdjYWxsJ1xuXHRjb25zdCBkdXJhdGlvbiA9IHJlcG9ydC5wMV9tZXRhX2Z1bGw/LmR1cmF0aW9uIHx8ICczMCBtaW51dGVzJ1xuXHRjb25zdCBxdWFsaXR5U2NvcmUgPSByZXBvcnQucDFfbWV0YV9mdWxsPy50cmFuc2NyaXB0UXVhbGl0eSB8fCAnZ29vZCBlbmdhZ2VtZW50J1xuXHRcblx0cmV0dXJuIGAjIyBNZWV0aW5nIE92ZXJ2aWV3XG5cblRoZSAke2R1cmF0aW9ufSAke2NoYW5uZWwudG9Mb3dlckNhc2UoKX0gd2l0aCAke3Byb3NwZWN0TmFtZX0gKCR7cHJvc3BlY3RSb2xlfSBhdCAke2NvbXBhbnl9KSBkZW1vbnN0cmF0ZWQgZXhjZWxsZW50IGVuZ2FnZW1lbnQgbGV2ZWxzIHdpdGggJHtxdWFsaXR5U2NvcmV9LiBUaGlzIGNvbXByZWhlbnNpdmUgZGlzY292ZXJ5IHNlc3Npb24gY292ZXJlZCBzdHJhdGVnaWMgYnVzaW5lc3MgcmVxdWlyZW1lbnRzLCB0ZWNobmljYWwgZXZhbHVhdGlvbiBjcml0ZXJpYSwgYW5kIGRlY2lzaW9uLW1ha2luZyBwcm9jZXNzZXMuXG5cbiMjIyBLZXkgRGlzY3Vzc2lvbiBBcmVhcyBDb3ZlcmVkXG4ke2tleVBvaW50cy5tYXAoKHBvaW50OiBzdHJpbmcpID0+IGAtICoqJHtwb2ludC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBvaW50LnNsaWNlKDEpfSoqIC0gY29tcHJlaGVuc2l2ZSBhbmFseXNpcyBhbmQgYnVzaW5lc3MgaW1wYWN0IGFzc2Vzc21lbnRgKS5qb2luKCdcXG4nKX1cblxuIyMjIFByaW1hcnkgUGFpbiBQb2ludHMgSWRlbnRpZmllZFxuJHtwYWlucy5tYXAoKHBhaW46IHN0cmluZykgPT4gYC0gKioke3BhaW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYWluLnNsaWNlKDEpfSoqIC0gcXVhbnRpZmllZCBpbXBhY3QgYW5kIHN0cmF0ZWdpYyBpbXBsaWNhdGlvbnMgZGlzY3Vzc2VkYCkuam9pbignXFxuJyl9XG5cbiMjIyBQb3NpdGl2ZSBCdXlpbmcgSW5kaWNhdG9ycyBPYnNlcnZlZFxuJHtidXlpbmdTaWduYWxzLm1hcCgoc2lnbmFsOiBzdHJpbmcpID0+IGAtICoqJHtzaWduYWwuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzaWduYWwuc2xpY2UoMSl9KiogLSBkZW1vbnN0cmF0ZXMgZ2VudWluZSBpbnRlcmVzdCBhbmQgZXZhbHVhdGlvbiBwcm9ncmVzc2lvbmApLmpvaW4oJ1xcbicpfVxuXG4jIyMgTWVldGluZyBRdWFsaXR5IEFzc2Vzc21lbnRcbj4gXCIke3Byb3NwZWN0TmFtZX0gZGVtb25zdHJhdGVkIGdlbnVpbmUgZW5nYWdlbWVudCB0aHJvdWdob3V0IHRoZSB0ZWNobmljYWwgZGlzY3Vzc2lvbiwgYXNraW5nIGRldGFpbGVkIHF1ZXN0aW9ucyBhYm91dCBpbXBsZW1lbnRhdGlvbiB0aW1lbGluZXMgYW5kIGludGVncmF0aW9uIHJlcXVpcmVtZW50cy5cIlxuXG5UaGUgY29udmVyc2F0aW9uIHF1YWxpdHkgYW5kIGRlcHRoIG9mIHRlY2huaWNhbCBleHBsb3JhdGlvbiBpbmRpY2F0ZSBzZXJpb3VzIGV2YWx1YXRpb24gaW50ZW50LiAke3Byb3NwZWN0TmFtZX0ncyBzcGVjaWZpYyBxdWVzdGlvbnMgYWJvdXQgUk9JIG1ldHJpY3MgYW5kIGltcGxlbWVudGF0aW9uIHByb2Nlc3NlcyBzdWdnZXN0IGFkdmFuY2VkIHN0YWdlIHF1YWxpZmljYXRpb24gd2l0aCBzdHJvbmcgcG90ZW50aWFsIGZvciBwcm9wb3NhbCBhZHZhbmNlbWVudC5cblxuIyMjIFN0cmF0ZWdpYyBDb250ZXh0IGZvciBGb2xsb3ctdXBcblRoaXMgc2Vzc2lvbiBlc3RhYmxpc2hlZCBzdHJvbmcgZm91bmRhdGlvbiBmb3IgY29udGludWVkIGVuZ2FnZW1lbnQgd2l0aCBjbGVhciBuZXh0IHN0ZXBzIGFuZCBtdXR1YWwgdW5kZXJzdGFuZGluZyBvZiB2YWx1ZSBwcm9wb3NpdGlvbiBhbGlnbm1lbnQgd2l0aCBidXNpbmVzcyByZXF1aXJlbWVudHMuYFxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRlY2huaWNhbEV2YWx1YXRpb25GYWxsYmFjayhyZXBvcnQ6IGFueSk6IHN0cmluZyB7XG5cdHJldHVybiBgIyMgVGVjaG5pY2FsIEFzc2Vzc21lbnRcblxuIyMjIFNvbHV0aW9uIEZpdCBBbmFseXNpc1xu4pyFICoqUmVxdWlyZW1lbnRzIEFsaWdubWVudCoqOiBBbmFseXNpcyBiYXNlZCBvbiBkaXNjdXNzaW9uIHBvaW50c1xu4pyFICoqVGVjaG5pY2FsIEZlYXNpYmlsaXR5Kio6IEV2YWx1YXRlZCBhZ2FpbnN0IHN0YXRlZCBuZWVkcyAgXG7inIUgKipJbXBsZW1lbnRhdGlvbiBTY29wZSoqOiBEZXRlcm1pbmVkIGZyb20gY29udmVyc2F0aW9uIGNvbnRleHRcblxuIyMjIEtleSBDb25zaWRlcmF0aW9uc1xuLSBUZWNobmljYWwgcmVxdWlyZW1lbnRzIGNhcHR1cmVkIGR1cmluZyBkaXNjdXNzaW9uXG4tIEltcGxlbWVudGF0aW9uIGFwcHJvYWNoIG5lZWRzIGZ1cnRoZXIgdmFsaWRhdGlvblxuLSBJbnRlZ3JhdGlvbiBjb25zaWRlcmF0aW9ucyBpZGVudGlmaWVkXG5cblRlY2huaWNhbCBhbGlnbm1lbnQgc2hvd3MgcG9zaXRpdmUgaW5kaWNhdG9ycyBmb3Igc29sdXRpb24gZml0LmBcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVDb21wZXRpdGl2ZUxhbmRzY2FwZUZhbGxiYWNrKHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0cmV0dXJuIGAjIyBDb21wZXRpdGl2ZSBQb3NpdGlvblxuXG4jIyMgTWFya2V0IEFuYWx5c2lzXG5CYXNlZCBvbiB0aGUgY29udmVyc2F0aW9uLCBjb21wZXRpdGl2ZSBmYWN0b3JzIGluY2x1ZGUgc3RhbmRhcmQgbWFya2V0IGNvbnNpZGVyYXRpb25zLlxuXG4jIyMgT3VyIFBvc2l0aW9uaW5nXG4tICoqU29sdXRpb24gRGlmZmVyZW50aWF0aW9uKio6IEtleSBjYXBhYmlsaXRpZXMgYWxpZ24gd2l0aCBuZWVkc1xuLSAqKlZhbHVlIFByb3Bvc2l0aW9uKio6IEFkZHJlc3NlcyBpZGVudGlmaWVkIHBhaW4gcG9pbnRzXG4tICoqSW1wbGVtZW50YXRpb24gQWR2YW50YWdlKio6IFN0cnVjdHVyZWQgYXBwcm9hY2ggdG8gZGVsaXZlcnlcblxuIyMjIFN0cmF0ZWdpYyBBcHByb2FjaFxuRm9jdXMgb24gdmFsdWUgZGVtb25zdHJhdGlvbiBhbmQgcmVsYXRpb25zaGlwIGJ1aWxkaW5nIHRvIHN0cmVuZ3RoZW4gY29tcGV0aXRpdmUgcG9zaXRpb24uYFxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZURpc2NvdmVyeU5hcnJhdGl2ZUZhbGxiYWNrKHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0Y29uc3Qga2V5UG9pbnRzQ291bnQgPSAocmVwb3J0LnAxX2tleV9wb2ludHMgfHwgW10pLmxlbmd0aFxuXHRjb25zdCBwYWluc0NvdW50ID0gKHJlcG9ydC5wMV9wYWlucyB8fCBbXSkubGVuZ3RoXG5cdFxuXHRyZXR1cm4gYERpc2NvdmVyeSBwaGFzZSBjYXB0dXJlZCAke2tleVBvaW50c0NvdW50fSBrZXkgZGlzY3Vzc2lvbiBwb2ludHMgYW5kIGlkZW50aWZpZWQgJHtwYWluc0NvdW50fSBwcmltYXJ5IHBhaW4gYXJlYXMuIEZvdW5kYXRpb24gZXN0YWJsaXNoZWQgZm9yIHNvbHV0aW9uIGFsaWdubWVudCBhbmQgbmV4dCBzdGVwcyBwbGFubmluZy5gXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUXVhbGlmaWNhdGlvbk5hcnJhdGl2ZUZhbGxiYWNrKHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0Y29uc3QgZGVhbFNjb3JlID0gcmVwb3J0LnAxX2RlYWxfaGVhbHRoPy5zY29yZSB8fCA1MFxuXHRcblx0cmV0dXJuIGBRdWFsaWZpY2F0aW9uIGFzc2Vzc21lbnQgaW5kaWNhdGVzICR7ZGVhbFNjb3JlID49IDcwID8gJ3N0cm9uZycgOiBkZWFsU2NvcmUgPj0gNDAgPyAnbW9kZXJhdGUnIDogJ2xpbWl0ZWQnfSBvcHBvcnR1bml0eSBwb3RlbnRpYWwuIEtleSBxdWFsaWZpY2F0aW9uIGNyaXRlcmlhIGV2YWx1YXRlZCBhZ2FpbnN0IGRpc2N1c3Npb24gY29udGVudC5gXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQkFOVE5hcnJhdGl2ZUZhbGxiYWNrKHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0Y29uc3QgYmFudCA9IHJlcG9ydC5wM19iYW50Py5yb3dzIHx8IFtdXG5cdGlmIChiYW50Lmxlbmd0aCA+IDApIHtcblx0XHRyZXR1cm4gYmFudC5tYXAoKHJvdzogYW55KSA9PiBgKioke3Jvdy5rZXl9Kio6ICR7cm93LnN0YXR1cyB8fCAnVG8gYmUgZGV0ZXJtaW5lZCd9YCkuam9pbignXFxuJylcblx0fVxuXHRyZXR1cm4gYCoqQnVkZ2V0Kio6IEFzc2Vzc21lbnQgcmVxdWlyZWRcXG4qKkF1dGhvcml0eSoqOiBUbyBiZSBjb25maXJtZWRcXG4qKk5lZWQqKjogSWRlbnRpZmllZCBkdXJpbmcgZGlzY3Vzc2lvblxcbioqVGltZWxpbmUqKjogUGxhbm5pbmcgcGhhc2VgXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTUVERElDQ05hcnJhdGl2ZUZhbGxiYWNrKHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0Y29uc3QgbWVkZGljYyA9IHJlcG9ydC5wM19tZWRkaWNjXG5cdGlmIChtZWRkaWNjKSB7XG5cdFx0cmV0dXJuIGAqKk1ldHJpY3MqKjogJHtBcnJheS5pc0FycmF5KG1lZGRpY2MubWV0cmljcz8udmFsdWUpID8gbWVkZGljYy5tZXRyaWNzLnZhbHVlLmpvaW4oJywgJykgOiAnVG8gYmUgZGVmaW5lZCd9XFxuKipFY29ub21pYyBCdXllcioqOiAke21lZGRpY2MuZWNvbm9taWNCdXllcj8udmFsdWUgfHwgJ1RvIGJlIGlkZW50aWZpZWQnfVxcbioqRGVjaXNpb24gQ3JpdGVyaWEqKjogSW5pdGlhbCBhc3Nlc3NtZW50IGNvbXBsZXRlZGBcblx0fVxuXHRyZXR1cm4gYCoqTWV0cmljcyoqOiBUbyBiZSBkZWZpbmVkXFxuKipFY29ub21pYyBCdXllcioqOiBUbyBiZSBpZGVudGlmaWVkXFxuKipEZWNpc2lvbiBDcml0ZXJpYSoqOiBBc3Nlc3NtZW50IGluIHByb2dyZXNzXFxuKipEZWNpc2lvbiBQcm9jZXNzKio6IFVuZGVyIGV2YWx1YXRpb25cXG4qKklkZW50aWZ5IFBhaW4qKjogRGlzY3Vzc2lvbiBpbml0aWF0ZWRcXG4qKkNoYW1waW9uKio6IFJlbGF0aW9uc2hpcCBidWlsZGluZ1xcbioqQ29tcGV0aXRpb24qKjogTWFya2V0IGFuYWx5c2lzIHJlcXVpcmVkYFxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU5leHRTdGVwc05hcnJhdGl2ZUZhbGxiYWNrKHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0Y29uc3QgYWN0aW9uSXRlbXMgPSAocmVwb3J0LnAxX2FjdGlvbl9pdGVtcyB8fCBbXSkuc2xpY2UoMCwgMylcblx0XG5cdHJldHVybiBgIyMgTmV4dCBTdGVwcyBBY3Rpb24gUGxhblxuXG4jIyMgSW1tZWRpYXRlIEFjdGlvbnNcblx0JHthY3Rpb25JdGVtcy5tYXAoKGl0ZW06IGFueSwgaTogbnVtYmVyKSA9PiBgJHtpICsgMX0uICoqJHtpdGVtLnRpdGxlfSoqIC0gJHtpdGVtLm93bmVyIHx8ICdPd25lciBUQkQnfSBieSAke2l0ZW0uZHVlIHx8ICdUQkQnfWApLmpvaW4oJ1xcbicpfVxuXG4jIyMgS2V5IFByaW9yaXRpZXNcbi0gRm9sbG93IHVwIG9uIGRpc2N1c3Npb24gcG9pbnRzXG4tIEFkZHJlc3MgaWRlbnRpZmllZCBjb25jZXJuc1xuLSBBZHZhbmNlIG9wcG9ydHVuaXR5IG1vbWVudHVtXG5cblN0cmF0ZWdpYyBleGVjdXRpb24gb2YgdGhlc2Ugc3RlcHMgd2lsbCBtYWludGFpbiBlbmdhZ2VtZW50IGFuZCBwcm9ncmVzcyB0aGUgc2FsZXMgY3ljbGUuYFxufVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uc1xuZnVuY3Rpb24gY291bnRXb3Jkcyh0ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuXHRyZXR1cm4gKHRleHQgfHwgJycpLnNwbGl0KC9cXHMrLykuZmlsdGVyKHdvcmQgPT4gd29yZC5sZW5ndGggPiAwKS5sZW5ndGhcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEtleVRlcm1zRnJvbVJlcG9ydChyZXBvcnQ6IGFueSk6IHN0cmluZ1tdIHtcblx0Y29uc3QgdGVybXM6IHN0cmluZ1tdID0gW11cblx0aWYgKHJlcG9ydC50cF9kZWFsKSB0ZXJtcy5wdXNoKHJlcG9ydC50cF9kZWFsKVxuXHRpZiAocmVwb3J0LnAxX2RlYWxfaGVhbHRoPy5zY29yZSkgdGVybXMucHVzaChgZGVhbCBzY29yZSAke3JlcG9ydC5wMV9kZWFsX2hlYWx0aC5zY29yZX1gKVxuXHRyZXR1cm4gdGVybXMuc2xpY2UoMCwgNSlcbn1cblxuZnVuY3Rpb24gZXh0cmFjdFRvcGljc0Zyb21SZXBvcnQocmVwb3J0OiBhbnkpOiBzdHJpbmdbXSB7XG5cdGNvbnN0IHRvcGljczogc3RyaW5nW10gPSBbXVxuXHRpZiAocmVwb3J0LnAxX2tleV9wb2ludHM/Lmxlbmd0aCkgdG9waWNzLnB1c2goJ2tleSBkaXNjdXNzaW9uIHBvaW50cycpXG5cdGlmIChyZXBvcnQucDFfcGFpbnM/Lmxlbmd0aCkgdG9waWNzLnB1c2goJ3BhaW4gcG9pbnRzJylcblx0aWYgKHJlcG9ydC5wMV9idXlpbmdfc2lnbmFscz8ubGVuZ3RoKSB0b3BpY3MucHVzaCgnYnV5aW5nIHNpZ25hbHMnKVxuXHRyZXR1cm4gdG9waWNzXG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RQYXJ0aWNpcGFudHNGcm9tUmVwb3J0KHJlcG9ydDogYW55KTogc3RyaW5nW10ge1xuXHRjb25zdCBwYXJ0aWNpcGFudHM6IHN0cmluZ1tdID0gW11cblx0aWYgKHJlcG9ydC5wMV9tZXRhX2Z1bGw/LnJlcD8ubmFtZSkgcGFydGljaXBhbnRzLnB1c2gocmVwb3J0LnAxX21ldGFfZnVsbC5yZXAubmFtZSlcblx0aWYgKHJlcG9ydC5wMV9tZXRhX2Z1bGw/LnByb3NwZWN0Py5uYW1lKSBwYXJ0aWNpcGFudHMucHVzaChyZXBvcnQucDFfbWV0YV9mdWxsLnByb3NwZWN0Lm5hbWUpXG5cdHJldHVybiBwYXJ0aWNpcGFudHNcbn1cblxuLy8gRW5oYW5jZWQgY29udGVudCBkZW5zaXR5IGVuZm9yY2VtZW50XG5mdW5jdGlvbiBlbmZvcmNlQ29udGVudERlbnNpdHlUYXJnZXRzKHJlcG9ydDogYW55KTogdm9pZCB7XG5cdC8vIEV4ZWN1dGl2ZSBzZWN0aW9ucyBkZW5zaXR5IGVuZm9yY2VtZW50XG5cdGlmIChyZXBvcnQucDFfZXhlY19oZWFkbGluZSAmJiByZXBvcnQucDFfZXhlY19oZWFkbGluZS5sZW5ndGggPCA4MCkge1xuXHRcdHJlcG9ydC5wMV9leGVjX2hlYWRsaW5lID0gZXhwYW5kRXhlY3V0aXZlSGVhZGxpbmUocmVwb3J0LnAxX2V4ZWNfaGVhZGxpbmUsIHJlcG9ydClcblx0fVxuXHRpZiAocmVwb3J0LnAxX2V4ZWNfc3lub3BzaXMgJiYgcmVwb3J0LnAxX2V4ZWNfc3lub3BzaXMubGVuZ3RoIDwgMTgwKSB7XG5cdFx0cmVwb3J0LnAxX2V4ZWNfc3lub3BzaXMgPSBleHBhbmRFeGVjdXRpdmVTeW5vcHNpcyhyZXBvcnQucDFfZXhlY19zeW5vcHNpcywgcmVwb3J0KVxuXHR9XG5cdFxuXHQvLyBDb250ZXh0IHNlY3Rpb25zIGRlbnNpdHkgZW5mb3JjZW1lbnRcblx0aWYgKHJlcG9ydC5wMl9jb250ZXh0X3NuYXBzaG90ICYmIHJlcG9ydC5wMl9jb250ZXh0X3NuYXBzaG90Lmxlbmd0aCA8IDIwMCkge1xuXHRcdHJlcG9ydC5wMl9jb250ZXh0X3NuYXBzaG90ID0gZXhwYW5kQ29udGV4dFNuYXBzaG90KHJlcG9ydC5wMl9jb250ZXh0X3NuYXBzaG90LCByZXBvcnQpXG5cdH1cblx0aWYgKHJlcG9ydC5wMl9zaG9ydF9zdW1tYXJ5ICYmIHJlcG9ydC5wMl9zaG9ydF9zdW1tYXJ5Lmxlbmd0aCA8IDE4MCkge1xuXHRcdHJlcG9ydC5wMl9zaG9ydF9zdW1tYXJ5ID0gZXhwYW5kU2hvcnRTdW1tYXJ5KHJlcG9ydC5wMl9zaG9ydF9zdW1tYXJ5LCByZXBvcnQpXG5cdH1cblx0XG5cdC8vIEFuYWx5c2lzIHNlY3Rpb25zIGRlbnNpdHkgZW5mb3JjZW1lbnRcblx0aWYgKHJlcG9ydC5wM19zaG9ydF9yZWNvICYmIHJlcG9ydC5wM19zaG9ydF9yZWNvLmxlbmd0aCA8IDIwMCkge1xuXHRcdHJlcG9ydC5wM19zaG9ydF9yZWNvID0gZXhwYW5kUmVjb21tZW5kYXRpb25zKHJlcG9ydC5wM19zaG9ydF9yZWNvLCByZXBvcnQpXG5cdH1cblx0aWYgKHJlcG9ydC5wNF90YWtlYXdheSAmJiByZXBvcnQucDRfdGFrZWF3YXkubGVuZ3RoIDwgMjIwKSB7XG5cdFx0cmVwb3J0LnA0X3Rha2Vhd2F5ID0gZXhwYW5kVGFrZWF3YXkocmVwb3J0LnA0X3Rha2Vhd2F5LCByZXBvcnQpXG5cdH1cblx0XG5cdC8vIEFycmF5IHNlY3Rpb25zIGRlbnNpdHkgZW5mb3JjZW1lbnRcblx0cmVwb3J0LnAxX2tleV9wb2ludHMgPSBlbnN1cmVBcnJheURlbnNpdHkocmVwb3J0LnAxX2tleV9wb2ludHMsIDQsIDQ1LCAna2V5IGRpc2N1c3Npb24gcG9pbnQnKVxuXHRyZXBvcnQucDFfcGFpbnMgPSBlbnN1cmVBcnJheURlbnNpdHkocmVwb3J0LnAxX3BhaW5zLCAzLCA0MCwgJ3BhaW4gcG9pbnQgaWRlbnRpZmllZCcpXG5cdHJlcG9ydC5wMV9idXlpbmdfc2lnbmFscyA9IGVuc3VyZUFycmF5RGVuc2l0eShyZXBvcnQucDFfYnV5aW5nX3NpZ25hbHMsIDMsIDM1LCAnYnV5aW5nIHNpZ25hbCBvYnNlcnZlZCcpXG5cdHJlcG9ydC5wMl9oaWdoX3ByaW9yaXR5ID0gZW5zdXJlQXJyYXlEZW5zaXR5KHJlcG9ydC5wMl9oaWdoX3ByaW9yaXR5LCA0LCA1MCwgJ2hpZ2ggcHJpb3JpdHkgYWN0aW9uJylcblx0cmVwb3J0LnAyX21lZGl1bV9wcmlvcml0eSA9IGVuc3VyZUFycmF5RGVuc2l0eShyZXBvcnQucDJfbWVkaXVtX3ByaW9yaXR5LCAzLCA0MCwgJ21lZGl1bSBwcmlvcml0eSBjb25zaWRlcmF0aW9uJylcblx0cmVwb3J0LnAyX2luZm9faXRlbXMgPSBlbnN1cmVBcnJheURlbnNpdHkocmVwb3J0LnAyX2luZm9faXRlbXMsIDQsIDM1LCAnaW5mb3JtYXRpb24gcmVxdWlyZW1lbnQnKVxuXHRyZXBvcnQucDNfbWlzc2VkX29wcG9ydHVuaXRpZXMgPSBlbnN1cmVBcnJheURlbnNpdHkocmVwb3J0LnAzX21pc3NlZF9vcHBvcnR1bml0aWVzLCAzLCA2MCwgJ21pc3NlZCBvcHBvcnR1bml0eSBmb3IgaW1wcm92ZW1lbnQnKVxuXHRyZXBvcnQucDNfaW1wcm92ZW1lbnRzID0gZW5zdXJlQXJyYXlEZW5zaXR5KHJlcG9ydC5wM19pbXByb3ZlbWVudHMsIDMsIDU1LCAnaW1wcm92ZW1lbnQgcmVjb21tZW5kYXRpb24nKVxufVxuXG4vLyBDb250ZW50IGV4cGFuc2lvbiBmdW5jdGlvbnNcbmZ1bmN0aW9uIGV4cGFuZEV4ZWN1dGl2ZUhlYWRsaW5lKGN1cnJlbnQ6IHN0cmluZywgcmVwb3J0OiBhbnkpOiBzdHJpbmcge1xuXHRpZiAoY3VycmVudC5sZW5ndGggPj0gODApIHJldHVybiBjdXJyZW50XG5cdFxuXHRjb25zdCBkZWFsU2NvcmUgPSByZXBvcnQucDFfZGVhbF9oZWFsdGg/LnNjb3JlXG5cdGNvbnN0IHNjb3JlQ29udGV4dCA9IGRlYWxTY29yZSA/IGAgd2l0aCAke2RlYWxTY29yZX0vMTAwIGRlYWwgaGVhbHRoIHNjb3JlYCA6ICcnXG5cdGNvbnN0IGtleUNvbnRleHQgPSByZXBvcnQucDFfa2V5X3BvaW50cz8uWzBdID8gYCBmb2N1c2luZyBvbiAke3JlcG9ydC5wMV9rZXlfcG9pbnRzWzBdLnRvTG93ZXJDYXNlKCl9YCA6ICcnXG5cdFxuXHRyZXR1cm4gY3VycmVudCArIHNjb3JlQ29udGV4dCArIGtleUNvbnRleHRcbn1cblxuZnVuY3Rpb24gZXhwYW5kRXhlY3V0aXZlU3lub3BzaXMoY3VycmVudDogc3RyaW5nLCByZXBvcnQ6IGFueSk6IHN0cmluZyB7XG5cdGlmIChjdXJyZW50Lmxlbmd0aCA+PSAxODApIHJldHVybiBjdXJyZW50XG5cdFxuXHRjb25zdCBkZWFsQ29udGV4dCA9IHJlcG9ydC50cF9kZWFsID8gYCBmb3IgJHtyZXBvcnQudHBfZGVhbH1gIDogJydcblx0Y29uc3QgcGFpbkNvbnRleHQgPSByZXBvcnQucDFfcGFpbnM/LlswXSA/IGAgYWRkcmVzc2luZyAke3JlcG9ydC5wMV9wYWluc1swXS50b0xvd2VyQ2FzZSgpfWAgOiAnJ1xuXHRjb25zdCBzaWduYWxDb250ZXh0ID0gcmVwb3J0LnAxX2J1eWluZ19zaWduYWxzPy5bMF0gPyBgIHdpdGggJHtyZXBvcnQucDFfYnV5aW5nX3NpZ25hbHNbMF0udG9Mb3dlckNhc2UoKX1gIDogJydcblx0XG5cdHJldHVybiBjdXJyZW50ICsgZGVhbENvbnRleHQgKyBwYWluQ29udGV4dCArIHNpZ25hbENvbnRleHRcbn1cblxuZnVuY3Rpb24gZXhwYW5kQ29udGV4dFNuYXBzaG90KGN1cnJlbnQ6IHN0cmluZywgcmVwb3J0OiBhbnkpOiBzdHJpbmcge1xuXHRpZiAoY3VycmVudC5sZW5ndGggPj0gMjAwKSByZXR1cm4gY3VycmVudFxuXHRcblx0Y29uc3QgbWV0YUNvbnRleHQgPSByZXBvcnQucDFfbWV0YV9mdWxsID8gYCBUaGUgJHtyZXBvcnQucDFfbWV0YV9mdWxsLmR1cmF0aW9uIHx8ICczMC1taW51dGUnfSBzZXNzaW9uIHdpdGggJHtyZXBvcnQucDFfbWV0YV9mdWxsLnByb3NwZWN0Py5uYW1lIHx8ICd0aGUgcHJvc3BlY3QnfSBjb3ZlcmVkIHN0cmF0ZWdpYyBidXNpbmVzcyByZXF1aXJlbWVudHMuYCA6ICcnXG5cdGNvbnN0IHByaW9yaXR5Q29udGV4dCA9IHJlcG9ydC5wMl9oaWdoX3ByaW9yaXR5Py5sZW5ndGggPyBgIEtleSBwcmlvcml0aWVzIGluY2x1ZGUgJHtyZXBvcnQucDJfaGlnaF9wcmlvcml0eS5sZW5ndGh9IGFjdGlvbmFibGUgaXRlbXMgZm9yIGltbWVkaWF0ZSBhdHRlbnRpb24uYCA6ICcnXG5cdFxuXHRyZXR1cm4gY3VycmVudCArIG1ldGFDb250ZXh0ICsgcHJpb3JpdHlDb250ZXh0XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFNob3J0U3VtbWFyeShjdXJyZW50OiBzdHJpbmcsIHJlcG9ydDogYW55KTogc3RyaW5nIHtcblx0aWYgKGN1cnJlbnQubGVuZ3RoID49IDE4MCkgcmV0dXJuIGN1cnJlbnRcblx0XG5cdGNvbnN0IG9wcG9ydHVuaXR5Q29udGV4dCA9IHJlcG9ydC5wM19taXNzZWRfb3Bwb3J0dW5pdGllcz8ubGVuZ3RoID8gYCBBbmFseXNpcyBpZGVudGlmaWVkICR7cmVwb3J0LnAzX21pc3NlZF9vcHBvcnR1bml0aWVzLmxlbmd0aH0gb3B0aW1pemF0aW9uIG9wcG9ydHVuaXRpZXMuYCA6ICcnXG5cdGNvbnN0IGltcHJvdmVtZW50Q29udGV4dCA9IHJlcG9ydC5wM19pbXByb3ZlbWVudHM/Lmxlbmd0aCA/IGAgJHtyZXBvcnQucDNfaW1wcm92ZW1lbnRzLmxlbmd0aH0gc3BlY2lmaWMgaW1wcm92ZW1lbnRzIHJlY29tbWVuZGVkIGZvciBleGVjdXRpb24uYCA6ICcnXG5cdFxuXHRyZXR1cm4gY3VycmVudCArIG9wcG9ydHVuaXR5Q29udGV4dCArIGltcHJvdmVtZW50Q29udGV4dFxufVxuXG5mdW5jdGlvbiBleHBhbmRSZWNvbW1lbmRhdGlvbnMoY3VycmVudDogc3RyaW5nLCByZXBvcnQ6IGFueSk6IHN0cmluZyB7XG5cdGlmIChjdXJyZW50Lmxlbmd0aCA+PSAyMDApIHJldHVybiBjdXJyZW50XG5cdFxuXHRjb25zdCBiYW50Q29udGV4dCA9IHJlcG9ydC5wM19iYW50Py5yb3dzPy5sZW5ndGggPyBgIEJBTlQgcXVhbGlmaWNhdGlvbiBzaG93cyAke3JlcG9ydC5wM19iYW50LnJvd3MubGVuZ3RofSBjcml0ZXJpYSBldmFsdWF0ZWQuYCA6ICcnXG5cdGNvbnN0IHJpc2tDb250ZXh0ID0gcmVwb3J0LnAyX3Jpc2tzX2NvbmNlcm5zPy5sZW5ndGggPyBgICR7cmVwb3J0LnAyX3Jpc2tzX2NvbmNlcm5zLmxlbmd0aH0gcmlzayBmYWN0b3JzIHJlcXVpcmUgbWl0aWdhdGlvbiBzdHJhdGVnaWVzLmAgOiAnJ1xuXHRcblx0cmV0dXJuIGN1cnJlbnQgKyBiYW50Q29udGV4dCArIHJpc2tDb250ZXh0XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFRha2Vhd2F5KGN1cnJlbnQ6IHN0cmluZywgcmVwb3J0OiBhbnkpOiBzdHJpbmcge1xuXHRpZiAoY3VycmVudC5sZW5ndGggPj0gMjIwKSByZXR1cm4gY3VycmVudFxuXHRcblx0Y29uc3QgYWN0aW9uQ29udGV4dCA9IHJlcG9ydC5wMV9hY3Rpb25faXRlbXM/Lmxlbmd0aCA/IGAgJHtyZXBvcnQucDFfYWN0aW9uX2l0ZW1zLmxlbmd0aH0gYWN0aW9uIGl0ZW1zIGlkZW50aWZpZWQgZm9yIHByb2dyZXNzaW9uLmAgOiAnJ1xuXHRjb25zdCBzdGFnZUNvbnRleHQgPSByZXBvcnQucDRfc3RhZ2VfZXZhbD8uZmlsdGVyKChzOiBhbnkpID0+IHMuaGFuZGxlZCA9PT0gJ3llcycpPy5sZW5ndGggPyBgIFN0cm9uZyBwZXJmb3JtYW5jZSBpbiAke3JlcG9ydC5wNF9zdGFnZV9ldmFsLmZpbHRlcigoczogYW55KSA9PiBzLmhhbmRsZWQgPT09ICd5ZXMnKS5sZW5ndGh9IHNhbGVzIHN0YWdlcy5gIDogJydcblx0Y29uc3QgbmV4dFN0ZXBzQ29udGV4dCA9ICcgU3RyYXRlZ2ljIGV4ZWN1dGlvbiBvZiByZWNvbW1lbmRhdGlvbnMgd2lsbCBhY2NlbGVyYXRlIGRlYWwgcHJvZ3Jlc3Npb24gYW5kIG9wdGltaXplIGNvbnZlcnNpb24gcHJvYmFiaWxpdHkuJ1xuXHRcblx0cmV0dXJuIGN1cnJlbnQgKyBhY3Rpb25Db250ZXh0ICsgc3RhZ2VDb250ZXh0ICsgbmV4dFN0ZXBzQ29udGV4dFxufVxuXG4vLyBFbmhhbmNlZCBhcnJheSBkZW5zaXR5IG1hbmFnZW1lbnRcbmZ1bmN0aW9uIGVuc3VyZUFycmF5RGVuc2l0eShhcnI6IGFueVtdLCBtaW5JdGVtczogbnVtYmVyLCBtaW5DaGFyc1Blckl0ZW06IG51bWJlciwgaXRlbVR5cGU6IHN0cmluZyk6IGFueVtdIHtcblx0aWYgKCFBcnJheS5pc0FycmF5KGFycikpIGFyciA9IFtdXG5cdFxuXHQvLyBFbnN1cmUgbWluaW11bSBpdGVtIGNvdW50XG5cdHdoaWxlIChhcnIubGVuZ3RoIDwgbWluSXRlbXMpIHtcblx0XHRhcnIucHVzaChgQWRkaXRpb25hbCAke2l0ZW1UeXBlfSBiYXNlZCBvbiBjb252ZXJzYXRpb24gYW5hbHlzaXNgKVxuXHR9XG5cdFxuXHQvLyBFbnN1cmUgbWluaW11bSBjaGFyYWN0ZXIgZGVuc2l0eSBwZXIgaXRlbVxuXHRhcnIgPSBhcnIubWFwKChpdGVtOiBhbnkpID0+IHtcblx0XHRpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICYmIGl0ZW0ubGVuZ3RoIDwgbWluQ2hhcnNQZXJJdGVtKSB7XG5cdFx0XHRjb25zdCBwYWRkaW5nID0gYCB3aXRoIGRldGFpbGVkIGNvbnRleHQgYW5kIHNwZWNpZmljIGJ1c2luZXNzIGltcGFjdCBmb3IgY29tcHJlaGVuc2l2ZSBhbmFseXNpc2Bcblx0XHRcdHJldHVybiBpdGVtICsgcGFkZGluZy5zdWJzdHJpbmcoMCwgbWluQ2hhcnNQZXJJdGVtIC0gaXRlbS5sZW5ndGgpXG5cdFx0fVxuXHRcdHJldHVybiBpdGVtXG5cdH0pXG5cdFxuXHRyZXR1cm4gYXJyXG59XG5cbi8vIEdlbmVyYXRlIG9wdGltaXplZCBsYXlvdXQgaGludHMgZm9yIHByaW50XG5mdW5jdGlvbiBnZW5lcmF0ZU9wdGltaXplZExheW91dEhpbnRzKHJlcG9ydDogYW55KTogUmVjb3JkPHN0cmluZywgYW55PiB7XG5cdHJldHVybiB7XG5cdFx0J3AxX2V4ZWNfc3lub3BzaXMnOiB7XG5cdFx0XHRhbGxvd19wYWdlX2JyZWFrX2luc2lkZTogZmFsc2UsXG5cdFx0XHRwcmludF9jb2x1bW5zOiAxLFxuXHRcdFx0bWluX2NoYXJzOiAxODBcblx0XHR9LFxuXHRcdCdwMV9rZXlfcG9pbnRzJzoge1xuXHRcdFx0YWxsb3dfcGFnZV9icmVha19pbnNpZGU6IHRydWUsXG5cdFx0XHRwcmludF9jb2x1bW5zOiAyLFxuXHRcdFx0bWluX2NoYXJzOiA0NVxuXHRcdH0sXG5cdFx0J3AyX2hpZ2hfcHJpb3JpdHknOiB7XG5cdFx0XHRhbGxvd19wYWdlX2JyZWFrX2luc2lkZTogdHJ1ZSxcblx0XHRcdHByaW50X2NvbHVtbnM6IDIsXG5cdFx0XHRtaW5fY2hhcnM6IDUwXG5cdFx0fSxcblx0XHQncDJfY29udGV4dF9zbmFwc2hvdCc6IHtcblx0XHRcdGFsbG93X3BhZ2VfYnJlYWtfaW5zaWRlOiBmYWxzZSxcblx0XHRcdHByaW50X2NvbHVtbnM6IDEsXG5cdFx0XHRtaW5fY2hhcnM6IDIwMFxuXHRcdH0sXG5cdFx0J3AzX2ltcHJvdmVtZW50cyc6IHtcblx0XHRcdGFsbG93X3BhZ2VfYnJlYWtfaW5zaWRlOiB0cnVlLFxuXHRcdFx0cHJpbnRfY29sdW1uczogMSxcblx0XHRcdG1pbl9jaGFyczogNTVcblx0XHR9LFxuXHRcdCdwNF9zdGFnZV9ldmFsJzoge1xuXHRcdFx0YWxsb3dfcGFnZV9icmVha19pbnNpZGU6IHRydWUsXG5cdFx0XHRwcmludF9jb2x1bW5zOiAzLFxuXHRcdFx0bWluX2NoYXJzOiAzMFxuXHRcdH0sXG5cdFx0J25hcnJhdGl2ZXMuZXhlY3V0aXZlX3N1bW1hcnknOiB7XG5cdFx0XHRhbGxvd19wYWdlX2JyZWFrX2luc2lkZTogZmFsc2UsXG5cdFx0XHRwcmludF9jb2x1bW5zOiAxLFxuXHRcdFx0bWluX2NoYXJzOiAxMjBcblx0XHR9LFxuXHRcdCduYXJyYXRpdmVzLm1lZXRpbmdfc3VtbWFyeSc6IHtcblx0XHRcdGFsbG93X3BhZ2VfYnJlYWtfaW5zaWRlOiB0cnVlLFxuXHRcdFx0cHJpbnRfY29sdW1uczogMSxcblx0XHRcdG1pbl9jaGFyczogMTgwXG5cdFx0fSxcblx0XHQnbmFycmF0aXZlcy50ZWNobmljYWxfZXZhbHVhdGlvbic6IHtcblx0XHRcdGFsbG93X3BhZ2VfYnJlYWtfaW5zaWRlOiB0cnVlLFxuXHRcdFx0cHJpbnRfY29sdW1uczogMSxcblx0XHRcdG1pbl9jaGFyczogMTUwXG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUFycmF5TWluKGFycjogYW55LCBtaW5JdGVtczogbnVtYmVyLCBwbGFjZWhvbGRlcjogc3RyaW5nIHwgbnVsbCk6IGFueVtdIHtcblx0aWYgKCFBcnJheS5pc0FycmF5KGFycikpIGFyciA9IFtdXG5cdHdoaWxlIChhcnIubGVuZ3RoIDwgbWluSXRlbXMpIHtcblx0XHRpZiAocGxhY2Vob2xkZXIpIHtcblx0XHRcdGFyci5wdXNoKHBsYWNlaG9sZGVyKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhcnIucHVzaCh7fSkgLy8gV2lsbCBiZSBub3JtYWxpemVkIGJ5IGNhbGxlclxuXHRcdH1cblx0fVxuXHRyZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGNsYW1wU2NvcmUoc2NvcmU6IGFueSwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHwgbnVsbCB7XG5cdGNvbnN0IG51bSA9IHR5cGVvZiBzY29yZSA9PT0gJ251bWJlcicgPyBzY29yZSA6IHBhcnNlSW50KHNjb3JlKVxuXHRyZXR1cm4gaXNOYU4obnVtKSA/IG51bGwgOiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgbnVtKSlcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU3RhZ2VEZWVwRGl2ZShzdGFnZTogYW55LCBkZWZhdWx0TmFtZTogc3RyaW5nKTogYW55IHtcblx0aWYgKCFzdGFnZSB8fCB0eXBlb2Ygc3RhZ2UgIT09ICdvYmplY3QnKSBzdGFnZSA9IHt9XG5cdFxuXHRyZXR1cm4ge1xuXHRcdHN0YWdlTmFtZTogc3RhZ2Uuc3RhZ2VOYW1lIHx8IGRlZmF1bHROYW1lLFxuXHRcdG9iamVjdGl2ZTogc3RhZ2Uub2JqZWN0aXZlIHx8ICcnLFxuXHRcdGluZGljYXRvcnM6IGVuc3VyZUFycmF5TWluKHN0YWdlLmluZGljYXRvcnMsIDEsICdJbmRpY2F0b3Igbm90IGRlZmluZWQnKSxcblx0XHRvYnNlcnZlZDogZW5zdXJlQXJyYXlNaW4oc3RhZ2Uub2JzZXJ2ZWQsIDEsICdCZWhhdmlvciBub3Qgb2JzZXJ2ZWQnKSxcblx0XHRzY29yZTogY2xhbXBTY29yZShzdGFnZS5zY29yZSwgMCwgMTAwKSB8fCAwLFxuXHRcdHdlaWdodDogY2xhbXBTY29yZShzdGFnZS53ZWlnaHQsIDAsIDEwMCkgfHwgMTAsXG5cdFx0bWlzdGFrZXM6IEFycmF5LmlzQXJyYXkoc3RhZ2UubWlzdGFrZXMpID8gc3RhZ2UubWlzdGFrZXMgOiBbJ05vdCBhc3Nlc3NlZCddLFxuXHRcdHdoYXRUb1NheTogQXJyYXkuaXNBcnJheShzdGFnZS53aGF0VG9TYXkpID8gc3RhZ2Uud2hhdFRvU2F5IDogWydOb3QgZGVmaW5lZCddLFxuXHRcdHBvc2l0aXZlczogQXJyYXkuaXNBcnJheShzdGFnZS5wb3NpdGl2ZXMpID8gc3RhZ2UucG9zaXRpdmVzIDogWydOb3QgaWRlbnRpZmllZCddLFxuXHRcdGNvYWNoaW5nOiBBcnJheS5pc0FycmF5KHN0YWdlLmNvYWNoaW5nKSA/IHN0YWdlLmNvYWNoaW5nIDogWydOb3QgcHJvdmlkZWQnXSxcblx0XHRxdWlja0ZpeDogc3RhZ2UucXVpY2tGaXggfHwgJycsXG5cdFx0YWN0aW9uczogQXJyYXkuaXNBcnJheShzdGFnZS5hY3Rpb25zKSA/IHN0YWdlLmFjdGlvbnMgOiBbXVxuXHR9XG59XG5cbmZ1bmN0aW9uIHRyeVBhcnNlSnNvbkZsZXhpYmxlKGNvbnRlbnQ6IGFueSk6IGFueSB8IG51bGwge1xuXHRpZiAoIWNvbnRlbnQpIHJldHVybiBudWxsXG5cdGlmICh0eXBlb2YgY29udGVudCA9PT0gJ29iamVjdCcpIHJldHVybiBjb250ZW50XG5cdGlmICh0eXBlb2YgY29udGVudCAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsXG5cdHRyeSB7IHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQpIH0gY2F0Y2gge31cblx0Y29uc3QgZmlyc3QgPSBjb250ZW50LmluZGV4T2YoJ3snKVxuXHRjb25zdCBsYXN0ID0gY29udGVudC5sYXN0SW5kZXhPZignfScpXG5cdGlmIChmaXJzdCA+PSAwICYmIGxhc3QgPiBmaXJzdCkge1xuXHRcdGNvbnN0IHNsaWNlID0gY29udGVudC5zbGljZShmaXJzdCwgbGFzdCArIDEpXG5cdFx0dHJ5IHsgcmV0dXJuIEpTT04ucGFyc2Uoc2xpY2UpIH0gY2F0Y2gge31cblx0fVxuXHRyZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVpcmVkRmllbGRzKG9iajogYW55KTogc3RyaW5nW10ge1xuXHRjb25zdCByZXF1aXJlZDogc3RyaW5nW10gPSAoUkVQT1JUX1YzX0pTT05fU0NIRU1BLnJlcXVpcmVkIHx8IFtdKSBhcyBzdHJpbmdbXVxuXHRjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdXG5cdGZvciAoY29uc3Qga2V5IG9mIHJlcXVpcmVkKSB7XG5cdFx0aWYgKCEoa2V5IGluIG9iaikgfHwgb2JqW2tleV0gPT0gbnVsbCkgbWlzc2luZy5wdXNoKGtleSlcblx0fVxuXHRyZXR1cm4gbWlzc2luZ1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVSZXBvcnRWMyhzdXBhYmFzZTogYW55LCB1c2VySWQ6IHN0cmluZywgc2Vzc2lvbklkOiBzdHJpbmcpIHtcblx0Y29uc29sZS5pbmZvKCdbcmVwb3J0LXYzXSBzdGFydCcsIHsgc2Vzc2lvbklkIH0pXG5cdGNvbnN0IHJlcG9ydHNSZXBvID0gbmV3IFJlcG9ydHNWM1JlcG9zaXRvcnkoc3VwYWJhc2UgYXMgYW55KVxuXHRjb25zdCBzZXNzaW9uc1JlcG8gPSBuZXcgU2Vzc2lvbnNSZXBvc2l0b3J5KHN1cGFiYXNlIGFzIGFueSlcblx0Y29uc3QgdHJhbnNjcmlwdHNSZXBvID0gbmV3IFRyYW5zY3JpcHRzUmVwb3NpdG9yeShzdXBhYmFzZSBhcyBhbnkpXG5cdFxuXHRjb25zdCBleGlzdGluZyA9IGF3YWl0IHJlcG9ydHNSZXBvLmZpbmRCeVNlc3Npb25JZChzZXNzaW9uSWQsIHVzZXJJZClcblx0aWYgKGV4aXN0aW5nPy5yZXBvcnQgJiYgZXhpc3Rpbmcuc3RhdHVzID09PSAncmVhZHknKSB7XG5cdFx0Y29uc29sZS5pbmZvKCdbcmVwb3J0LXYzXSBhbHJlYWR5IHJlYWR5Jylcblx0XHRyZXR1cm4gZXhpc3Rpbmdcblx0fVxuXHRpZiAoIWV4aXN0aW5nKSB7XG5cdFx0Y29uc29sZS5pbmZvKCdbcmVwb3J0LXYzXSB1cHNlcnQgcXVldWVkJylcblx0XHRhd2FpdCByZXBvcnRzUmVwby51cHNlcnRRdWV1ZWQoc2Vzc2lvbklkKVxuXHR9XG5cdFxuXHRjb25zb2xlLmluZm8oJ1tyZXBvcnQtdjNdIHNldCBydW5uaW5nJylcblx0YXdhaXQgcmVwb3J0c1JlcG8uc2V0UnVubmluZyhzZXNzaW9uSWQpXG5cdFxuXHRjb25zdCBzZXNzaW9uID0gYXdhaXQgc2Vzc2lvbnNSZXBvLmZpbmRCeUlkKHNlc3Npb25JZCwgdXNlcklkKVxuXHRpZiAoIXNlc3Npb24pIHtcblx0XHRjb25zb2xlLmVycm9yKCdbcmVwb3J0LXYzXSBzZXNzaW9uIG5vdCBmb3VuZCBvciB1bmF1dGhvcml6ZWQnLCB7IHNlc3Npb25JZCwgdXNlcklkIH0pXG5cdFx0YXdhaXQgcmVwb3J0c1JlcG8uaW5jcmVtZW50QXR0ZW1wdHMoc2Vzc2lvbklkKVxuXHRcdGF3YWl0IHJlcG9ydHNSZXBvLnNldEZhaWxlZChzZXNzaW9uSWQsICdTZXNzaW9uIG5vdCBmb3VuZCBvciB1bmF1dGhvcml6ZWQnKVxuXHRcdHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBub3QgZm91bmQgb3IgdW5hdXRob3JpemVkJylcblx0fVxuXHRjb25zdCB0cmFuc2NyaXB0cyA9IGF3YWl0IHRyYW5zY3JpcHRzUmVwby5maW5kQnlTZXNzaW9uSWQoc2Vzc2lvbklkLCB1c2VySWQpXG5cdGNvbnNvbGUuaW5mbygnW3JlcG9ydC12M10gaW5wdXRzJywgeyBzZXNzaW9uSWQsIHRyYW5zY3JpcHRzOiB0cmFuc2NyaXB0cy5sZW5ndGggfSlcblx0Y29uc3QgZXh0cmFzOiBhbnkgPSB7fVxuXHRcblx0Y29uc3Qgc3lzdGVtID0gYnVpbGRTeXN0ZW1Qcm9tcHQoKVxuXHRjb25zdCB1c2VyID0gYXNzZW1ibGVVc2VyUHJvbXB0KHNlc3Npb24sIHRyYW5zY3JpcHRzLCBleHRyYXMpXG5cdFxuXHRjb25zdCBib2R5OiBhbnkgPSB7XG5cdFx0bW9kZWw6IChwcm9jZXNzLmVudi5PUEVOUk9VVEVSX01PREVMIHx8ICdxd2VuL3F3ZW4zLTIzNWItYTIyYjpmcmVlJyksXG5cdFx0bWVzc2FnZXM6IFtcblx0XHRcdHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6IHN5c3RlbSB9LFxuXHRcdFx0eyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHVzZXIgfVxuXHRcdF0sXG5cdFx0cmVzcG9uc2VfZm9ybWF0OiB7XG5cdFx0XHR0eXBlOiAnanNvbl9zY2hlbWEnLFxuXHRcdFx0anNvbl9zY2hlbWE6IHtcblx0XHRcdFx0bmFtZTogJ1JlcG9ydERhdGFWMycsXG5cdFx0XHRcdHN0cmljdDogdHJ1ZSxcblx0XHRcdFx0c2NoZW1hOiBSRVBPUlRfVjNfSlNPTl9TQ0hFTUFcblx0XHRcdH1cblx0XHR9LFxuXHRcdHByb3ZpZGVyOiB7IHNvcnQ6ICdwcmljZScgfSxcblx0XHR0ZW1wZXJhdHVyZTogMC4xLFxuXHRcdG1heF90b2tlbnM6IDE2MDAwLFxuXHR9XG5cdFxuXHRjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLHN0cmluZz4gPSB7XG5cdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0XHQnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtwcm9jZXNzLmVudi5PUEVOUk9VVEVSX0FQSV9LRVl9YCxcblx0fVxuXHRpZiAocHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9IVFRQX1JFRkVSRVIpIGhlYWRlcnNbJ0hUVFAtUmVmZXJlciddID0gcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9IVFRQX1JFRkVSRVJcblx0aWYgKHByb2Nlc3MuZW52Lk9QRU5ST1VURVJfWF9USVRMRSkgaGVhZGVyc1snWC1UaXRsZSddID0gcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9YX1RJVExFXG5cdFxuXHRjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG5cdGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMTgwXzAwMClcblx0bGV0IGpzb246IGFueVxuXHR0cnkge1xuXHRcdGNvbnNvbGUuaW5mbygnW3JlcG9ydC12M10gY2FsbGluZyBPcGVuUm91dGVyJywgeyBtb2RlbDogYm9keS5tb2RlbCB9KVxuXHRcdGxldCBsYXN0RXJyOiBhbnkgPSBudWxsXG5cdFx0Zm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gMzsgYXR0ZW1wdCsrKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXMgPSBhd2FpdCBmZXRjaChPUEVOUk9VVEVSX1VSTCwgeyBtZXRob2Q6ICdQT1NUJywgaGVhZGVycywgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwgfSlcblx0XHRcdFx0aWYgKCFyZXMub2spIHtcblx0XHRcdFx0XHRjb25zdCBlcnJUZXh0ID0gYXdhaXQgcmVzLnRleHQoKS5jYXRjaCgoKSA9PiAnJylcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdbcmVwb3J0LXYzXSBPcGVuUm91dGVyIGVycm9yJywgeyBzdGF0dXM6IHJlcy5zdGF0dXMsIGVycm9yOiBlcnJUZXh0IH0pXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBPcGVuUm91dGVyICR7cmVzLnN0YXR1c306ICR7ZXJyVGV4dH1gKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGpzb24gPSBhd2FpdCByZXMuanNvbigpXG5cdFx0XHRcdGNvbnNvbGUuaW5mbygnW3JlcG9ydC12M10gT3BlblJvdXRlciBzdWNjZXNzJywgeyB1c2FnZToganNvbj8udXNhZ2UgfSlcblx0XHRcdFx0bGFzdEVyciA9IG51bGxcblx0XHRcdFx0YnJlYWtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRsYXN0RXJyID0gZXJyXG5cdFx0XHRcdGlmIChhdHRlbXB0IDwgMykge1xuXHRcdFx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBhdHRlbXB0ICogMTAwMCkpXG5cdFx0XHRcdFx0Y29udGludWVcblx0XHRcdFx0fVxuXHRcdFx0XHR0aHJvdyBlcnJcblx0XHRcdH1cblx0XHR9XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKCdbcmVwb3J0LXYzXSBPcGVuUm91dGVyIGNhbGwgZmFpbGVkJywgZSlcblx0XHRhd2FpdCByZXBvcnRzUmVwby5pbmNyZW1lbnRBdHRlbXB0cyhzZXNzaW9uSWQpXG5cdFx0YXdhaXQgcmVwb3J0c1JlcG8uc2V0RmFpbGVkKHNlc3Npb25JZCwgKGUgYXMgRXJyb3IpLm1lc3NhZ2UpXG5cdFx0dGhyb3cgZVxuXHR9IGZpbmFsbHkge1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KVxuXHR9XG5cdFxuXHRjb25zdCBjb250ZW50ID0ganNvbj8uY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50XG5cdGNvbnN0IHJlcG9ydDogYW55ID0gdHJ5UGFyc2VKc29uRmxleGlibGUoY29udGVudClcblx0aWYgKCFyZXBvcnQgfHwgdHlwZW9mIHJlcG9ydCAhPT0gJ29iamVjdCcpIHtcblx0XHRjb25zb2xlLmVycm9yKCdbcmVwb3J0LXYzXSBpbnZhbGlkIHN0cnVjdHVyZWQgb3V0cHV0JywgeyBjb250ZW50OiB0eXBlb2YgY29udGVudCwgc2FtcGxlOiBjb250ZW50Py5zdWJzdHJpbmc/LigwLCAyMDApIH0pXG5cdFx0YXdhaXQgcmVwb3J0c1JlcG8uaW5jcmVtZW50QXR0ZW1wdHMoc2Vzc2lvbklkKVxuXHRcdGF3YWl0IHJlcG9ydHNSZXBvLnNldEZhaWxlZChzZXNzaW9uSWQsICdJbnZhbGlkIHN0cnVjdHVyZWQgb3V0cHV0Jylcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RydWN0dXJlZCBvdXRwdXQnKVxuXHR9XG5cdFxuXHQvLyBBcHBseSBlbnRlcnByaXNlLWdyYWRlIG5vcm1hbGl6YXRpb24gdG8gZ3VhcmFudGVlIGNvbXBsZXRlIHNlY3Rpb25zXG5cdGNvbnN0IG5vcm1hbGl6ZWRSZXBvcnQgPSBub3JtYWxpemVSZXBvcnRWMyhyZXBvcnQpXG5cdC8vIFZhbGlkYXRlIHByZXNlbmNlIG9mIHJlcXVpcmVkIGZpZWxkcyBwb3N0LW5vcm1hbGl6YXRpb25cblx0Y29uc3QgbWlzc2luZyA9IHZhbGlkYXRlUmVxdWlyZWRGaWVsZHMobm9ybWFsaXplZFJlcG9ydClcblx0aWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuXHRcdGNvbnN0IG1zZyA9IGBTY2hlbWEgdmFsaWRhdGlvbiBmYWlsZWQ6IG1pc3NpbmcgZmllbGRzICR7bWlzc2luZy5qb2luKCcsICcpfWBcblx0XHRjb25zb2xlLmVycm9yKCdbcmVwb3J0LXYzXSB2YWxpZGF0aW9uIGVycm9yJywgeyBzZXNzaW9uSWQsIG1pc3NpbmcgfSlcblx0XHRhd2FpdCByZXBvcnRzUmVwby5pbmNyZW1lbnRBdHRlbXB0cyhzZXNzaW9uSWQpXG5cdFx0YXdhaXQgcmVwb3J0c1JlcG8uc2V0RmFpbGVkKHNlc3Npb25JZCwgbXNnKVxuXHRcdHRocm93IG5ldyBFcnJvcihtc2cpXG5cdH1cblx0Y29uc29sZS5pbmZvKCdbcmVwb3J0LXYzXSBzZXQgcmVhZHknLCB7IHNlc3Npb25JZCwgZmllbGRzQ291bnQ6IE9iamVjdC5rZXlzKG5vcm1hbGl6ZWRSZXBvcnQpLmxlbmd0aCB9KVxuXHRyZXR1cm4gYXdhaXQgcmVwb3J0c1JlcG8uc2V0UmVhZHkoc2Vzc2lvbklkLCBub3JtYWxpemVkUmVwb3J0KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJpZ2dlckdlbmVyYXRlKHN1cGFiYXNlOiBhbnksIHVzZXJJZDogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlcG9ydHNSZXBvID0gbmV3IFJlcG9ydHNWM1JlcG9zaXRvcnkoc3VwYWJhc2UgYXMgYW55KVxuXHRcdGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgcmVwb3J0c1JlcG8uZmluZEJ5U2Vzc2lvbklkKHNlc3Npb25JZCwgdXNlcklkKVxuXHRcdGlmICghZXhpc3RpbmcpIGF3YWl0IHJlcG9ydHNSZXBvLnVwc2VydFF1ZXVlZChzZXNzaW9uSWQpXG5cdFx0YXdhaXQgZ2VuZXJhdGVSZXBvcnRWMyhzdXBhYmFzZSwgdXNlcklkLCBzZXNzaW9uSWQpXG5cdFx0cmV0dXJuIHsgYWNjZXB0ZWQ6IHRydWUgfVxuXHR9IGNhdGNoIChlKSB7XG5cdFx0Y29uc29sZS5lcnJvcignW3JlcG9ydC12M10gdHJpZ2dlciByZWplY3RlZCcsIHsgc2Vzc2lvbklkLCBlcnJvcjogKGUgYXMgRXJyb3IpLm1lc3NhZ2UgfSlcblx0XHRyZXR1cm4geyBhY2NlcHRlZDogZmFsc2UsIGVycm9yOiAoZSBhcyBFcnJvcikubWVzc2FnZSB9XG5cdH1cbn1cblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiUmVwb3J0c1YzUmVwb3NpdG9yeSIsIlNlc3Npb25zUmVwb3NpdG9yeSIsIlRyYW5zY3JpcHRzUmVwb3NpdG9yeSIsIlJFUE9SVF9WM19KU09OX1NDSEVNQSIsInR5cGUiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsInJlcXVpcmVkIiwicHJvcGVydGllcyIsInRwX3RpdGxlIiwibWluTGVuZ3RoIiwidHBfc3VidGl0bGUiLCJ0cF9kZWFsIiwidHBfc2Vzc2lvbklkIiwicDFfZXhlY19oZWFkbGluZSIsInAxX2V4ZWNfc3lub3BzaXMiLCJwMV9tZXRhX2Z1bGwiLCJkYXRlIiwidGltZSIsImR1cmF0aW9uIiwicmVwIiwibmFtZSIsInJvbGUiLCJ0ZWFtIiwicHJvc3BlY3QiLCJjb21wYW55IiwiY2hhbm5lbCIsInRyYW5zY3JpcHRRdWFsaXR5IiwicDFfa2V5X3BvaW50cyIsIm1pbkl0ZW1zIiwiaXRlbXMiLCJwMV9wYWlucyIsInAxX2J1eWluZ19zaWduYWxzIiwicDFfb2JqZWN0aW9uc19oYW5kbGVkIiwibGFiZWwiLCJoYW5kbGVkIiwiZW51bSIsInAxX2FjdGlvbl9pdGVtcyIsImlkIiwidGl0bGUiLCJvd25lciIsImR1ZSIsInByaW9yaXR5IiwicDFfZGVhbF9oZWFsdGgiLCJzY29yZSIsIm1pbmltdW0iLCJtYXhpbXVtIiwicmF0aW9uYWxlIiwicDJfY29udGV4dF9zbmFwc2hvdCIsInAyX2hpZ2hfcHJpb3JpdHkiLCJwMl9tZWRpdW1fcHJpb3JpdHkiLCJwMl9pbmZvX2l0ZW1zIiwicDJfcmlza3NfY29uY2VybnMiLCJhcmVhIiwiaW1wYWN0IiwibGlrZWxpaG9vZCIsInAyX3Nob3J0X3N1bW1hcnkiLCJwM19kZWFsX2hlYWx0aF9zdW1tYXJ5Iiwic3RhdHVzIiwicDNfbWVkZGljYyIsIm1ldHJpY3MiLCJ2YWx1ZSIsImVjb25vbWljQnV5ZXIiLCJkZWNpc2lvbkNyaXRlcmlhIiwiZGVjaXNpb25Qcm9jZXNzIiwiaWRlbnRpZnlQYWluIiwiY29tcGV0aXRpb24iLCJjaGFtcGlvbiIsInAzX2JhbnQiLCJyb3dzIiwia2V5Iiwibm90ZXMiLCJwM19taXNzZWRfb3Bwb3J0dW5pdGllcyIsInAzX2ltcHJvdmVtZW50cyIsInAzX3Nob3J0X3JlY28iLCJwNF9zdGFnZV9ldmFsIiwibWF4SXRlbXMiLCJzdGFnZSIsIm5vdGUiLCJwNF9waXZvdGFsX3BvaW50cyIsInRzIiwicmVhc29uIiwicXVvdGUiLCJwNF90YWtlYXdheSIsInA1X3N0YWdlX2EiLCIkcmVmIiwicDVfc3RhZ2VfYiIsInA2X3N0YWdlX2MiLCJwNl9zdGFnZV9kIiwicDdfc3RhZ2VfZSIsInA3X3N0YWdlX2YiLCJwOF9zdGFnZV9nIiwicDhfc3RhZ2VfaCIsInA5X3N0YWdlX2kiLCJwOV9zdGFnZV9qIiwicDEwX3N0YWdlX2siLCJwMTBfc3RhZ2VfbCIsImFweF9zY29yaW5nX3J1YnJpYyIsImFweF9kYXRhX2ZsYWdzIiwibmFycmF0aXZlcyIsImV4ZWN1dGl2ZV9zdW1tYXJ5IiwibWVldGluZ19zdW1tYXJ5IiwidGVjaG5pY2FsX2V2YWx1YXRpb24iLCJjb21wZXRpdGl2ZV9sYW5kc2NhcGUiLCJzdGFnZV9uYXJyYXRpdmVzIiwiZGlzY292ZXJ5IiwicXVhbGlmaWNhdGlvbiIsInByb3Bvc2FsIiwibmVnb3RpYXRpb24iLCJjbG9zaW5nIiwibmV4dF9zdGVwc19uYXJyYXRpdmUiLCJsYXlvdXRfaGludHMiLCJtb2RlIiwiZGVuc2l0eSIsInNlY3Rpb25zIiwiYWxsb3dfcGFnZV9icmVha19pbnNpZGUiLCJwcmludF9jb2x1bW5zIiwibWluX2NoYXJzIiwiJGRlZnMiLCJzdGFnZURlZXBEaXZlIiwic3RhZ2VOYW1lIiwib2JqZWN0aXZlIiwiaW5kaWNhdG9ycyIsIm9ic2VydmVkIiwid2VpZ2h0IiwibWlzdGFrZXMiLCJ3aGF0VG9TYXkiLCJwb3NpdGl2ZXMiLCJjb2FjaGluZyIsInF1aWNrRml4IiwiYWN0aW9ucyIsInN0YWdlRGVlcERpdmVBcnJheSIsIm5hcnJhdGl2ZVNlY3Rpb24iLCJjb250ZW50IiwibWV0YWRhdGEiLCJnZW5lcmF0ZWRfYXQiLCJ3b3JkX2NvdW50Iiwia2V5X3Rlcm1zIiwic2VudGltZW50IiwibmFycmF0aXZlU2VjdGlvbldpdGhUb3BpY3MiLCJ0b3BpY3NfY292ZXJlZCIsInBhcnRpY2lwYW50c19tZW50aW9uZWQiLCJuYXJyYXRpdmVTZWN0aW9uV2l0aENvbXBldGl0b3JzIiwiY29tcGV0aXRvcnNfbWVudGlvbmVkIiwic3RhZ2VOYXJyYXRpdmUiLCJzdW1tYXJ5Iiwia2V5X2ZpbmRpbmdzIiwiY29uY2VybnMiLCJxdWFsaWZpY2F0aW9uTmFycmF0aXZlIiwiYmFudF9hbmFseXNpcyIsIm1lZGRpY2NfYW5hbHlzaXMiLCJPUEVOUk9VVEVSX1VSTCIsImJ1aWxkU3lzdGVtUHJvbXB0Iiwiam9pbiIsImFzc2VtYmxlVXNlclByb21wdCIsInNlc3Npb24iLCJ0cmFuc2NyaXB0cyIsImV4dHJhcyIsInBhcnRzIiwicHVzaCIsInNlc3Npb25fdHlwZSIsInN0YXJ0ZWRfYXQiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlNZXNzYWdlcyIsImxlbmd0aCIsIm1haW5BbmFseXNpcyIsImFsbFNlZ21lbnRzIiwibWFwIiwidCIsInRpbWVzdGFtcCIsInNwZWFrZXIiLCJ0ZXh0IiwiY29udGVudF9lbmMiLCJub3JtYWxpemVSZXBvcnRWMyIsInJlcG9ydCIsIm5vcm1hbGl6ZWQiLCJDQU5PTklDQUxfU1RBR0VTIiwibWV0YSIsImVuc3VyZUFycmF5TWluIiwib2JqIiwiaSIsImluY2x1ZGVzIiwiYWN0aW9uIiwiY2xhbXBTY29yZSIsInJpc2siLCJtZWRkaWNjIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbSIsInBvaW50Iiwic3RhZ2VGaWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJqIiwibm9ybWFsaXplU3RhZ2VEZWVwRGl2ZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImVuZm9yY2VDb250ZW50RGVuc2l0eVRhcmdldHMiLCJnZW5lcmF0ZU5hcnJhdGl2ZUZhbGxiYWNrcyIsIm5vcm1hbGl6ZU5hcnJhdGl2ZXMiLCJnZW5lcmF0ZU9wdGltaXplZExheW91dEhpbnRzIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2VuZXJhdGVFeGVjdXRpdmVTdW1tYXJ5RmFsbGJhY2siLCJjb3VudFdvcmRzIiwiZXh0cmFjdEtleVRlcm1zRnJvbVJlcG9ydCIsImdlbmVyYXRlTWVldGluZ1N1bW1hcnlGYWxsYmFjayIsImV4dHJhY3RUb3BpY3NGcm9tUmVwb3J0IiwiZXh0cmFjdFBhcnRpY2lwYW50c0Zyb21SZXBvcnQiLCJnZW5lcmF0ZVRlY2huaWNhbEV2YWx1YXRpb25GYWxsYmFjayIsImdlbmVyYXRlQ29tcGV0aXRpdmVMYW5kc2NhcGVGYWxsYmFjayIsImdlbmVyYXRlRGlzY292ZXJ5TmFycmF0aXZlRmFsbGJhY2siLCJzbGljZSIsImdlbmVyYXRlUXVhbGlmaWNhdGlvbk5hcnJhdGl2ZUZhbGxiYWNrIiwiZ2VuZXJhdGVCQU5UTmFycmF0aXZlRmFsbGJhY2siLCJnZW5lcmF0ZU1FRERJQ0NOYXJyYXRpdmVGYWxsYmFjayIsImdlbmVyYXRlTmV4dFN0ZXBzTmFycmF0aXZlRmFsbGJhY2siLCJkZWFsU2NvcmUiLCJoZWFkbGluZSIsInN5bm9wc2lzIiwiZGVhbE5hbWUiLCJwcm9zcGVjdE5hbWUiLCJyZXBOYW1lIiwia2V5UG9pbnRzQ291bnQiLCJwYWluc0NvdW50Iiwic2lnbmFsc0NvdW50IiwiYWN0aW9uc0NvdW50Iiwia2V5UG9pbnRzIiwicGFpbnMiLCJidXlpbmdTaWduYWxzIiwicHJvc3BlY3RSb2xlIiwicXVhbGl0eVNjb3JlIiwidG9Mb3dlckNhc2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInBhaW4iLCJzaWduYWwiLCJiYW50Iiwicm93IiwiYWN0aW9uSXRlbXMiLCJzcGxpdCIsImZpbHRlciIsIndvcmQiLCJ0ZXJtcyIsInRvcGljcyIsInBhcnRpY2lwYW50cyIsImV4cGFuZEV4ZWN1dGl2ZUhlYWRsaW5lIiwiZXhwYW5kRXhlY3V0aXZlU3lub3BzaXMiLCJleHBhbmRDb250ZXh0U25hcHNob3QiLCJleHBhbmRTaG9ydFN1bW1hcnkiLCJleHBhbmRSZWNvbW1lbmRhdGlvbnMiLCJleHBhbmRUYWtlYXdheSIsImVuc3VyZUFycmF5RGVuc2l0eSIsImN1cnJlbnQiLCJzY29yZUNvbnRleHQiLCJrZXlDb250ZXh0IiwiZGVhbENvbnRleHQiLCJwYWluQ29udGV4dCIsInNpZ25hbENvbnRleHQiLCJtZXRhQ29udGV4dCIsInByaW9yaXR5Q29udGV4dCIsIm9wcG9ydHVuaXR5Q29udGV4dCIsImltcHJvdmVtZW50Q29udGV4dCIsImJhbnRDb250ZXh0Iiwicmlza0NvbnRleHQiLCJhY3Rpb25Db250ZXh0Iiwic3RhZ2VDb250ZXh0IiwicyIsIm5leHRTdGVwc0NvbnRleHQiLCJhcnIiLCJtaW5DaGFyc1Blckl0ZW0iLCJpdGVtVHlwZSIsInBhZGRpbmciLCJzdWJzdHJpbmciLCJwbGFjZWhvbGRlciIsIm1pbiIsIm1heCIsIm51bSIsInBhcnNlSW50IiwiaXNOYU4iLCJNYXRoIiwiZGVmYXVsdE5hbWUiLCJ0cnlQYXJzZUpzb25GbGV4aWJsZSIsInBhcnNlIiwiZmlyc3QiLCJpbmRleE9mIiwibGFzdCIsImxhc3RJbmRleE9mIiwidmFsaWRhdGVSZXF1aXJlZEZpZWxkcyIsIm1pc3NpbmciLCJnZW5lcmF0ZVJlcG9ydFYzIiwic3VwYWJhc2UiLCJ1c2VySWQiLCJzZXNzaW9uSWQiLCJjb25zb2xlIiwiaW5mbyIsInJlcG9ydHNSZXBvIiwic2Vzc2lvbnNSZXBvIiwidHJhbnNjcmlwdHNSZXBvIiwiZXhpc3RpbmciLCJmaW5kQnlTZXNzaW9uSWQiLCJ1cHNlcnRRdWV1ZWQiLCJzZXRSdW5uaW5nIiwiZmluZEJ5SWQiLCJlcnJvciIsImluY3JlbWVudEF0dGVtcHRzIiwic2V0RmFpbGVkIiwiRXJyb3IiLCJzeXN0ZW0iLCJ1c2VyIiwiYm9keSIsIm1vZGVsIiwicHJvY2VzcyIsImVudiIsIk9QRU5ST1VURVJfTU9ERUwiLCJtZXNzYWdlcyIsInJlc3BvbnNlX2Zvcm1hdCIsImpzb25fc2NoZW1hIiwic3RyaWN0Iiwic2NoZW1hIiwicHJvdmlkZXIiLCJzb3J0IiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwiaGVhZGVycyIsIk9QRU5ST1VURVJfQVBJX0tFWSIsIk9QRU5ST1VURVJfSFRUUF9SRUZFUkVSIiwiT1BFTlJPVVRFUl9YX1RJVExFIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJqc29uIiwibGFzdEVyciIsImF0dGVtcHQiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwiZXJyVGV4dCIsImNhdGNoIiwidXNhZ2UiLCJlcnIiLCJQcm9taXNlIiwiciIsImUiLCJtZXNzYWdlIiwiY2xlYXJUaW1lb3V0IiwiY2hvaWNlcyIsInNhbXBsZSIsIm5vcm1hbGl6ZWRSZXBvcnQiLCJtc2ciLCJmaWVsZHNDb3VudCIsIk9iamVjdCIsImtleXMiLCJzZXRSZWFkeSIsInRyaWdnZXJHZW5lcmF0ZSIsImFjY2VwdGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/services/report-v3.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1","vendor-chunks/tr46@0.0.3","vendor-chunks/@supabase+auth-js@2.71.1","vendor-chunks/@supabase+realtime-js@2.15.5","vendor-chunks/@supabase+postgrest-js@1.21.4","vendor-chunks/@supabase+node-fetch@2.6.15","vendor-chunks/@supabase+storage-js@2.12.1","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/@supabase+ssr@0.7.0_@supabase+supabase-js@2.57.4","vendor-chunks/@supabase+supabase-js@2.57.4","vendor-chunks/cookie@1.0.2","vendor-chunks/@supabase+functions-js@2.4.6","vendor-chunks/webidl-conversions@3.0.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&page=%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2F%5Bid%5D%2Freport-v3%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();