/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/org/me/route";
exports.ids = ["app/api/org/me/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forg%2Fme%2Froute&page=%2Fapi%2Forg%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forg%2Fme%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forg%2Fme%2Froute&page=%2Fapi%2Forg%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forg%2Fme%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Delta_IV_Sofwares_glass_sandbox_shadcn_crm_dashboard_src_app_api_org_me_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/org/me/route.ts */ \"(rsc)/./src/app/api/org/me/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/org/me/route\",\n        pathname: \"/api/org/me\",\n        filename: \"route\",\n        bundlePath: \"app/api/org/me/route\"\n    },\n    resolvedPagePath: \"D:\\\\Delta IV\\\\Sofwares\\\\glass\\\\sandbox\\\\shadcn-crm-dashboard\\\\src\\\\app\\\\api\\\\org\\\\me\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Delta_IV_Sofwares_glass_sandbox_shadcn_crm_dashboard_src_app_api_org_me_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjJfQHBsYXl3cmlnaHQrdGVzdEAxLjU3LjBfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZvcmclMkZtZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGb3JnJTJGbWUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZvcmclMkZtZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDRGVsdGElMjBJViU1Q1NvZndhcmVzJTVDZ2xhc3MlNUNzYW5kYm94JTVDc2hhZGNuLWNybS1kYXNoYm9hcmQlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNEZWx0YSUyMElWJTVDU29md2FyZXMlNUNnbGFzcyU1Q3NhbmRib3glNUNzaGFkY24tY3JtLWRhc2hib2FyZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDOEM7QUFDM0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXERlbHRhIElWXFxcXFNvZndhcmVzXFxcXGdsYXNzXFxcXHNhbmRib3hcXFxcc2hhZGNuLWNybS1kYXNoYm9hcmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcb3JnXFxcXG1lXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9vcmcvbWUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vcmcvbWVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL29yZy9tZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXERlbHRhIElWXFxcXFNvZndhcmVzXFxcXGdsYXNzXFxcXHNhbmRib3hcXFxcc2hhZGNuLWNybS1kYXNoYm9hcmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcb3JnXFxcXG1lXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forg%2Fme%2Froute&page=%2Fapi%2Forg%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forg%2Fme%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/org/me/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/org/me/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/ssr */ \"@supabase/ssr\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_supabase_ssr__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _server_org_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/org/context */ \"(rsc)/./src/server/org/context.ts\");\n/* harmony import */ var _server_supabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/supabase */ \"(rsc)/./src/server/supabase.ts\");\n\n\n\n\n\nasync function getServerClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_2__.createServerClient)(\"https://hewpwluinbwaizwqhmjc.supabase.co\", \"sb_publishable_F1bepvhJ6cGvjDNRfj_QfA_ZcNq0USi\", {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                cookiesToSet.forEach(({ name, value, options })=>cookieStore.set(name, value, options));\n            }\n        }\n    });\n}\nasync function GET() {\n    try {\n        const supabase = await getServerClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n        let orgId = null;\n        let orgRole = null;\n        let orgName = null;\n        try {\n            const scope = await (0,_server_org_context__WEBPACK_IMPORTED_MODULE_3__.fetchOrgScope)(supabase, user.id);\n            orgId = scope.orgId;\n            orgRole = scope.role;\n            if (scope.orgId && _server_supabase__WEBPACK_IMPORTED_MODULE_4__.supabaseAdmin) {\n                const { data: org, error } = await _server_supabase__WEBPACK_IMPORTED_MODULE_4__.supabaseAdmin.from(\"organizations\").select(\"name\").eq(\"id\", scope.orgId).maybeSingle();\n                if (!error && org) {\n                    orgName = org.name ?? null;\n                }\n            }\n        } catch (error) {\n            // For legacy environments (no RPC, no admin client), fail open with null org fields\n            const message = String(error?.message || \"\");\n            if (!/get_user_memberships/i.test(message) && !/does not exist/i.test(message)) {\n                // Unexpected errors should still be surfaced to logs on the server, but not break the sidebar\n                console.error(\"[org/me] scope resolution error\", error);\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            orgId,\n            orgName,\n            orgRole\n        });\n    } catch (error) {\n        console.error(\"[org/me] unexpected error\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nconst runtime = \"nodejs\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9vcmcvbWUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkM7QUFDSjtBQUNZO0FBQ0U7QUFDSDtBQUVsRCxlQUFlSztJQUNiLE1BQU1DLGNBQWMsTUFBTUwscURBQU9BO0lBQ2pDLE9BQU9DLGlFQUFrQkEsQ0FDdkJLLDBDQUFvQyxFQUNwQ0EsZ0RBQXlDLEVBQ3pDO1FBQ0VOLFNBQVM7WUFDUFU7Z0JBQ0UsT0FBT0wsWUFBWUssTUFBTTtZQUMzQjtZQUNBQyxRQUFPQyxZQUFZO2dCQUNqQkEsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRSxHQUFLWCxZQUFZWSxHQUFHLENBQUNILE1BQU1DLE9BQU9DO1lBQ2xGO1FBQ0Y7SUFDRjtBQUVKO0FBRU8sZUFBZUU7SUFDcEIsSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTWY7UUFDdkIsTUFBTSxFQUFFZ0IsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU1GLFNBQVNHLElBQUksQ0FBQ0MsT0FBTztRQUN0RCxJQUFJLENBQUNGLE1BQU0sT0FBT3RCLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZSxHQUFHO1lBQUVDLFFBQVE7UUFBSTtRQUU3RSxJQUFJQyxRQUF1QjtRQUMzQixJQUFJQyxVQUF5QjtRQUM3QixJQUFJQyxVQUF5QjtRQUU3QixJQUFJO1lBQ0YsTUFBTUMsUUFBUSxNQUFNNUIsa0VBQWFBLENBQUNpQixVQUFpQkUsS0FBS1UsRUFBRTtZQUMxREosUUFBUUcsTUFBTUgsS0FBSztZQUNuQkMsVUFBVUUsTUFBTUUsSUFBSTtZQUVwQixJQUFJRixNQUFNSCxLQUFLLElBQUl4QiwyREFBYUEsRUFBRTtnQkFDaEMsTUFBTSxFQUFFaUIsTUFBTWEsR0FBRyxFQUFFUixLQUFLLEVBQUUsR0FBRyxNQUFNdEIsMkRBQWFBLENBQzdDK0IsSUFBSSxDQUFDLGlCQUNMQyxNQUFNLENBQUMsUUFDUEMsRUFBRSxDQUFDLE1BQU1OLE1BQU1ILEtBQUssRUFDcEJVLFdBQVc7Z0JBQ2QsSUFBSSxDQUFDWixTQUFTUSxLQUFLO29CQUNqQkosVUFBVSxJQUFhZixJQUFJLElBQUk7Z0JBQ2pDO1lBQ0Y7UUFDRixFQUFFLE9BQU9XLE9BQVk7WUFDbkIsb0ZBQW9GO1lBQ3BGLE1BQU1hLFVBQVVDLE9BQU9kLE9BQU9hLFdBQVc7WUFDekMsSUFBSSxDQUFDLHdCQUF3QkUsSUFBSSxDQUFDRixZQUFZLENBQUMsa0JBQWtCRSxJQUFJLENBQUNGLFVBQVU7Z0JBQzlFLDhGQUE4RjtnQkFDOUZHLFFBQVFoQixLQUFLLENBQUMsbUNBQW1DQTtZQUNuRDtRQUNGO1FBRUEsT0FBTzFCLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO1lBQUVHO1lBQU9FO1lBQVNEO1FBQVE7SUFDckQsRUFBRSxPQUFPSCxPQUFPO1FBQ2RnQixRQUFRaEIsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTzFCLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDN0U7QUFDRjtBQUVPLE1BQU1nQixVQUFVLFNBQVMiLCJzb3VyY2VzIjpbIkQ6XFxEZWx0YSBJVlxcU29md2FyZXNcXGdsYXNzXFxzYW5kYm94XFxzaGFkY24tY3JtLWRhc2hib2FyZFxcc3JjXFxhcHBcXGFwaVxcb3JnXFxtZVxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zc3JcIjtcbmltcG9ydCB7IGZldGNoT3JnU2NvcGUgfSBmcm9tIFwiQC9zZXJ2ZXIvb3JnL2NvbnRleHRcIjtcbmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tIFwiQC9zZXJ2ZXIvc3VwYWJhc2VcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyQ2xpZW50KCkge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0QWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PiBjb29raWVTdG9yZS5zZXQobmFtZSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgZ2V0U2VydmVyQ2xpZW50KCk7XG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgaWYgKCF1c2VyKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuXG4gICAgbGV0IG9yZ0lkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgb3JnUm9sZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IG9yZ05hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNjb3BlID0gYXdhaXQgZmV0Y2hPcmdTY29wZShzdXBhYmFzZSBhcyBhbnksIHVzZXIuaWQpO1xuICAgICAgb3JnSWQgPSBzY29wZS5vcmdJZDtcbiAgICAgIG9yZ1JvbGUgPSBzY29wZS5yb2xlO1xuXG4gICAgICBpZiAoc2NvcGUub3JnSWQgJiYgc3VwYWJhc2VBZG1pbikge1xuICAgICAgICBjb25zdCB7IGRhdGE6IG9yZywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgICAuZnJvbShcIm9yZ2FuaXphdGlvbnNcIilcbiAgICAgICAgICAuc2VsZWN0KFwibmFtZVwiKVxuICAgICAgICAgIC5lcShcImlkXCIsIHNjb3BlLm9yZ0lkKVxuICAgICAgICAgIC5tYXliZVNpbmdsZSgpO1xuICAgICAgICBpZiAoIWVycm9yICYmIG9yZykge1xuICAgICAgICAgIG9yZ05hbWUgPSAob3JnIGFzIGFueSkubmFtZSA/PyBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gRm9yIGxlZ2FjeSBlbnZpcm9ubWVudHMgKG5vIFJQQywgbm8gYWRtaW4gY2xpZW50KSwgZmFpbCBvcGVuIHdpdGggbnVsbCBvcmcgZmllbGRzXG4gICAgICBjb25zdCBtZXNzYWdlID0gU3RyaW5nKGVycm9yPy5tZXNzYWdlIHx8IFwiXCIpO1xuICAgICAgaWYgKCEvZ2V0X3VzZXJfbWVtYmVyc2hpcHMvaS50ZXN0KG1lc3NhZ2UpICYmICEvZG9lcyBub3QgZXhpc3QvaS50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgIC8vIFVuZXhwZWN0ZWQgZXJyb3JzIHNob3VsZCBzdGlsbCBiZSBzdXJmYWNlZCB0byBsb2dzIG9uIHRoZSBzZXJ2ZXIsIGJ1dCBub3QgYnJlYWsgdGhlIHNpZGViYXJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltvcmcvbWVdIHNjb3BlIHJlc29sdXRpb24gZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9yZ0lkLCBvcmdOYW1lLCBvcmdSb2xlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbb3JnL21lXSB1bmV4cGVjdGVkIGVycm9yXCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gXCJub2RlanNcIjtcblxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNvb2tpZXMiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJmZXRjaE9yZ1Njb3BlIiwic3VwYWJhc2VBZG1pbiIsImdldFNlcnZlckNsaWVudCIsImNvb2tpZVN0b3JlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0QWxsIiwic2V0QWxsIiwiY29va2llc1RvU2V0IiwiZm9yRWFjaCIsIm5hbWUiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJzZXQiLCJHRVQiLCJzdXBhYmFzZSIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJvcmdJZCIsIm9yZ1JvbGUiLCJvcmdOYW1lIiwic2NvcGUiLCJpZCIsInJvbGUiLCJvcmciLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsIm1lc3NhZ2UiLCJTdHJpbmciLCJ0ZXN0IiwiY29uc29sZSIsInJ1bnRpbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/org/me/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/org/context.ts":
/*!***********************************!*\
  !*** ./src/server/org/context.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureLicenseActive: () => (/* binding */ ensureLicenseActive),\n/* harmony export */   ensureOrgAdmin: () => (/* binding */ ensureOrgAdmin),\n/* harmony export */   fetchOrgScope: () => (/* binding */ fetchOrgScope)\n/* harmony export */ });\n/* harmony import */ var _membership__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./membership */ \"(rsc)/./src/server/org/membership.ts\");\n\nasync function fetchOrgScope(client, userId) {\n    try {\n        const { data, error } = await client.rpc('get_user_memberships', {\n            p_user_id: userId\n        });\n        if (error) throw error;\n        return (0,_membership__WEBPACK_IMPORTED_MODULE_0__.deriveOrgScope)(data || []);\n    } catch (error) {\n        const message = String(error?.message || '');\n        if (/get_user_memberships/i.test(message) || /does not exist/i.test(message)) {\n            // Fail open for legacy environments where the RPC is not yet deployed\n            return (0,_membership__WEBPACK_IMPORTED_MODULE_0__.deriveOrgScope)([]);\n        }\n        throw error;\n    }\n}\nfunction ensureLicenseActive(scope) {\n    if (scope.licenseStatus === 'license_expired') {\n        const error = new Error('License Expired, please contact Salesy');\n        error.statusCode = 402;\n        throw error;\n    }\n    if (scope.licenseStatus === 'suspended') {\n        const error = new Error('Organization suspended');\n        error.statusCode = 403;\n        throw error;\n    }\n}\nfunction ensureOrgAdmin(scope) {\n    if (!scope.role || ![\n        'org_admin',\n        'director'\n    ].includes(scope.role)) {\n        const error = new Error('Insufficient permissions');\n        error.statusCode = 403;\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL29yZy9jb250ZXh0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFNkM7QUFFdEMsZUFBZUMsY0FDckJDLE1BQXNCLEVBQ3RCQyxNQUFjO0lBRWQsSUFBSTtRQUNILE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNLE9BQWdCQyxHQUFHLENBQUMsd0JBQXdCO1lBQUVDLFdBQVdKO1FBQU87UUFDOUYsSUFBSUUsT0FBTyxNQUFNQTtRQUNqQixPQUFPTCwyREFBY0EsQ0FBQ0ksUUFBUSxFQUFFO0lBQ2pDLEVBQUUsT0FBT0MsT0FBWTtRQUNwQixNQUFNRyxVQUFVQyxPQUFPSixPQUFPRyxXQUFXO1FBQ3pDLElBQUksd0JBQXdCRSxJQUFJLENBQUNGLFlBQVksa0JBQWtCRSxJQUFJLENBQUNGLFVBQVU7WUFDN0Usc0VBQXNFO1lBQ3RFLE9BQU9SLDJEQUFjQSxDQUFDLEVBQUU7UUFDekI7UUFDQSxNQUFNSztJQUNQO0FBQ0Q7QUFFTyxTQUFTTSxvQkFBb0JDLEtBQWU7SUFDbEQsSUFBSUEsTUFBTUMsYUFBYSxLQUFLLG1CQUFtQjtRQUM5QyxNQUFNUixRQUFRLElBQUlTLE1BQU07UUFDdEJULE1BQWNVLFVBQVUsR0FBRztRQUM3QixNQUFNVjtJQUNQO0lBQ0EsSUFBSU8sTUFBTUMsYUFBYSxLQUFLLGFBQWE7UUFDeEMsTUFBTVIsUUFBUSxJQUFJUyxNQUFNO1FBQ3RCVCxNQUFjVSxVQUFVLEdBQUc7UUFDN0IsTUFBTVY7SUFDUDtBQUNEO0FBRU8sU0FBU1csZUFBZUosS0FBZTtJQUM3QyxJQUFJLENBQUNBLE1BQU1LLElBQUksSUFBSSxDQUFDO1FBQUM7UUFBYTtLQUFXLENBQUNDLFFBQVEsQ0FBQ04sTUFBTUssSUFBSSxHQUFHO1FBQ25FLE1BQU1aLFFBQVEsSUFBSVMsTUFBTTtRQUN0QlQsTUFBY1UsVUFBVSxHQUFHO1FBQzdCLE1BQU1WO0lBQ1A7QUFDRCIsInNvdXJjZXMiOlsiRDpcXERlbHRhIElWXFxTb2Z3YXJlc1xcZ2xhc3NcXHNhbmRib3hcXHNoYWRjbi1jcm0tZGFzaGJvYXJkXFxzcmNcXHNlcnZlclxcb3JnXFxjb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5pbXBvcnQgdHlwZSB7IE9yZ1Njb3BlIH0gZnJvbSAnLi9tZW1iZXJzaGlwJ1xuaW1wb3J0IHsgZGVyaXZlT3JnU2NvcGUgfSBmcm9tICcuL21lbWJlcnNoaXAnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE9yZ1Njb3BlKFxuXHRjbGllbnQ6IFN1cGFiYXNlQ2xpZW50LFxuXHR1c2VySWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxPcmdTY29wZT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IChjbGllbnQgYXMgYW55KS5ycGMoJ2dldF91c2VyX21lbWJlcnNoaXBzJywgeyBwX3VzZXJfaWQ6IHVzZXJJZCB9KVxuXHRcdGlmIChlcnJvcikgdGhyb3cgZXJyb3Jcblx0XHRyZXR1cm4gZGVyaXZlT3JnU2NvcGUoZGF0YSB8fCBbXSlcblx0fSBjYXRjaCAoZXJyb3I6IGFueSkge1xuXHRcdGNvbnN0IG1lc3NhZ2UgPSBTdHJpbmcoZXJyb3I/Lm1lc3NhZ2UgfHwgJycpXG5cdFx0aWYgKC9nZXRfdXNlcl9tZW1iZXJzaGlwcy9pLnRlc3QobWVzc2FnZSkgfHwgL2RvZXMgbm90IGV4aXN0L2kudGVzdChtZXNzYWdlKSkge1xuXHRcdFx0Ly8gRmFpbCBvcGVuIGZvciBsZWdhY3kgZW52aXJvbm1lbnRzIHdoZXJlIHRoZSBSUEMgaXMgbm90IHlldCBkZXBsb3llZFxuXHRcdFx0cmV0dXJuIGRlcml2ZU9yZ1Njb3BlKFtdKVxuXHRcdH1cblx0XHR0aHJvdyBlcnJvclxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMaWNlbnNlQWN0aXZlKHNjb3BlOiBPcmdTY29wZSkge1xuXHRpZiAoc2NvcGUubGljZW5zZVN0YXR1cyA9PT0gJ2xpY2Vuc2VfZXhwaXJlZCcpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcignTGljZW5zZSBFeHBpcmVkLCBwbGVhc2UgY29udGFjdCBTYWxlc3knKVxuXHRcdDsoZXJyb3IgYXMgYW55KS5zdGF0dXNDb2RlID0gNDAyXG5cdFx0dGhyb3cgZXJyb3Jcblx0fVxuXHRpZiAoc2NvcGUubGljZW5zZVN0YXR1cyA9PT0gJ3N1c3BlbmRlZCcpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcignT3JnYW5pemF0aW9uIHN1c3BlbmRlZCcpXG5cdFx0OyhlcnJvciBhcyBhbnkpLnN0YXR1c0NvZGUgPSA0MDNcblx0XHR0aHJvdyBlcnJvclxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVPcmdBZG1pbihzY29wZTogT3JnU2NvcGUpIHtcblx0aWYgKCFzY29wZS5yb2xlIHx8ICFbJ29yZ19hZG1pbicsICdkaXJlY3RvciddLmluY2x1ZGVzKHNjb3BlLnJvbGUpKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0luc3VmZmljaWVudCBwZXJtaXNzaW9ucycpXG5cdFx0OyhlcnJvciBhcyBhbnkpLnN0YXR1c0NvZGUgPSA0MDNcblx0XHR0aHJvdyBlcnJvclxuXHR9XG59XG4iXSwibmFtZXMiOlsiZGVyaXZlT3JnU2NvcGUiLCJmZXRjaE9yZ1Njb3BlIiwiY2xpZW50IiwidXNlcklkIiwiZGF0YSIsImVycm9yIiwicnBjIiwicF91c2VyX2lkIiwibWVzc2FnZSIsIlN0cmluZyIsInRlc3QiLCJlbnN1cmVMaWNlbnNlQWN0aXZlIiwic2NvcGUiLCJsaWNlbnNlU3RhdHVzIiwiRXJyb3IiLCJzdGF0dXNDb2RlIiwiZW5zdXJlT3JnQWRtaW4iLCJyb2xlIiwiaW5jbHVkZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/org/context.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/org/membership.ts":
/*!**************************************!*\
  !*** ./src/server/org/membership.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deriveOrgScope: () => (/* binding */ deriveOrgScope)\n/* harmony export */ });\nfunction parseDate(value) {\n    if (!value) return null;\n    const d = new Date(value);\n    return Number.isNaN(d.getTime()) ? null : d;\n}\nfunction classifyLicense(m, now) {\n    if (!m) return 'none';\n    if (m.org_status !== 'active') return 'suspended';\n    if (m.org_type !== 'enterprise') return 'active';\n    const expiresAt = parseDate(m.license_expires_at);\n    if (!expiresAt) return 'license_missing';\n    if (expiresAt.getTime() < now.getTime()) return 'license_expired';\n    return 'active';\n}\nfunction deriveOrgScope(memberships, now = new Date()) {\n    const normalized = memberships || [];\n    const active = normalized.find((m)=>m.member_status === 'active' && m.org_status === 'active');\n    const fallback = active || normalized[0] || null;\n    const licenseStatus = classifyLicense(fallback, now);\n    if (!fallback) {\n        return {\n            orgId: null,\n            role: null,\n            teamId: null,\n            licenseStatus\n        };\n    }\n    return {\n        orgId: fallback.org_id,\n        role: fallback.member_role,\n        teamId: fallback.team_id,\n        licenseStatus\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL29yZy9tZW1iZXJzaGlwLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFvQkEsU0FBU0EsVUFBVUMsS0FBb0I7SUFDdEMsSUFBSSxDQUFDQSxPQUFPLE9BQU87SUFDbkIsTUFBTUMsSUFBSSxJQUFJQyxLQUFLRjtJQUNuQixPQUFPRyxPQUFPQyxLQUFLLENBQUNILEVBQUVJLE9BQU8sTUFBTSxPQUFPSjtBQUMzQztBQUVBLFNBQVNLLGdCQUFnQkMsQ0FBMEIsRUFBRUMsR0FBUztJQUM3RCxJQUFJLENBQUNELEdBQUcsT0FBTztJQUVmLElBQUlBLEVBQUVFLFVBQVUsS0FBSyxVQUFVLE9BQU87SUFFdEMsSUFBSUYsRUFBRUcsUUFBUSxLQUFLLGNBQWMsT0FBTztJQUV4QyxNQUFNQyxZQUFZWixVQUFVUSxFQUFFSyxrQkFBa0I7SUFDaEQsSUFBSSxDQUFDRCxXQUFXLE9BQU87SUFDdkIsSUFBSUEsVUFBVU4sT0FBTyxLQUFLRyxJQUFJSCxPQUFPLElBQUksT0FBTztJQUVoRCxPQUFPO0FBQ1I7QUFFTyxTQUFTUSxlQUNmQyxXQUErQixFQUMvQk4sTUFBWSxJQUFJTixNQUFNO0lBRXRCLE1BQU1hLGFBQWFELGVBQWUsRUFBRTtJQUNwQyxNQUFNRSxTQUFTRCxXQUFXRSxJQUFJLENBQzdCVixDQUFBQSxJQUFLQSxFQUFFVyxhQUFhLEtBQUssWUFBWVgsRUFBRUUsVUFBVSxLQUFLO0lBRXZELE1BQU1VLFdBQVdILFVBQVVELFVBQVUsQ0FBQyxFQUFFLElBQUk7SUFDNUMsTUFBTUssZ0JBQWdCZCxnQkFBZ0JhLFVBQVVYO0lBRWhELElBQUksQ0FBQ1csVUFBVTtRQUNkLE9BQU87WUFDTkUsT0FBTztZQUNQQyxNQUFNO1lBQ05DLFFBQVE7WUFDUkg7UUFDRDtJQUNEO0lBRUEsT0FBTztRQUNOQyxPQUFPRixTQUFTSyxNQUFNO1FBQ3RCRixNQUFNSCxTQUFTTSxXQUFXO1FBQzFCRixRQUFRSixTQUFTTyxPQUFPO1FBQ3hCTjtJQUNEO0FBQ0QiLCJzb3VyY2VzIjpbIkQ6XFxEZWx0YSBJVlxcU29md2FyZXNcXGdsYXNzXFxzYW5kYm94XFxzaGFkY24tY3JtLWRhc2hib2FyZFxcc3JjXFxzZXJ2ZXJcXG9yZ1xcbWVtYmVyc2hpcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBPcmdNZW1iZXJzaGlwUm93ID0ge1xuXHRvcmdfaWQ6IHN0cmluZ1xuXHRvcmdfdHlwZTogJ2VudGVycHJpc2UnIHwgJ3NlbGZfc2VydmUnXG5cdG9yZ19zdGF0dXM6ICdhY3RpdmUnIHwgJ3N1c3BlbmRlZCdcblx0c2VhdF9saW1pdF9yZXBzOiBudW1iZXIgfCBudWxsXG5cdGxpY2Vuc2VfZXhwaXJlc19hdDogc3RyaW5nIHwgbnVsbFxuXHRtZW1iZXJfcm9sZTogJ3NhbGVzX3JlcCcgfCAnc3VwZXJ2aXNvcicgfCAnbWFuYWdlcicgfCAnZGlyZWN0b3InIHwgJ29yZ19hZG1pbidcblx0bWVtYmVyX3N0YXR1czogJ2FjdGl2ZScgfCAnaW52aXRlZCcgfCAnZGlzYWJsZWQnXG5cdHRlYW1faWQ6IHN0cmluZyB8IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgTGljZW5zZVN0YXR1cyA9ICdhY3RpdmUnIHwgJ2xpY2Vuc2VfZXhwaXJlZCcgfCAnbGljZW5zZV9taXNzaW5nJyB8ICdzdXNwZW5kZWQnIHwgJ25vbmUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgT3JnU2NvcGUge1xuXHRvcmdJZDogc3RyaW5nIHwgbnVsbFxuXHRyb2xlOiBPcmdNZW1iZXJzaGlwUm93WydtZW1iZXJfcm9sZSddIHwgbnVsbFxuXHR0ZWFtSWQ6IHN0cmluZyB8IG51bGxcblx0bGljZW5zZVN0YXR1czogTGljZW5zZVN0YXR1c1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUodmFsdWU6IHN0cmluZyB8IG51bGwpOiBEYXRlIHwgbnVsbCB7XG5cdGlmICghdmFsdWUpIHJldHVybiBudWxsXG5cdGNvbnN0IGQgPSBuZXcgRGF0ZSh2YWx1ZSlcblx0cmV0dXJuIE51bWJlci5pc05hTihkLmdldFRpbWUoKSkgPyBudWxsIDogZFxufVxuXG5mdW5jdGlvbiBjbGFzc2lmeUxpY2Vuc2UobTogT3JnTWVtYmVyc2hpcFJvdyB8IG51bGwsIG5vdzogRGF0ZSk6IExpY2Vuc2VTdGF0dXMge1xuXHRpZiAoIW0pIHJldHVybiAnbm9uZSdcblxuXHRpZiAobS5vcmdfc3RhdHVzICE9PSAnYWN0aXZlJykgcmV0dXJuICdzdXNwZW5kZWQnXG5cblx0aWYgKG0ub3JnX3R5cGUgIT09ICdlbnRlcnByaXNlJykgcmV0dXJuICdhY3RpdmUnXG5cblx0Y29uc3QgZXhwaXJlc0F0ID0gcGFyc2VEYXRlKG0ubGljZW5zZV9leHBpcmVzX2F0KVxuXHRpZiAoIWV4cGlyZXNBdCkgcmV0dXJuICdsaWNlbnNlX21pc3NpbmcnXG5cdGlmIChleHBpcmVzQXQuZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKSkgcmV0dXJuICdsaWNlbnNlX2V4cGlyZWQnXG5cblx0cmV0dXJuICdhY3RpdmUnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVPcmdTY29wZShcblx0bWVtYmVyc2hpcHM6IE9yZ01lbWJlcnNoaXBSb3dbXSxcblx0bm93OiBEYXRlID0gbmV3IERhdGUoKVxuKTogT3JnU2NvcGUge1xuXHRjb25zdCBub3JtYWxpemVkID0gbWVtYmVyc2hpcHMgfHwgW11cblx0Y29uc3QgYWN0aXZlID0gbm9ybWFsaXplZC5maW5kKFxuXHRcdG0gPT4gbS5tZW1iZXJfc3RhdHVzID09PSAnYWN0aXZlJyAmJiBtLm9yZ19zdGF0dXMgPT09ICdhY3RpdmUnXG5cdClcblx0Y29uc3QgZmFsbGJhY2sgPSBhY3RpdmUgfHwgbm9ybWFsaXplZFswXSB8fCBudWxsXG5cdGNvbnN0IGxpY2Vuc2VTdGF0dXMgPSBjbGFzc2lmeUxpY2Vuc2UoZmFsbGJhY2ssIG5vdylcblxuXHRpZiAoIWZhbGxiYWNrKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG9yZ0lkOiBudWxsLFxuXHRcdFx0cm9sZTogbnVsbCxcblx0XHRcdHRlYW1JZDogbnVsbCxcblx0XHRcdGxpY2Vuc2VTdGF0dXNcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdG9yZ0lkOiBmYWxsYmFjay5vcmdfaWQsXG5cdFx0cm9sZTogZmFsbGJhY2subWVtYmVyX3JvbGUsXG5cdFx0dGVhbUlkOiBmYWxsYmFjay50ZWFtX2lkLFxuXHRcdGxpY2Vuc2VTdGF0dXNcblx0fVxufVxuIl0sIm5hbWVzIjpbInBhcnNlRGF0ZSIsInZhbHVlIiwiZCIsIkRhdGUiLCJOdW1iZXIiLCJpc05hTiIsImdldFRpbWUiLCJjbGFzc2lmeUxpY2Vuc2UiLCJtIiwibm93Iiwib3JnX3N0YXR1cyIsIm9yZ190eXBlIiwiZXhwaXJlc0F0IiwibGljZW5zZV9leHBpcmVzX2F0IiwiZGVyaXZlT3JnU2NvcGUiLCJtZW1iZXJzaGlwcyIsIm5vcm1hbGl6ZWQiLCJhY3RpdmUiLCJmaW5kIiwibWVtYmVyX3N0YXR1cyIsImZhbGxiYWNrIiwibGljZW5zZVN0YXR1cyIsIm9yZ0lkIiwicm9sZSIsInRlYW1JZCIsIm9yZ19pZCIsIm1lbWJlcl9yb2xlIiwidGVhbV9pZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/org/membership.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/supabase.ts":
/*!********************************!*\
  !*** ./src/server/supabase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin),\n/* harmony export */   supabaseServer: () => (/* binding */ supabaseServer)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://hewpwluinbwaizwqhmjc.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl) {\n    throw new Error('Missing Supabase URL for server client');\n}\n// Server-only client with service role for bypassing RLS in admin operations (optional)\nconst supabaseAdmin = supabaseServiceKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n}) : null;\n// Server client that respects RLS (uses anon key + user context)\nconst supabaseServer = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, \"sb_publishable_F1bepvhJ6cGvjDNRfj_QfA_ZcNq0USi\", {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLHFCQUFxQkgsUUFBUUMsR0FBRyxDQUFDRyx5QkFBeUI7QUFFaEUsSUFBSSxDQUFDTCxhQUFhO0lBQ2hCLE1BQU0sSUFBSU0sTUFBTTtBQUNsQjtBQUVBLHdGQUF3RjtBQUNqRixNQUFNQyxnQkFBZ0JILHFCQUN6QkwsbUVBQVlBLENBQUNDLGFBQWFJLG9CQUFvQjtJQUM1Q0ksTUFBTTtRQUNKQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtJQUNsQjtBQUNGLEtBQ0EsS0FBSTtBQUVSLGlFQUFpRTtBQUMxRCxNQUFNQyxpQkFBaUJaLG1FQUFZQSxDQUN4Q0MsYUFDQUMsZ0RBQXlDLEVBQ3pDO0lBQ0VPLE1BQU07UUFDSkMsa0JBQWtCO1FBQ2xCQyxnQkFBZ0I7SUFDbEI7QUFDRixHQUNEIiwic291cmNlcyI6WyJEOlxcRGVsdGEgSVZcXFNvZndhcmVzXFxnbGFzc1xcc2FuZGJveFxcc2hhZGNuLWNybS1kYXNoYm9hcmRcXHNyY1xcc2VydmVyXFxzdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZXG5cbmlmICghc3VwYWJhc2VVcmwpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIFVSTCBmb3Igc2VydmVyIGNsaWVudCcpXG59XG5cbi8vIFNlcnZlci1vbmx5IGNsaWVudCB3aXRoIHNlcnZpY2Ugcm9sZSBmb3IgYnlwYXNzaW5nIFJMUyBpbiBhZG1pbiBvcGVyYXRpb25zIChvcHRpb25hbClcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gc3VwYWJhc2VTZXJ2aWNlS2V5XG4gID8gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXksIHtcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSlcbiAgOiBudWxsXG5cbi8vIFNlcnZlciBjbGllbnQgdGhhdCByZXNwZWN0cyBSTFMgKHVzZXMgYW5vbiBrZXkgKyB1c2VyIGNvbnRleHQpXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VTZXJ2ZXIgPSBjcmVhdGVDbGllbnQoXG4gIHN1cGFiYXNlVXJsLFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXG4gIHtcbiAgICBhdXRoOiB7XG4gICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSxcbiAgICB9LFxuICB9XG4pXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VTZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIkVycm9yIiwic3VwYWJhc2VBZG1pbiIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iLCJzdXBhYmFzZVNlcnZlciIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/supabase.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@supabase/ssr":
/*!********************************!*\
  !*** external "@supabase/ssr" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/ssr");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.2_@playwright+test@1.57.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forg%2Fme%2Froute&page=%2Fapi%2Forg%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forg%2Fme%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();