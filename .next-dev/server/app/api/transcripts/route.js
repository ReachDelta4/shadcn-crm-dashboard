/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/transcripts/route";
exports.ids = ["app/api/transcripts/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftranscripts%2Froute&page=%2Fapi%2Ftranscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftranscripts%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftranscripts%2Froute&page=%2Fapi%2Ftranscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftranscripts%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Delta_IV_Sofwares_glass_sandbox_shadcn_crm_dashboard_src_app_api_transcripts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/transcripts/route.ts */ \"(rsc)/./src/app/api/transcripts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/transcripts/route\",\n        pathname: \"/api/transcripts\",\n        filename: \"route\",\n        bundlePath: \"app/api/transcripts/route\"\n    },\n    resolvedPagePath: \"D:\\\\Delta IV\\\\Sofwares\\\\glass\\\\sandbox\\\\shadcn-crm-dashboard\\\\src\\\\app\\\\api\\\\transcripts\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Delta_IV_Sofwares_glass_sandbox_shadcn_crm_dashboard_src_app_api_transcripts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjJfcmVhY3QtZG9tQDE5LjEuMV9yZWFjdEAxOS4xLjFfX3JlYWN0QDE5LjEuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ0cmFuc2NyaXB0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdHJhbnNjcmlwdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ0cmFuc2NyaXB0cyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDRGVsdGElMjBJViU1Q1NvZndhcmVzJTVDZ2xhc3MlNUNzYW5kYm94JTVDc2hhZGNuLWNybS1kYXNoYm9hcmQlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNEZWx0YSUyMElWJTVDU29md2FyZXMlNUNnbGFzcyU1Q3NhbmRib3glNUNzaGFkY24tY3JtLWRhc2hib2FyZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDa0Q7QUFDL0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXERlbHRhIElWXFxcXFNvZndhcmVzXFxcXGdsYXNzXFxcXHNhbmRib3hcXFxcc2hhZGNuLWNybS1kYXNoYm9hcmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdHJhbnNjcmlwdHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3RyYW5zY3JpcHRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdHJhbnNjcmlwdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3RyYW5zY3JpcHRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcRGVsdGEgSVZcXFxcU29md2FyZXNcXFxcZ2xhc3NcXFxcc2FuZGJveFxcXFxzaGFkY24tY3JtLWRhc2hib2FyZFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx0cmFuc2NyaXB0c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftranscripts%2Froute&page=%2Fapi%2Ftranscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftranscripts%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/transcripts/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/transcripts/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.57.4/node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _server_repositories_transcripts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/repositories/transcripts */ \"(rsc)/./src/server/repositories/transcripts.ts\");\n\n\n\n\nasync function getServerClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://hewpwluinbwaizwqhmjc.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\", {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                cookiesToSet.forEach(({ name, value, options })=>cookieStore.set(name, value, options));\n            }\n        }\n    });\n}\nasync function GET(request) {\n    try {\n        const supabase = await getServerClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get('page') || '1');\n        const pageSize = parseInt(searchParams.get('pageSize') || '50');\n        const search = searchParams.get('search') || undefined;\n        const sessionId = searchParams.get('sessionId') || undefined;\n        const speaker = searchParams.get('speaker') || undefined;\n        const dateFrom = searchParams.get('dateFrom') || undefined;\n        const dateTo = searchParams.get('dateTo') || undefined;\n        const sort = searchParams.get('sort') || 'timestamp';\n        const direction = searchParams.get('direction') || 'asc';\n        const repository = new _server_repositories_transcripts__WEBPACK_IMPORTED_MODULE_3__.TranscriptsRepository(supabase);\n        // If sessionId is provided, return all transcripts for that session\n        if (sessionId) {\n            const transcripts = await repository.findBySessionId(sessionId, user.id);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                transcripts,\n                total: transcripts.length,\n                page: 1,\n                pageSize: transcripts.length,\n                totalPages: 1\n            });\n        }\n        const result = await repository.findAll({\n            filters: {\n                search,\n                sessionId,\n                speaker,\n                dateFrom,\n                dateTo\n            },\n            sort,\n            direction,\n            page,\n            pageSize,\n            userId: user.id\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error('Transcripts API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const supabase = await getServerClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n        const body = await request.json();\n        const repository = new _server_repositories_transcripts__WEBPACK_IMPORTED_MODULE_3__.TranscriptsRepository(supabase);\n        const transcript = await repository.create(body, user.id);\n        // Log activity (best-effort)\n        __webpack_require__.e(/*! import() */ \"_rsc_src_app_api__lib_log-activity_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/app/api/_lib/log-activity */ \"(rsc)/./src/app/api/_lib/log-activity.ts\")).then(async ({ logActivity })=>{\n            await logActivity(supabase, user.id, {\n                type: 'user',\n                description: `Transcript segment added`,\n                entity: transcript.session_id,\n                details: {\n                    id: transcript.id\n                }\n            });\n        }).catch(()=>{});\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(transcript, {\n            status: 201\n        });\n    } catch (error) {\n        console.error('Transcript creation error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to create transcript'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFlLEdBQUc7WUFBRUMsUUFBUTtRQUFJO1FBRTdFLE1BQU02QixPQUFPLE1BQU1yQyxRQUFRTSxJQUFJO1FBQy9CLE1BQU1rQixhQUFhLElBQUl4QyxtRkFBcUJBLENBQUNpQjtRQUM3QyxNQUFNcUMsYUFBYSxNQUFNZCxXQUFXZSxNQUFNLENBQUNGLE1BQU1sQyxLQUFLd0IsRUFBRTtRQUN4RCw2QkFBNkI7UUFDN0IsaU5BQXFDLENBQUNhLElBQUksQ0FBQyxPQUFPLEVBQUVDLFdBQVcsRUFBRTtZQUNoRSxNQUFNQSxZQUFZeEMsVUFBaUJFLEtBQUt3QixFQUFFLEVBQUU7Z0JBQzNDZSxNQUFNO2dCQUNOQyxhQUFhLENBQUMsd0JBQXdCLENBQUM7Z0JBQ3ZDQyxRQUFRLFdBQW9CQyxVQUFVO2dCQUN0Q0MsU0FBUztvQkFBRW5CLElBQUksV0FBb0JBLEVBQUU7Z0JBQUM7WUFDdkM7UUFDRCxHQUFHb0IsS0FBSyxDQUFDLEtBQU87UUFDaEIsT0FBT2xFLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDZ0MsWUFBWTtZQUFFOUIsUUFBUTtRQUFJO0lBQ3BELEVBQUUsT0FBT0QsT0FBTztRQUNmNEIsUUFBUTVCLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU8xQixxREFBWUEsQ0FBQ3lCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQThCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ2xGO0FBQ0QiLCJzb3VyY2VzIjpbIkQ6XFxEZWx0YSBJVlxcU29md2FyZXNcXGdsYXNzXFxzYW5kYm94XFxzaGFkY24tY3JtLWRhc2hib2FyZFxcc3JjXFxhcHBcXGFwaVxcdHJhbnNjcmlwdHNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xuaW1wb3J0IHsgVHJhbnNjcmlwdHNSZXBvc2l0b3J5IH0gZnJvbSAnQC9zZXJ2ZXIvcmVwb3NpdG9yaWVzL3RyYW5zY3JpcHRzJ1xuXG5hc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJDbGllbnQoKSB7XG5cdGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpXG5cdHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXG5cdFx0cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcblx0XHRwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXG5cdFx0e1xuXHRcdFx0Y29va2llczoge1xuXHRcdFx0XHRnZXRBbGwoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvb2tpZVN0b3JlLmdldEFsbCgpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNldEFsbChjb29raWVzVG9TZXQpIHtcblx0XHRcdFx0XHRjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PiBjb29raWVTdG9yZS5zZXQobmFtZSwgdmFsdWUsIG9wdGlvbnMpKVxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHR9XG5cdClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgZ2V0U2VydmVyQ2xpZW50KClcblx0XHRjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuXHRcdGlmICghdXNlcikgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcblxuXHRcdGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuXHRcdGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJzEnKVxuXHRcdGNvbnN0IHBhZ2VTaXplID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZVNpemUnKSB8fCAnNTAnKVxuXHRcdGNvbnN0IHNlYXJjaCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3NlYXJjaCcpIHx8IHVuZGVmaW5lZFxuXHRcdGNvbnN0IHNlc3Npb25JZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Nlc3Npb25JZCcpIHx8IHVuZGVmaW5lZFxuXHRcdGNvbnN0IHNwZWFrZXIgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzcGVha2VyJykgfHwgdW5kZWZpbmVkXG5cdFx0Y29uc3QgZGF0ZUZyb20gPSBzZWFyY2hQYXJhbXMuZ2V0KCdkYXRlRnJvbScpIHx8IHVuZGVmaW5lZFxuXHRcdGNvbnN0IGRhdGVUbyA9IHNlYXJjaFBhcmFtcy5nZXQoJ2RhdGVUbycpIHx8IHVuZGVmaW5lZFxuXHRcdGNvbnN0IHNvcnQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzb3J0JykgfHwgJ3RpbWVzdGFtcCdcblx0XHRjb25zdCBkaXJlY3Rpb24gPSAoc2VhcmNoUGFyYW1zLmdldCgnZGlyZWN0aW9uJykgfHwgJ2FzYycpIGFzICdhc2MnIHwgJ2Rlc2MnXG5cblx0XHRjb25zdCByZXBvc2l0b3J5ID0gbmV3IFRyYW5zY3JpcHRzUmVwb3NpdG9yeShzdXBhYmFzZSlcblx0XHRcblx0XHQvLyBJZiBzZXNzaW9uSWQgaXMgcHJvdmlkZWQsIHJldHVybiBhbGwgdHJhbnNjcmlwdHMgZm9yIHRoYXQgc2Vzc2lvblxuXHRcdGlmIChzZXNzaW9uSWQpIHtcblx0XHRcdGNvbnN0IHRyYW5zY3JpcHRzID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlTZXNzaW9uSWQoc2Vzc2lvbklkLCB1c2VyLmlkKVxuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcblx0XHRcdFx0dHJhbnNjcmlwdHMsXG5cdFx0XHRcdHRvdGFsOiB0cmFuc2NyaXB0cy5sZW5ndGgsXG5cdFx0XHRcdHBhZ2U6IDEsXG5cdFx0XHRcdHBhZ2VTaXplOiB0cmFuc2NyaXB0cy5sZW5ndGgsXG5cdFx0XHRcdHRvdGFsUGFnZXM6IDFcblx0XHRcdH0pXG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEFsbCh7XG5cdFx0XHRmaWx0ZXJzOiB7IHNlYXJjaCwgc2Vzc2lvbklkLCBzcGVha2VyLCBkYXRlRnJvbSwgZGF0ZVRvIH0sXG5cdFx0XHRzb3J0LFxuXHRcdFx0ZGlyZWN0aW9uLFxuXHRcdFx0cGFnZSxcblx0XHRcdHBhZ2VTaXplLFxuXHRcdFx0dXNlcklkOiB1c2VyLmlkXG5cdFx0fSlcblxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHQpXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignVHJhbnNjcmlwdHMgQVBJIGVycm9yOicsIGVycm9yKVxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFNlcnZlckNsaWVudCgpXG5cdFx0Y29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcblx0XHRpZiAoIXVzZXIpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXG5cblx0XHRjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblx0XHRjb25zdCByZXBvc2l0b3J5ID0gbmV3IFRyYW5zY3JpcHRzUmVwb3NpdG9yeShzdXBhYmFzZSlcblx0XHRjb25zdCB0cmFuc2NyaXB0ID0gYXdhaXQgcmVwb3NpdG9yeS5jcmVhdGUoYm9keSwgdXNlci5pZClcblx0XHQvLyBMb2cgYWN0aXZpdHkgKGJlc3QtZWZmb3J0KVxuXHRcdGltcG9ydCgnQC9hcHAvYXBpL19saWIvbG9nLWFjdGl2aXR5JykudGhlbihhc3luYyAoeyBsb2dBY3Rpdml0eSB9KSA9PiB7XG5cdFx0XHRhd2FpdCBsb2dBY3Rpdml0eShzdXBhYmFzZSBhcyBhbnksIHVzZXIuaWQsIHtcblx0XHRcdFx0dHlwZTogJ3VzZXInLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogYFRyYW5zY3JpcHQgc2VnbWVudCBhZGRlZGAgLFxuXHRcdFx0XHRlbnRpdHk6ICh0cmFuc2NyaXB0IGFzIGFueSkuc2Vzc2lvbl9pZCxcblx0XHRcdFx0ZGV0YWlsczogeyBpZDogKHRyYW5zY3JpcHQgYXMgYW55KS5pZCB9XG5cdFx0XHR9KVxuXHRcdH0pLmNhdGNoKCgpID0+IHt9KVxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih0cmFuc2NyaXB0LCB7IHN0YXR1czogMjAxIH0pXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignVHJhbnNjcmlwdCBjcmVhdGlvbiBlcnJvcjonLCBlcnJvcilcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgdHJhbnNjcmlwdCcgfSwgeyBzdGF0dXM6IDUwMCB9KVxuXHR9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiY29va2llcyIsIlRyYW5zY3JpcHRzUmVwb3NpdG9yeSIsImdldFNlcnZlckNsaWVudCIsImNvb2tpZVN0b3JlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0QWxsIiwic2V0QWxsIiwiY29va2llc1RvU2V0IiwiZm9yRWFjaCIsIm5hbWUiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJzZXQiLCJHRVQiLCJyZXF1ZXN0Iiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsInBhcnNlSW50IiwiZ2V0IiwicGFnZVNpemUiLCJzZWFyY2giLCJ1bmRlZmluZWQiLCJzZXNzaW9uSWQiLCJzcGVha2VyIiwiZGF0ZUZyb20iLCJkYXRlVG8iLCJzb3J0IiwiZGlyZWN0aW9uIiwicmVwb3NpdG9yeSIsInRyYW5zY3JpcHRzIiwiZmluZEJ5U2Vzc2lvbklkIiwiaWQiLCJ0b3RhbCIsImxlbmd0aCIsInRvdGFsUGFnZXMiLCJyZXN1bHQiLCJmaW5kQWxsIiwiZmlsdGVycyIsInVzZXJJZCIsImNvbnNvbGUiLCJQT1NUIiwiYm9keSIsInRyYW5zY3JpcHQiLCJjcmVhdGUiLCJ0aGVuIiwibG9nQWN0aXZpdHkiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJlbnRpdHkiLCJzZXNzaW9uX2lkIiwiZGV0YWlscyIsImNhdGNoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/transcripts/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/repositories/transcripts.ts":
/*!************************************************!*\
  !*** ./src/server/repositories/transcripts.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TranscriptsRepository: () => (/* binding */ TranscriptsRepository)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/.pnpm/@supabase+supabase-js@2.57.4/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Use untyped client until schema is applied and types regenerated\nconst supabaseUrl = \"https://hewpwluinbwaizwqhmjc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld3B3bHVpbmJ3YWl6d3FobWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTU5NTEsImV4cCI6MjA3MjQ5MTk1MX0.jhKzLYPdixxI8zcH20kkzL1WgP9RB33FeHtO0FRY7r4\";\nconst defaultClient = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\nfunction mapDbTranscript(row) {\n    return {\n        id: row.id,\n        session_id: row.session_id,\n        content_enc: row.text_enc,\n        speaker: row.speaker,\n        timestamp: row.created_at,\n        created_at: row.created_at\n    };\n}\nclass TranscriptsRepository {\n    constructor(supabase = defaultClient){\n        this.supabase = supabase;\n    }\n    async findAll(options) {\n        const { filters = {}, sort = 'created_at', direction = 'asc', page = 1, pageSize = 50 } = options;\n        const sortColumn = [\n            'created_at'\n        ].includes(sort) ? sort : 'created_at';\n        let query = this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at', {\n            count: 'exact'\n        });\n        if (filters.sessionId) {\n            query = query.eq('session_id', filters.sessionId);\n        }\n        if (filters.search) {\n            query = query.ilike('text_enc', `%${filters.search}%`);\n        }\n        if (filters.speaker) {\n            query = query.eq('speaker', filters.speaker);\n        }\n        if (filters.dateFrom) {\n            query = query.gte('created_at', filters.dateFrom);\n        }\n        if (filters.dateTo) {\n            query = query.lte('created_at', filters.dateTo);\n        }\n        query = query.order(sortColumn, {\n            ascending: direction === 'asc'\n        });\n        const from = (page - 1) * pageSize;\n        const to = from + pageSize - 1;\n        query = query.range(from, to);\n        const { data: rows, error, count } = await query;\n        if (error) throw new Error(`Failed to fetch transcripts: ${error.message}`);\n        const transcripts = (rows || []).map(mapDbTranscript);\n        const total = count || 0;\n        const totalPages = Math.ceil(total / pageSize);\n        return {\n            transcripts,\n            total,\n            page,\n            pageSize,\n            totalPages\n        };\n    }\n    async findBySessionId(sessionId, _userId) {\n        const { data: rows, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('session_id', sessionId).order('created_at', {\n            ascending: true\n        });\n        if (error) throw new Error(`Failed to fetch session transcripts: ${error.message}`);\n        return (rows || []).map(mapDbTranscript);\n    }\n    async findById(id, _userId) {\n        const { data: row, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('id', id).single();\n        if (error) {\n            if (error.code === 'PGRST116') return null;\n            throw new Error(`Failed to fetch transcript: ${error.message}`);\n        }\n        return mapDbTranscript(row);\n    }\n    async create(transcriptData, _userId) {\n        const sessionId = transcriptData.session_id;\n        const speaker = transcriptData.speaker || 'Speaker';\n        const textEnc = transcriptData.content_enc || transcriptData.text_enc;\n        const clientTranscriptId = transcriptData.client_transcript_id || transcriptData.clientId || null;\n        let newId = null;\n        let rpcErr = null;\n        if (clientTranscriptId) {\n            const { data, error } = await this.supabase.rpc('add_transcript_safe', {\n                p_session_id: sessionId,\n                p_speaker: speaker,\n                p_text_enc: textEnc,\n                p_client_transcript_id: clientTranscriptId\n            });\n            newId = data;\n            rpcErr = error;\n            if (rpcErr) {\n                const fallback = await this.supabase.rpc('add_transcript', {\n                    session_id: sessionId,\n                    speaker,\n                    text_enc: textEnc\n                });\n                newId = fallback.data;\n                rpcErr = fallback.error;\n            }\n        } else {\n            const res = await this.supabase.rpc('add_transcript', {\n                session_id: sessionId,\n                speaker,\n                text_enc: textEnc\n            });\n            newId = res.data;\n            rpcErr = res.error;\n        }\n        if (rpcErr) throw new Error(`Failed to create transcript: ${rpcErr.message}`);\n        const { data: row, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('id', newId).single();\n        if (error) throw new Error(`Failed to fetch created transcript: ${error.message}`);\n        return mapDbTranscript(row);\n    }\n    async update(id, transcriptData, _userId) {\n        const updates = {};\n        if (transcriptData.content_enc) updates.text_enc = transcriptData.content_enc;\n        if (transcriptData.speaker) updates.speaker = transcriptData.speaker;\n        const { error: updErr } = await this.supabase.from('transcripts').update(updates).eq('id', id);\n        if (updErr) throw new Error(`Failed to update transcript: ${updErr.message}`);\n        const { data: row, error } = await this.supabase.from('transcripts').select('id,session_id,speaker,text_enc,created_at').eq('id', id).single();\n        if (error) throw new Error(`Failed to fetch transcript: ${error.message}`);\n        return mapDbTranscript(row);\n    }\n    async delete(id, _userId) {\n        const { error } = await this.supabase.from('transcripts').delete().eq('id', id);\n        if (error) throw new Error(`Failed to delete transcript: ${error.message}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3JlcG9zaXRvcmllcy90cmFuc2NyaXB0cy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUVwRCxtRUFBbUU7QUFDbkUsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLGdCQUFnQlAsbUVBQVlBLENBQUNDLGFBQWFJO0FBMEJoRCxTQUFTRyxnQkFBZ0JDLEdBQVE7SUFDaEMsT0FBTztRQUNOQyxJQUFJRCxJQUFJQyxFQUFFO1FBQ1ZDLFlBQVlGLElBQUlFLFVBQVU7UUFDMUJDLGFBQWFILElBQUlJLFFBQVE7UUFDekJDLFNBQVNMLElBQUlLLE9BQU87UUFDcEJDLFdBQVdOLElBQUlPLFVBQVU7UUFDekJBLFlBQVlQLElBQUlPLFVBQVU7SUFDM0I7QUFDRDtBQUVPLE1BQU1DO0lBQ1pDLFlBQVksV0FBc0NYLGFBQWEsQ0FBRTthQUE3Q1ksV0FBQUE7SUFBOEM7SUFFbEUsTUFBTUMsUUFBUUMsT0FBOEIsRUFNekM7UUFDRixNQUFNLEVBQ0xDLFVBQVUsQ0FBQyxDQUFDLEVBQ1pDLE9BQU8sWUFBWSxFQUNuQkMsWUFBWSxLQUFLLEVBQ2pCQyxPQUFPLENBQUMsRUFDUkMsV0FBVyxFQUFFLEVBQ2IsR0FBR0w7UUFFSixNQUFNTSxhQUFhO1lBQUM7U0FBYSxDQUFDQyxRQUFRLENBQUNMLFFBQVFBLE9BQU87UUFFMUQsSUFBSU0sUUFBUSxJQUFJLENBQUNWLFFBQVEsQ0FDdkJXLElBQUksQ0FBQyxlQUNMQyxNQUFNLENBQUMsNkNBQTZDO1lBQUVDLE9BQU87UUFBUTtRQUV2RSxJQUFJVixRQUFRVyxTQUFTLEVBQUU7WUFDdEJKLFFBQVFBLE1BQU1LLEVBQUUsQ0FBQyxjQUFjWixRQUFRVyxTQUFTO1FBQ2pEO1FBRUEsSUFBSVgsUUFBUWEsTUFBTSxFQUFFO1lBQ25CTixRQUFRQSxNQUFNTyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRWQsUUFBUWEsTUFBTSxDQUFDLENB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QU0sRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDM0QsUUFBUSxDQUFDVyxJQUFJLENBQUMsZUFBZThDLE1BQU0sQ0FBQ0MsU0FBUzNDLEVBQUUsQ0FBQyxNQUFNeEI7UUFDM0YsSUFBSW9FLFFBQVEsTUFBTSxJQUFJOUIsTUFBTSxDQUFDLDZCQUE2QixFQUFFOEIsT0FBTzdCLE9BQU8sRUFBRTtRQUM1RSxNQUFNLEVBQUVKLE1BQU1wQyxHQUFHLEVBQUVzQyxLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQzVCLFFBQVEsQ0FDOUNXLElBQUksQ0FBQyxlQUNMQyxNQUFNLENBQUMsNkNBQ1BHLEVBQUUsQ0FBQyxNQUFNeEIsSUFDVGlELE1BQU07UUFDUixJQUFJWixPQUFPLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFRCxNQUFNRSxPQUFPLEVBQUU7UUFDekUsT0FBT3pDLGdCQUFnQkM7SUFDeEI7SUFFQSxNQUFNc0UsT0FBT3JFLEVBQVUsRUFBRStDLE9BQWUsRUFBaUI7UUFDeEQsTUFBTSxFQUFFVixLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQzVCLFFBQVEsQ0FBQ1csSUFBSSxDQUFDLGVBQWVpRCxNQUFNLEdBQUc3QyxFQUFFLENBQUMsTUFBTXhCO1FBQzVFLElBQUlxQyxPQUFPLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDZCQUE2QixFQUFFRCxNQUFNRSxPQUFPLEVBQUU7SUFDM0U7QUFDRCIsInNvdXJjZXMiOlsiRDpcXERlbHRhIElWXFxTb2Z3YXJlc1xcZ2xhc3NcXHNhbmRib3hcXHNoYWRjbi1jcm0tZGFzaGJvYXJkXFxzcmNcXHNlcnZlclxccmVwb3NpdG9yaWVzXFx0cmFuc2NyaXB0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbi8vIFVzZSB1bnR5cGVkIGNsaWVudCB1bnRpbCBzY2hlbWEgaXMgYXBwbGllZCBhbmQgdHlwZXMgcmVnZW5lcmF0ZWRcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIVxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG5jb25zdCBkZWZhdWx0Q2xpZW50ID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbi8vIFRlbXBvcmFyeSB0eXBlcyB1bnRpbCBzY2hlbWEgaXMgYXBwbGllZFxudHlwZSBUcmFuc2NyaXB0ID0gYW55XG50eXBlIFRyYW5zY3JpcHRJbnNlcnQgPSBhbnlcbnR5cGUgVHJhbnNjcmlwdFVwZGF0ZSA9IGFueVxuXG50eXBlIFN1cGFiYXNlQ2xpZW50QW55ID0gdHlwZW9mIGRlZmF1bHRDbGllbnRcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0RmlsdGVycyB7XG5cdHNlYXJjaD86IHN0cmluZ1xuXHRzZXNzaW9uSWQ/OiBzdHJpbmdcblx0ZGF0ZUZyb20/OiBzdHJpbmdcblx0ZGF0ZVRvPzogc3RyaW5nXG5cdHNwZWFrZXI/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0TGlzdE9wdGlvbnMge1xuXHRmaWx0ZXJzPzogVHJhbnNjcmlwdEZpbHRlcnNcblx0c29ydD86IHN0cmluZ1xuXHRkaXJlY3Rpb24/OiAnYXNjJyB8ICdkZXNjJ1xuXHRwYWdlPzogbnVtYmVyXG5cdHBhZ2VTaXplPzogbnVtYmVyXG5cdHVzZXJJZDogc3RyaW5nXG59XG5cbmZ1bmN0aW9uIG1hcERiVHJhbnNjcmlwdChyb3c6IGFueSk6IGFueSB7XG5cdHJldHVybiB7XG5cdFx0aWQ6IHJvdy5pZCxcblx0XHRzZXNzaW9uX2lkOiByb3cuc2Vzc2lvbl9pZCxcblx0XHRjb250ZW50X2VuYzogcm93LnRleHRfZW5jLFxuXHRcdHNwZWFrZXI6IHJvdy5zcGVha2VyLFxuXHRcdHRpbWVzdGFtcDogcm93LmNyZWF0ZWRfYXQsXG5cdFx0Y3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRzUmVwb3NpdG9yeSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50QW55ID0gZGVmYXVsdENsaWVudCkge31cblxuXHRhc3luYyBmaW5kQWxsKG9wdGlvbnM6IFRyYW5zY3JpcHRMaXN0T3B0aW9ucyk6IFByb21pc2U8e1xuXHRcdHRyYW5zY3JpcHRzOiBUcmFuc2NyaXB0W11cblx0XHR0b3RhbDogbnVtYmVyXG5cdFx0cGFnZTogbnVtYmVyXG5cdFx0cGFnZVNpemU6IG51bWJlclxuXHRcdHRvdGFsUGFnZXM6IG51bWJlclxuXHR9PiB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZmlsdGVycyA9IHt9LFxuXHRcdFx0c29ydCA9ICdjcmVhdGVkX2F0Jyxcblx0XHRcdGRpcmVjdGlvbiA9ICdhc2MnLFxuXHRcdFx0cGFnZSA9IDEsXG5cdFx0XHRwYWdlU2l6ZSA9IDUwLFxuXHRcdH0gPSBvcHRpb25zXG5cblx0XHRjb25zdCBzb3J0Q29sdW1uID0gWydjcmVhdGVkX2F0J10uaW5jbHVkZXMoc29ydCkgPyBzb3J0IDogJ2NyZWF0ZWRfYXQnXG5cblx0XHRsZXQgcXVlcnkgPSB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgndHJhbnNjcmlwdHMnKVxuXHRcdFx0LnNlbGVjdCgnaWQsc2Vzc2lvbl9pZCxzcGVha2VyLHRleHRfZW5jLGNyZWF0ZWRfYXQnLCB7IGNvdW50OiAnZXhhY3QnIH0pXG5cblx0XHRpZiAoZmlsdGVycy5zZXNzaW9uSWQpIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuZXEoJ3Nlc3Npb25faWQnLCBmaWx0ZXJzLnNlc3Npb25JZClcblx0XHR9XG5cblx0XHRpZiAoZmlsdGVycy5zZWFyY2gpIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuaWxpa2UoJ3RleHRfZW5jJywgYCUke2ZpbHRlcnMuc2VhcmNofSVgKVxuXHRcdH1cblxuXHRcdGlmIChmaWx0ZXJzLnNwZWFrZXIpIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuZXEoJ3NwZWFrZXInLCBmaWx0ZXJzLnNwZWFrZXIpXG5cdFx0fVxuXG5cdFx0aWYgKGZpbHRlcnMuZGF0ZUZyb20pIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuZ3RlKCdjcmVhdGVkX2F0JywgZmlsdGVycy5kYXRlRnJvbSlcblx0XHR9XG5cblx0XHRpZiAoZmlsdGVycy5kYXRlVG8pIHtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkubHRlKCdjcmVhdGVkX2F0JywgZmlsdGVycy5kYXRlVG8pXG5cdFx0fVxuXG5cdFx0cXVlcnkgPSBxdWVyeS5vcmRlcihzb3J0Q29sdW1uLCB7IGFzY2VuZGluZzogZGlyZWN0aW9uID09PSAnYXNjJyB9KVxuXG5cdFx0Y29uc3QgZnJvbSA9IChwYWdlIC0gMSkgKiBwYWdlU2l6ZVxuXHRcdGNvbnN0IHRvID0gZnJvbSArIHBhZ2VTaXplIC0gMVxuXHRcdHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pXG5cblx0XHRjb25zdCB7IGRhdGE6IHJvd3MsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHRyYW5zY3JpcHRzOiAke2Vycm9yLm1lc3NhZ2V9YClcblxuXHRcdGNvbnN0IHRyYW5zY3JpcHRzID0gKHJvd3MgfHwgW10pLm1hcChtYXBEYlRyYW5zY3JpcHQpXG5cdFx0Y29uc3QgdG90YWwgPSBjb3VudCB8fCAwXG5cdFx0Y29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIHBhZ2VTaXplKVxuXG5cdFx0cmV0dXJuIHsgdHJhbnNjcmlwdHMsIHRvdGFsLCBwYWdlLCBwYWdlU2l6ZSwgdG90YWxQYWdlcyB9XG5cdH1cblxuXHRhc3luYyBmaW5kQnlTZXNzaW9uSWQoc2Vzc2lvbklkOiBzdHJpbmcsIF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VHJhbnNjcmlwdFtdPiB7XG5cdFx0Y29uc3QgeyBkYXRhOiByb3dzLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXHRcdFx0LmZyb20oJ3RyYW5zY3JpcHRzJylcblx0XHRcdC5zZWxlY3QoJ2lkLHNlc3Npb25faWQsc3BlYWtlcix0ZXh0X2VuYyxjcmVhdGVkX2F0Jylcblx0XHRcdC5lcSgnc2Vzc2lvbl9pZCcsIHNlc3Npb25JZClcblx0XHRcdC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cdFx0aWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBzZXNzaW9uIHRyYW5zY3JpcHRzOiAke2Vycm9yLm1lc3NhZ2V9YClcblx0XHRyZXR1cm4gKHJvd3MgfHwgW10pLm1hcChtYXBEYlRyYW5zY3JpcHQpXG5cdH1cblxuXHRhc3luYyBmaW5kQnlJZChpZDogc3RyaW5nLCBfdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFRyYW5zY3JpcHQgfCBudWxsPiB7XG5cdFx0Y29uc3QgeyBkYXRhOiByb3csIGVycm9yIH0gPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgndHJhbnNjcmlwdHMnKVxuXHRcdFx0LnNlbGVjdCgnaWQsc2Vzc2lvbl9pZCxzcGVha2VyLHRleHRfZW5jLGNyZWF0ZWRfYXQnKVxuXHRcdFx0LmVxKCdpZCcsIGlkKVxuXHRcdFx0LnNpbmdsZSgpXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRpZiAoKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGxcblx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHRyYW5zY3JpcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdH1cblx0XHRyZXR1cm4gbWFwRGJUcmFuc2NyaXB0KHJvdylcblx0fVxuXG5cdGFzeW5jIGNyZWF0ZSh0cmFuc2NyaXB0RGF0YTogVHJhbnNjcmlwdEluc2VydCwgX3VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxUcmFuc2NyaXB0PiB7XG5cdFx0Y29uc3Qgc2Vzc2lvbklkID0gKHRyYW5zY3JpcHREYXRhIGFzIGFueSkuc2Vzc2lvbl9pZFxuXHRcdGNvbnN0IHNwZWFrZXIgPSAodHJhbnNjcmlwdERhdGEgYXMgYW55KS5zcGVha2VyIHx8ICdTcGVha2VyJ1xuXHRcdGNvbnN0IHRleHRFbmMgPSAodHJhbnNjcmlwdERhdGEgYXMgYW55KS5jb250ZW50X2VuYyB8fCAodHJhbnNjcmlwdERhdGEgYXMgYW55KS50ZXh0X2VuY1xuXG5cdFx0Y29uc3QgY2xpZW50VHJhbnNjcmlwdElkID0gKHRyYW5zY3JpcHREYXRhIGFzIGFueSkuY2xpZW50X3RyYW5zY3JpcHRfaWQgfHwgKHRyYW5zY3JpcHREYXRhIGFzIGFueSkuY2xpZW50SWQgfHwgbnVsbFxuXG5cdFx0bGV0IG5ld0lkOiBhbnkgPSBudWxsXG5cdFx0bGV0IHJwY0VycjogYW55ID0gbnVsbFxuXG5cdFx0aWYgKGNsaWVudFRyYW5zY3JpcHRJZCkge1xuXHRcdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgKHRoaXMuc3VwYWJhc2UgYXMgYW55KVxuXHRcdFx0XHQucnBjKCdhZGRfdHJhbnNjcmlwdF9zYWZlJywgeyBwX3Nlc3Npb25faWQ6IHNlc3Npb25JZCwgcF9zcGVha2VyOiBzcGVha2VyLCBwX3RleHRfZW5jOiB0ZXh0RW5jLCBwX2NsaWVudF90cmFuc2NyaXB0X2lkOiBjbGllbnRUcmFuc2NyaXB0SWQgfSlcblx0XHRcdG5ld0lkID0gZGF0YVxuXHRcdFx0cnBjRXJyID0gZXJyb3Jcblx0XHRcdGlmIChycGNFcnIpIHtcblx0XHRcdFx0Y29uc3QgZmFsbGJhY2sgPSBhd2FpdCAodGhpcy5zdXBhYmFzZSBhcyBhbnkpXG5cdFx0XHRcdFx0LnJwYygnYWRkX3RyYW5zY3JpcHQnLCB7IHNlc3Npb25faWQ6IHNlc3Npb25JZCwgc3BlYWtlciwgdGV4dF9lbmM6IHRleHRFbmMgfSlcblx0XHRcdFx0bmV3SWQgPSBmYWxsYmFjay5kYXRhXG5cdFx0XHRcdHJwY0VyciA9IGZhbGxiYWNrLmVycm9yXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0ICh0aGlzLnN1cGFiYXNlIGFzIGFueSlcblx0XHRcdFx0LnJwYygnYWRkX3RyYW5zY3JpcHQnLCB7IHNlc3Npb25faWQ6IHNlc3Npb25JZCwgc3BlYWtlciwgdGV4dF9lbmM6IHRleHRFbmMgfSlcblx0XHRcdG5ld0lkID0gcmVzLmRhdGFcblx0XHRcdHJwY0VyciA9IHJlcy5lcnJvclxuXHRcdH1cblx0XHRpZiAocnBjRXJyKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdHJhbnNjcmlwdDogJHtycGNFcnIubWVzc2FnZX1gKVxuXG5cdFx0Y29uc3QgeyBkYXRhOiByb3csIGVycm9yIH0gPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cdFx0XHQuZnJvbSgndHJhbnNjcmlwdHMnKVxuXHRcdFx0LnNlbGVjdCgnaWQsc2Vzc2lvbl9pZCxzcGVha2VyLHRleHRfZW5jLGNyZWF0ZWRfYXQnKVxuXHRcdFx0LmVxKCdpZCcsIG5ld0lkKVxuXHRcdFx0LnNpbmdsZSgpXG5cdFx0aWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBjcmVhdGVkIHRyYW5zY3JpcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdHJldHVybiBtYXBEYlRyYW5zY3JpcHQocm93KVxuXHR9XG5cblx0YXN5bmMgdXBkYXRlKGlkOiBzdHJpbmcsIHRyYW5zY3JpcHREYXRhOiBUcmFuc2NyaXB0VXBkYXRlLCBfdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFRyYW5zY3JpcHQ+IHtcblx0XHRjb25zdCB1cGRhdGVzOiBhbnkgPSB7fVxuXHRcdGlmICgodHJhbnNjcmlwdERhdGEgYXMgYW55KS5jb250ZW50X2VuYykgdXBkYXRlcy50ZXh0X2VuYyA9ICh0cmFuc2NyaXB0RGF0YSBhcyBhbnkpLmNvbnRlbnRfZW5jXG5cdFx0aWYgKCh0cmFuc2NyaXB0RGF0YSBhcyBhbnkpLnNwZWFrZXIpIHVwZGF0ZXMuc3BlYWtlciA9ICh0cmFuc2NyaXB0RGF0YSBhcyBhbnkpLnNwZWFrZXJcblx0XHRjb25zdCB7IGVycm9yOiB1cGRFcnIgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2UuZnJvbSgndHJhbnNjcmlwdHMnKS51cGRhdGUodXBkYXRlcykuZXEoJ2lkJywgaWQpXG5cdFx0aWYgKHVwZEVycikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIHRyYW5zY3JpcHQ6ICR7dXBkRXJyLm1lc3NhZ2V9YClcblx0XHRjb25zdCB7IGRhdGE6IHJvdywgZXJyb3IgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2Vcblx0XHRcdC5mcm9tKCd0cmFuc2NyaXB0cycpXG5cdFx0XHQuc2VsZWN0KCdpZCxzZXNzaW9uX2lkLHNwZWFrZXIsdGV4dF9lbmMsY3JlYXRlZF9hdCcpXG5cdFx0XHQuZXEoJ2lkJywgaWQpXG5cdFx0XHQuc2luZ2xlKClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHRyYW5zY3JpcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuXHRcdHJldHVybiBtYXBEYlRyYW5zY3JpcHQocm93KVxuXHR9XG5cblx0YXN5bmMgZGVsZXRlKGlkOiBzdHJpbmcsIF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHRoaXMuc3VwYWJhc2UuZnJvbSgndHJhbnNjcmlwdHMnKS5kZWxldGUoKS5lcSgnaWQnLCBpZClcblx0XHRpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSB0cmFuc2NyaXB0OiAke2Vycm9yLm1lc3NhZ2V9YClcblx0fVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZGVmYXVsdENsaWVudCIsIm1hcERiVHJhbnNjcmlwdCIsInJvdyIsImlkIiwic2Vzc2lvbl9pZCIsImNvbnRlbnRfZW5jIiwidGV4dF9lbmMiLCJzcGVha2VyIiwidGltZXN0YW1wIiwiY3JlYXRlZF9hdCIsIlRyYW5zY3JpcHRzUmVwb3NpdG9yeSIsImNvbnN0cnVjdG9yIiwic3VwYWJhc2UiLCJmaW5kQWxsIiwib3B0aW9ucyIsImZpbHRlcnMiLCJzb3J0IiwiZGlyZWN0aW9uIiwicGFnZSIsInBhZ2VTaXplIiwic29ydENvbHVtbiIsImluY2x1ZGVzIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiY291bnQiLCJzZXNzaW9uSWQiLCJlcSIsInNlYXJjaCIsImlsaWtlIiwiZGF0ZUZyb20iLCJndGUiLCJkYXRlVG8iLCJsdGUiLCJvcmRlciIsImFzY2VuZGluZyIsInRvIiwicmFuZ2UiLCJkYXRhIiwicm93cyIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidHJhbnNjcmlwdHMiLCJtYXAiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImZpbmRCeVNlc3Npb25JZCIsIl91c2VySWQiLCJmaW5kQnlJZCIsInNpbmdsZSIsImNvZGUiLCJjcmVhdGUiLCJ0cmFuc2NyaXB0RGF0YSIsInRleHRFbmMiLCJjbGllbnRUcmFuc2NyaXB0SWQiLCJjbGllbnRfdHJhbnNjcmlwdF9pZCIsImNsaWVudElkIiwibmV3SWQiLCJycGNFcnIiLCJycGMiLCJwX3Nlc3Npb25faWQiLCJwX3NwZWFrZXIiLCJwX3RleHRfZW5jIiwicF9jbGllbnRfdHJhbnNjcmlwdF9pZCIsImZhbGxiYWNrIiwicmVzIiwidXBkYXRlIiwidXBkYXRlcyIsInVwZEVyciIsImRlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/repositories/transcripts.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1","vendor-chunks/tr46@0.0.3","vendor-chunks/@supabase+auth-js@2.71.1","vendor-chunks/@supabase+realtime-js@2.15.5","vendor-chunks/@supabase+postgrest-js@1.21.4","vendor-chunks/@supabase+node-fetch@2.6.15","vendor-chunks/@supabase+storage-js@2.12.1","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/@supabase+ssr@0.7.0_@supabase+supabase-js@2.57.4","vendor-chunks/@supabase+supabase-js@2.57.4","vendor-chunks/cookie@1.0.2","vendor-chunks/@supabase+functions-js@2.4.6","vendor-chunks/webidl-conversions@3.0.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.2_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftranscripts%2Froute&page=%2Fapi%2Ftranscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftranscripts%2Froute.ts&appDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CDelta%20IV%5CSofwares%5Cglass%5Csandbox%5Cshadcn-crm-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();